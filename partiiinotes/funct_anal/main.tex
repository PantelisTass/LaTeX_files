\documentclass{article}
\input{preamble}
%\AtBeginDocument{\AtBeginShipoutNext{\AtBeginShipoutDiscard}\addtocounter{page}{-1}}
\fancyhead{}
\fancyhead[L]{\text{Functional Analysis}}
\fancyhead[R]{\text{Pantelis Tassopoulos}}

\title{\Huge Part III Functional Analysis \\ 
\huge Based on lectures by A. Zs\'{ak}}
\author{\Large Notes taken by Pantelis Tassopoulos}
\date{\Large Michaelmas 2023}

\begin{document}

\maketitle

\begin{center}
\textit{These notes are produced entirely from the course I took, and my subsequent thoughts. They are not necessarily an accurate representation of what was presented, and may have in places been substantially edited. All errors are almost surely mine. Please send any corrections to pkt28@cam.ac.uk.}

\end{center}

\noindent This course covers many of the major theorems of abstract Functional Analysis. It is intended to provide a foundation for several areas of pure and applied mathematics. The following topics are covered:\\

\noindent Hahn–Banach Theorems on the extension of linear functionals. Locally convex spaces.\\

\noindent Duals of the spaces $L_p(\mu)$ and $C(K)$. The Radon–Nikodym Theorem and the Riesz Represen-
tation Theorem.\\

\noindent Weak and weak-* topologies. Theorems of Mazur, Goldstine, Banach–Alaoglu. Reflexivity and
local reflexivity.\\

\noindent Hahn–Banach Theorems on separation of convex sets. Extreme points and the Krein–Milman
theorem. Partial converse and the Banach–Stone Theorem.\\

\noindent Banach algebras, elementary spectral theory. Commutative Banach algebras and the Gelfand
representation theorem. Holomorphic functional calculus.\\

\noindent Hilbert space operators, $C^*$-algebras. The Gelfand–Naimark theorem. Spectral theorem for
commutative $C^*$-algebras. Spectral theorem and Borel functional calculus for normal operators.\\

\noindent \textbf{Prerequisites}\\

\noindent Thorough grounding in basic topology and analysis. Some knowledge of basic functional analysis
and basic measure theory (most of which was recalled either in lectures or via handouts). In Spectral Theory we will make use of basic complex analysis. For example, Cauchy’s Theorem,
Cauchy’s Integral Formula and the Maximum Modulus Principle.\\

\noindent \textbf{Literature}

\begin{enumerate}
    \item Allan, Graham R. \textit{Introduction to Banach spaces and algebras (prepared for publication by H. Garth Dales).} Oxford University Press, 2011.
    \item Bollob\'{a}s, B\'{e}la \textit{Linear analysis: an introductory course.} Cambridge University Press, 1990.
    \item Murphy, Gerard J. \textit{$C^*$-Algebras and Operator Theory.} Academic Press, Inc., 1990.
    \item Rudin, Walter \textit{Real \& Complex Analysis.} McGraw-Hill, 1987.
    \item Rudin, Walter \textit{Functional Analysis.} McGraw-Hill, 1990.
    \item Taylor, S. J. \textit{Introduction to measure and integration.} Cambridge University Press 1973.
\end{enumerate}

\newpage %\newpage
\tableofcontents

\newpage 
\section{Hahn-Banach Extension Theorems}

\mymark{Lecture 1}  We start with setting up some notation. 

\begin{enumerate}
    \item Let $X$ be a normed space. The dual space of $X$ is denoted by $X^*$ and is the space of all bounded linear functionals on $X$. Observe that $X^*$ is always a Banach space in the operator norm
    $$\norm{f} = \sup\{|f(x)|: x\in \unitball{X}\}, \quad f \in X^{*}.$$
    Recall that $\unitball{X} = \{x \in X : \norm{x} \leq 1\}$ (the unit ball in $X$), and $\unitsphere{X} = \{x \in X : \norm{x} = 1\}$ (the unit sphere in $X$). 
    \item Let $X, Y$ be normed spaces. We write
    $X\sim Y$ if $X, Y$ are \textit{isomorphic}, i.e. there exists a linear bijection $T:X\to Y$ s.t. $T, T^{-1}$ are continuous in the norm topologies.
    \item Let $X, Y$ be normed spaces. We write
    $X\cong Y$ if $X, Y$ are \textit{isometrically isomorphic}, i.e. there exists a surjective linear map $T:X\to Y$ s.t. $\norm{Tx}=\norm{x}$ for all $x\in X$.
    \item For $x\in X$, we write $\bracket{x}{f} = f(x)$. Note that $\bracket{x}{f} = |f(x)|\leq \norm{f}\cdot\norm{x}$.
\end{enumerate}

\begin{examplesblock}{Examples:}\label{examples: 1}
    \begin{enumerate}
    \item For $1<p,q<\infty$ with $\frac{1}{p}+\frac{1}{q}=1$, then $\ell_p^*\cong\ell_q$ (isometrically isomorphic)
    \item If $H$ is a Hilbert space, then $H^*\cong H$ (conjugate linear in the complex case).
\end{enumerate}
\end{examplesblock}

\begin{boxdef}
Let $X$ be a real vector space. A functional $p:X\to \R$ is:
\begin{enumerate}[label=(\roman*)]
    \item positive homogeneous if $p(tx) = tp(x)$ for all $x\in X$ and $t>0$
    \item sub-additive if $p(x+y)\leq p(x)+p(y)$ for all $x,y\in X$.
\end{enumerate}
\end{boxdef}


\begin{theorem}\label{thm: Hahn Banach sub-additive real case}
Let $X$ be a real vector space and $p:X\to \R$ be positive homogeneous and sub-additive. Let $Y\leq X$ and $g:Y\to \R$ be a linear functional s.t. $g(y)\leq p(y)$ for all $y\in Y$. Then, there exists linear $f:X\to\R$ s.t. $\restr{f}{Y} = g$ and  $f(x)\leq p(x)$ for all $x\in X$.
\end{theorem}

Recall now Zorn's lemma, which is needed to prove Theorem \ref{thm: Hahn Banach sub-additive real case} in complete generality. Let $(P, \leq)$ be a poset. 
\begin{itemize}
    \item If $A\subset \mathcal{P}$, $x\in P$, then $x$ is an \textit{upper bound} for $A$ if for all $x\in A$, $a\leq x$.
    \item $x$ is a \textit{maximal element} if for all $y\in P$, $y\geq x$ implies $y=x$
    \item A collection of subsets $\mathcal{C}$ of $P$ is called a \textit{chain} if for any two subsets $C, D\in\mathcal{C}$, either $C\subseteq D$ or vice versa.
\end{itemize}

\begin{boxlemma}[Zorn]\label{Lemma: Zorn}
If $P\neq\emptyset$ and every non-empty chain has an upper bound, then $P$ has a maximal element.
\end{boxlemma}

\begin{proof}[Proof of Theorem \ref{thm: Hahn Banach sub-additive real case}]
    Let $P$ be the set of pairs $(Z, h)$ where $Z$ is a subspace of $X$ with $Y\subseteq Z$, $h:Z\to \R$ linear, $\restr{h}{Y} = g$ and for all $z\in Z$, $h(z)\leq p(z)$. Observe that $P$ is partially ordered by 
    $$(Z_1, h_1)\leq (Z_2, h_2)\iff Z_1\subseteq Z_2, \quad \restr{h_2}{Z_1} = h_1.$$
    Also, we have $P\neq \emptyset$ since $(Y, g)$ is in $P$. If $\{(Z_i, h_i)\}_{i\in I}$ is a chain in $P$ with $I\neq\emptyset$, then setting $Z = \displaystyle \displaystyle\bigcup_{i\in I}Z_i$ and $h:Z\to \R$ by requiring that $\restr{h}{Z_i}=h_i$, for $i\in I$, we have that $(Z, h)$ is in $P$ and it is an upper bound for the chain. So by Zorn, $P$ has a maximal element $(Z, h)$.\\
    
    It suffices to show that $Z=X$. Suppose not, and fix $x\in X/Z$. Let $W=\spn(Z\displaystyle\cup\{x\})$ and $f:W\to\R$, $f(z+\lambda x)=h(z)+\lambda\alpha$, for $z\in Z$, $\lambda\in\R$ for some $\alpha\in\R$. We seek $\alpha\in\R$ s.t. \allin{w}{W}, $f(w)\leq p(w)$. Then, \inmath{(W, f)}{P} and $(W, f)$ is strictly bigger than $(Z, h)$, which would establish a contradiction. \\
    
    \noindent\underline{Need}: $h(z)+\lambda\alpha\leq p(z+\lambda\alpha)$ \allin{z,\lambda}{\R}. Since $p$ is positive homogeneous, this is equivalent to:
    $$
    \left\{\begin{array}{lr}
        h(z)+\alpha \leq p(z+x)\\
        h(z)-\alpha \leq p(z-x)
    \end{array}\right\} \text{ for all } z \text{ in } Z.
    $$ 
    That is, $h(y)-p(y-x)\leq \alpha \leq p(z+x)-h(z)$ \allin{y,z}{Z}. This holds since, for \inmath{y,z}{Z}:
    $$
    h(y)+h(z)=h(y+z)\leq p(y+z)=p(y-x+z+x)\leq p(y-x)+p(z+x).
    $$
\end{proof}

\begin{boxdef}\label{def: seminorm}
    Let $X$ be a real or complex vector space. A semi-norm on $X$ is a functional $p:X\to\R$ s.t.:
    \begin{itemize}
        \item \allin{x}{X}, $p(x)\geq 0$
        \item \allin{x}{X} and all \inmath{\lambda}{\R}, $p(\lambda x)= |\lambda|\cdot p(x)$
        \item \allin{x,y}{X}, $p(x+y)\leq p(x)+p(y)$.
    \end{itemize}    
\end{boxdef}

Note: $Norm \implies seminorm \implies (sub-additive \: \& \: positive \: homogeneous)$

\begin{theorem}[Hahn Banach]\label{thm: Hahn Banach}
Let $X$ be a real of complex vector space and $p$ be a semi-norm on $X$. Let $Y$ be a subspace of $X$ and $g: Y\to\C$ linear s.t. \allin{y}{Y} $|g(y)|\leq p(y)$. Then \isthere linear functional $f$ on $X$ s.t. $\restr{f}{Y}=g$ and \allin{x}{X} $|f(x)|\leq p(x)$.   
\end{theorem}

\begin{proof}
    \mymark{Lecture 2} \noindent\underline{Real case}: \allin{y}{Y} $g(y)\leq |g(y)|\leq p(y)$. By Theorem \ref{thm: Hahn Banach sub-additive real case} \isthere linear functional $f:X\to\R$ s.t. $\restr{f}{Y}=g$ and \allin{x}{X} $f(x)=p(x)$. For \inmath{x}{X}, we have also $-f(x)=f(-x)\leq p(-x)=p(x)$, so $|f(x)|\leq p(x)$.\\ 

    \noindent\underline{Complex case}: $\Real(g):Y\to \R$, $(\Real)(y)=\Real(g(y))$, is real linear. For all \inmath{y}{Y} $|\Real(g)(y)|\leq |g(y)|\leq p(y)$. By the real case, \isthere a real linear map $h:X\to\R$ s.t. $\restr{h}{Y} = \Real(g)$ and \allin{x}{X} $|h(x)|\leq p(x)$.\\

    \noindent\underline{Claim}: \isthere unique complex linear map $f:X\to\C$ s.t. $h = \Real(f)$. \\

    \noindent\underline{Proof of claim}: \noindent\underline{Uniqueness} If we have such an $f$, then for any \inmath{x}{X}, $f(x)=h(x)+\Img(f)=h(x)+\Img(-i f(ix))=h(x)-i h(ix)$. \noindent\underline{Existence} \textit{define} $f(x)= h(x)-i h(ix)$, for \inmath{x}{X}. Then $f$ is real linear and $f(x)=if(x)$ \allin{x}{X}. Hence, $f$ is complex linear and $\Real(f)=h$, by definition.\\

    We have $f:X\to\C$ linear s.t. $\Real(f)=h$. Then $\restr{\Real(f)}{Y}=\restr{h}{Y}=\Real(g)$, so by uniqueness $\restr{f}{Y}=g$. Given \inmath{x}{X}, write $|f(x)|=\lambda f(x)$ for some \inmath{\lambda}{\C}, $|\lambda|=1$; now, $|f(x)|=\lambda f(x)=f(\lambda x)=\Real(f)(\lambda x)$ \footnote{$|f(x)|\in\R$.} $=h(\lambda x)\leq p(\lambda x)=|\lambda|p(x)=p(x)$.
\end{proof}

\begin{remark}
    For a complex vector space $Y$, let $\vectsp{Y_\R}$ be $Y$ viewed as a real vector space. The proof above shows that for a normed space, $X$, the map $f\mapsto \Real(f): (X^*)\to(\vectsp{X_\R^*})$ is an isometric isomorphism.
\end{remark}

\begin{boxcor}\label{cor: Hahn Banach}
    Let $X$ be a real or complex vector space, $p$ a semi-norm on $X$ and \inmath{x_0}{X}. Then \isthere linear functional $f$ on $X$ s.t. $f(x_0)=p(x_0)$ and \allin{x}{X} $|f(x)|\leq p(x)$.
\end{boxcor}

\begin{proof}
    Let $Y = \spn\{x_0\}$, define $g:Y\to(\R,\C)\; g(\lambda x_0)= \lambda p(x_0)$. Then $g$ is linear and $g(x_0)=p(x_0), |g(\lambda x_0)| = |\lambda|\cdot |p(x_0)| = p(\lambda x_0)$. So \allin{y}{Y} $|g(y)|\leq p(y)$. By Theorem \ref{thm: Hahn Banach}, \isthere linear function $f$ on $X$ s.t. $\restr{f}{Y}=g$ and \allin{x}{X} $|f(x)|\leq p(x)$. Note that $f(x_0)=g(x_0)=p(x_0)$.
\end{proof}

\begin{theorem}[Hahn-Banach]\label{thm: Hahn Banach 2}
Let $X$ be a real or complex normed space. 
\begin{itemize}
    \item It $Y$ is a subspace of $X$ and \inmath{g}{Y^*} then \isthere \inmath{f}{X^*} s.t. $\restr{f}{Y}=g$ and $\norm{f}=\norm{g}$
    \item Given $x_0\in X/\{0\}$, \isthere \inmath{f}{\unitsphere{X^*}}\footnote{unit sphere.} s.t. $f(x_0)=\norm{x_0}$.
    \end{itemize}
\end{theorem}

\begin{proof}
    \begin{enumerate}[label=(\roman*)]
        \item let $p(x)=\norm{g}\cdot\norm{x}$, for \inmath{x}{X}. Then $p$ is a semi-norm on $X$ and \allin{y}{Y}, $|g(y)|\leq \norm{g}\cdot\norm{y}$. By Theorem \ref{thm: Hahn Banach} \isthere linear functional $f:X\to(\R,\C)$ s.t. $\restr{f}{Y}=g$ and \allin{x}{X} $|f(x)|\leq p(x)=\norm{g}\cdot\norm{x}$, which implies $\norm{f}\leq \norm{g}$; since $\restr{f}{Y}=g$, we also have $\norm{f}\geq \norm{g}$, so we have the desired equality $\norm{f}=\norm{g}$.
        \item Apply Corollary \ref{cor: Hahn Banach} with $p(x)=\norm{x}$, to get a linear functional $f$ on $X$ s.t. \allin{x}{X} $|f(x)|\leq \norm{x}$ and $f(x_0)=\norm{x_0}$. It follows that $\norm{f}=1$.
        \end{enumerate}
\end{proof}

\begin{remark}
    \begin{enumerate}
        \item part (\textit{i}) is a sort of linear version of Tietze's extension theorem: given $K$ compact, Hausdorff, $L\subseteq K$ closed, $g:K\to(\R,\C)$ continuous, \isthere continuous $f:K\to(\R, \C)$ s.t. $\restr{f}{L}=g$ and $\norm{f}_\infty=\norm{g}_\infty$.
        \item part (\textit{i}) shows that for all \inmath{x\neq y}{X} \isthere \inmath{f}{X^*} s.t. $f(x)\neq f(y)$ (use $x_0 = x-y$). $X^*$ separates points of $X$. (This is a sort of linear version of Uryshon's lemma: $C(K)$ separates points of $K$, $K$ compact, Hausdorff).
        \item The $f$ in part (\textit{ii}) is called a \noindent\underline{norming functional for $x_0$}. It shows that $\norm{x_0}=\max\{|\bracket{x_0}{g}|:g\in\unitball{X^*}\}$. Another name for $f$: \noindent\underline{support functional at $x_0$}. Assume $X$ is real, $\norm{x}=1$. Then, $\unitball{X}\subseteq \{x\in X:f(x)\leq 1\}$.
    \end{enumerate}
\end{remark}
\begin{figure}[H]
    \centering
    \includesvg[width=0.5\linewidth]{images/Supporting functional.svg}
    \caption{Illustration of support a functional, see the remark above. The pre-image of $1$ under $f$ is tangent to $\unitball{X}$ at $x_0$.}
    \label{fig:Supporting functional}
\end{figure}

\noindent\underline{Bidual} Let $X$ be a normed space. Then $X^{**}=\vectsp{(X^*)^*}$ is called the \noindent\underline{bidual} or \noindent\underline{second dual} of $X$. For \inmath{x}{X}, we define $\hat{x}:X^*\to\text{scalar}$, by $\hat{x}(f)=f(x)$, \allin{f}{X^*} (evaluation at $x$). Then $\hat{x}$ is linear, and $|\hat{(f)}|=|f(x)|\leq \norm{f}\cdot \norm{x}$, so \inmath{\hat{x}}{X^{**}} and $\norm{\hat{x}}\leq \norm{x}$. The map $x\mapsto \hat{x}:X\to X^{**}$ is called the \noindent\underline{canonical embedding} of $X$ into $X^{**}$.

\begin{theorem}\label{thm: canonical embedding}
    The \noindent\underline{canonical embedding} of $X$ into $X^{**}$ is an isometric isomorphism into $X^{**}$.
\end{theorem}

\begin{proof}
    \noindent\underline{Linearty}: $(\widehat{\lambda x+\mu y})(f)=f(\lambda x+\mu y)= \lambda f(x)+\mu f(y)=\lambda\hat{x}(f)+\mu \hat{y}(f)$ \allin{x,y}{X}, $\lambda,\mu$ scalars and \inmath{f}{X^*}\\
    
    \noindent\underline{Isometry}: if \inmath{x}{X/\{0\}}, then \isthere norming functional $f$ of $x$ and so $\norm{\hat{x}}\geq |\hat{x}(f)|=|f(x)|=\norm{x}$.
\end{proof}

\begin{remark}
    \begin{enumerate}
        \item In bracket notation: $\bracket{f}{\hat{x}}=\bracket{x}{f}$ (for \inmath{x}{X} and \inmath{f}{X^*}).
        \item Let $\hat{X} = \{\hat{x}:x\in X\}$-the image of $X\in X^*$. Then, Theorem \ref{thm: canonical embedding} says that $X\cong \hat{X}\subseteq X^{**}$. We often identify $\hat{X}$ with $X$ and think of $X$ isometrically as a subspace of $X^{**}$. Note that $X$ is complete $\iff$ $\hat{X}$ is closed in $X^{**}$.
        \item More generally, $\vectsp{\overline{\hat{X}}}$ is a Banach space (closed in $X^{**}$) containing an isometric copy of $X$ as a dense subspace. We thus proved that normed spaces have completions.
    \end{enumerate}
\end{remark}

\begin{boxdef}[Reflexivity]\label{def: reflexive}
    A normed space $X$ is called \noindent\underline{reflexive} if the canonical embedding $X\hookrightarrow X^{**}$ is surjective.
\end{boxdef}


\begin{examplesblock}{Examples: (Reflexivity) }\label{examples: 2} 
    \begin{enumerate}
    \item 
        $\ell_p, 1<p<\infty$\\
        Hilbert spaces\\
        finite-dimensional normed spaces\\
        $L_p(\mu), 1<p<\infty$  (later!)
    \item $c_0, \ell_1, \ell_\infty, L_1[0,1]$ are \noindent\underline{not} reflexive.
\end{enumerate}
\end{examplesblock}

\begin{remark}
    If $X$ is reflexive, then $X\cong X^{**}$. Note however that there exist Banach spaces $X$ s.t. $X\cong X^{**}$ but $X$ is not reflexive.
\end{remark}


\subsection{Dual Operators}

\mymark{Lecture 3}Let $\vectsp{X,Y}$ be normed spaces. Recall 
$$
\mathcal{B}(\vectsp{X,Y})=\{T:X\to Y: T \text{ is linear and bounded}\}.
$$
This is a normed space in the operator norm: $$\norm{T}_{X\to Y}=\displaystyle\sup_{\norm{x}_X\leq 1 }\norm{Tx}_Y.
$$
If $Y$ is complete, then so is $(\mathcal{B}(\vectsp{X,Y}), \norm{\cdot}_{X\to Y})$. For \inmath{T}{\mathcal{B}(\vectsp{X,Y})}, the \noindent\underline{dual operator of T}, is the map $T^*:X^*\to Y^*, T^*g = g\circ T$ for \inmath{g}{Y^*}\footnote{well-defined.}. In the bracket notation; 
$$
\bracket{x}{T^*g}=\bracket{Tx}{g}, \quad \text{for } \text{\inmath{x}{X}, \inmath{g}{Y^*}}.
$$

\noindent\underline{$T^*$ is linear}: 

$$
\begin{array}{ll}
     \bracket{x}{T^*(\lambda g+\mu h)}
     &=\bracket{Tx}{\lambda g+\mu h}\\
     &= \lambda\bracket{Tx}{g}+\mu\bracket{Tx}{h}\\
     &=\lambda\bracket{x}{T^*g}+\mu\bracket{x}{T^*h}\\
     &=(\lambda T^* g+\mu T^* )(x)\\
     &=\bracket{x}{\lambda T^* g+\mu T^* h}.
\end{array}
$$

\noindent\underline{$T^*$ is bounded}: 

$$
\begin{array}{ll}
    \norm{T^*}
    &=\displaystyle \sup_{\norm{g}_{Y^*}\leq 1}\norm{T^*g}\\
    &=\displaystyle\sup_{\norm{g}_{Y^*}\leq 1}\sup_{\norm{x}_{X}\leq 1}\norm{g\circ T(x)}\\
    &= \displaystyle\sup_{\norm{x}_{X}\leq 1}\sup_{\norm{g}_{Y^*}\leq 1}\norm{g\circ T(x)}\\
    &= \displaystyle\sup_{\norm{x}_{X}\leq 1}\norm{Tx}=\norm{T}.
\end{array}
$$

\begin{remark}
    If $\vectsp{X,Y}$ are Hilbert spaces, and identify $\vectsp{X,Y}$ with $X^*$ and $Y^*$ respectively, then $T^*:Y\to X$ is the adjoint of $T$.
\end{remark}

\begin{examplesblock}{Example:}\label{examples: 3}
   $1<p,q<\infty, \frac{1}{p} +\frac{1}{q}=1$, $R:\ell_p\to\ell_q$, the right shift $R(x_1, x_2,\dots)= (0,x_1, x_2,\dots)$ then $R^*:\ell_q\to \ell_p$ is the left shift.
\end{examplesblock}

\noindent \noindent\underline{Properties}:\begin{enumerate}
    \item $(\Id_X)^*= \Id_X^*$.
    \item $(\lambda S+\mu T)^* = \lambda S^*+\mu T^*$ for \inmath{S,T}{\mathcal{B}(\vectsp{X,Y})}, and $\lambda,\mu$ scalars. 
    \item $(ST)^*=T^*S^*$ for \inmath{T}{\mathcal{B}(\vectsp{X,Y})} and \inmath{S}{\mathcal{B}(\vectsp{Y,Z})}\\ $(ST)^*(h\in Z^*)=h\circ S\circ T = T^*h\circ S = T^*S^*(h)$
    \item $T\mapsto T^*: \mathcal{B}(\vectsp{X,Y})\to \mathcal{B}(\vectsp{Y^*,X^*})$ is an \noindent\underline{into} isometric isomorphism.
    \item Let \inmath{x}{X}
    then $\bracket{g}{T^*\hat{x}}=\bracket{T^*g}{\hat{x}}=\bracket{x}{T^*g}=\bracket{Tx}{g}=\bracket{g}{\widehat{Tx}}$ \allin{g}{Y^*} $\implies T^{**}\hat{x}\equiv
    \widehat{Tx}$. In other words, the following diagram
    $$ 
    \adjustbox{scale = 1.5}{\begin{tikzcd}
    X \arrow{r}{T} \arrow[hookrightarrow]{d}{\iota_X} & Y \arrow[hookrightarrow]{d}{\iota_Y} \\%
    X^{**} \arrow{r}{T^{**}}& Y^{**}
    \end{tikzcd}}
    $$
    commutes (vertical arrows are canonical embeddings).
\end{enumerate}

\begin{remark}
    From the (above) properties, if $X\sim Y$ then $X^*\sim Y^*$.
\end{remark}

\subsection{Quotient Spaces}

Let $X$ be a normed space and $Y$ be a \noindent\underline{closed} subspace. Then the quotient space $X/Y$ becomes a normed space in the quotient norm:
$$
\norm{x+Y}_{X/Y}=d(x,Y)=\displaystyle\inf_{y\in Y}\norm{x+y}.
$$
The quotient map : $q:X\to X/Y, q(x)=x+Y$ is linear and bounded with $\norm{q(x)}_{X/Y}\leq \norm{x}_{X}
$ \allin{x}{X}, so $\norm{q}\leq 1$. It maps the open unit ball $\unitball{X}=\{x\in X:\norm{x}<1\}$ onto $\intunitball{X/Y}$. Indeed, for \inmath{x}{\intunitball{X}}, then $\norm{q(x)}\leq \norm{x}<1$. Conversely, if \inmath{z}{\unitball{X/Y}} and $z = q(x)$, then $\norm{z}<1\implies\displaystyle\inf_{y\in Y}\norm{x+Y}<1\implies $ \isthere\inmath{y}{Y} s.t. $\norm{x+y}<1\implies$ \inmath{x+y}{\intunitball{X}} and $q(x+y)=q(x)=z$. It follows that $q$ is an open map and $\norm{q}=1$ (provided $Y\neq X$).\\

If $Z$ is another normed space, \inmath{T}{\mathcal{B}(X,Z)} and $Y\subseteq \ker(T)$, then \isthere a unique map $\tilde{T}:X/Y\to Z$ such that
$$ \adjustbox{scale = 1.5}{\begin{tikzcd}
X \arrow{r}{T} \arrow{d}{q} & Z \\%
X/Y \arrow[ur,"\tilde{T}" below]
\end{tikzcd}}
$$   
commutes. Hence, $T = \tilde{T}\circ q$; moreover, $\tilde{T}$ is linear and $\tilde{T}(\intunitball{X/Y})=\tilde{T}(q(\intunitball{X}))=T(\intunitball{X})$ and so it follows that $\norm{\tilde{T}}=\norm{T}$.

\newpage

\begin{theorem}\label{thm: separable dual}
    Let $X$ be a normed space. If $X^*$ is separable, then so is $X$.
\end{theorem}

\begin{remark}
    The converse is false in general. For instance, $X=\ell_1, X^*=\ell_\infty$.
\end{remark}

\begin{proof}
    Since $X^*$ is separable, then so is $\unitsphere{X^*}$. Let $\{f_n:n\in\N\}$ be a dense subset of $\unitsphere{X^*}$. For all $n $ \isthere \inmath{x_n}{\unitball{X}} s.t. $f_n(x_n)>1/2$. Let $Y=\overline{\spn\{x_n:n\in\N\}}$.\\
    
    \noindent\underline{Claim}: suffices to show $Y=X$.\\

    \noindent\underline{Suppose not}: Then, by Theorem \ref{thm: Hahn Banach 2} we can pick \inmath{g}{(X/Y)^*} with $\norm{g}=1$, that is a norming functional. Let $f = g\circ q$ ($q:X\to X/Y$ is the quotient map). Then $\norm{f}=\norm{g}=1\implies$ \inmath{f}{\unitsphere{X^*}}. By density, we have that \isthere \inmath{n}{\N} s.t. $\norm{f-f_n}<\frac{1}{10}$ (something small). So\\
    $$|(f-f_n)(x_n)|\leq \norm{f-f_n}\cdot\norm{x_n}<\frac{1}{10},$$ but\\
    $$|(f-f_n)(x_n)|=|f_n(x_n)|>\frac{1}{2}, \quad n\to\infty, 
    $$
    a contradiction.
\end{proof}

\begin{theorem}
    Let $X$ be a separable normed space. Then $X$ embeds isometrically into $\ell_\infty$.
\end{theorem}

\begin{proof}\label{thm: isometric embedding into ell_infinity}
    Let $\{x_n:n\in\N\}$ be dense in $X$ and \allin{n}{\N} let \inmath{f_n}{\unitsphere{X^*}} with $f_n(x_n)=\norm{x_n}$\\
    (wlog $X\neq \{0\}$). Define $T:X\to\ell_\infty, Tx=(f_n(x_n))$. It is clear that $T$ is linear.\\

    \noindent\underline{Well-defined}: $|f_n(x)|\leq \norm{f_n}\cdot\norm{x}\leq \norm{x}$, \allin{n}{\N} which implies $\norm{Tx}_\infty\leq \norm{x}<\infty$, hence \inmath{Tx}{\ell_\infty}.\\

    \noindent\underline{$T$ isometric}: already $\norm{Tx}_\infty\leq\norm{x}$ for all $x$. Also, $\norm{Tx_n}_\infty=\norm{x_n}$ for all $n$. By density and continuity, $\norm{Tx}_\infty=\norm{x}$ \allin{x}{X}.
\end{proof}

\begin{remark}
    \mymark{Lecture 4} 
    \begin{enumerate}
        \item The result says $\ell\_infty$ is \noindent\underline{isometrically universal} for the class of separable Banach spaces, $\mathcal{SB}$.
        \item Dual result: every separable Banach space is a quotient of $\ell_1$ (see the Example sheets).
    \end{enumerate}
\end{remark}

\begin{theorem}[Vector-valued Liouville]\label{thm: vector-valued Liouville}
    Let $X$ be a complex Banach space and $f:\C\to X$ be holomorphic and bounded, then $f$ is constant.
\end{theorem}

\begin{proof}
    We have that \isthere $M\geq 0$, s.t. \allin{z}{\C}, $\norm{f(z)}\leq M$. Also, for \inmath{w}{\C}, $\displaystyle\lim_{z\to w}\frac{f(z)-f(w)}{z-w}$ exists in $X$ and we denote this by $f'(z)$. Fix \inmath{\phi}{X^*} and consider $\phi\circ f:\C\to\C$. This is holomorphic and bounded.\\

    \noindent\underline{Bounded}: $|\phi(f(z))|\leq \norm{\phi}\cdot\norm{f(z)}\leq\norm{\phi}\cdot\norm{z}$
    \allin{z}{\C}.\\

    \noindent\underline{Holomorphic}: 
    $$
    \frac{\phi(f(z))-\phi(f(w))}{z-w}=\footnote{\text{linearity}.}\phi\left(\frac{f(z)-f(w)}{z-w}
    \right)\to\phi(f'(z)), \quad \text{as }w\to \footnote{$\phi$ \text{ is continuous}.} z.
    $$

    Now, by scalar Liouville, $\phi\circ f$ is constant. Hence, $\phi\circ f(z)=\phi(f(0))$ \allin{z}{\C}. Fix\inmath{z}{\C}, $\phi(f(z))=\phi(f(0)),$ \allin{\phi}{X^*}. Since $X^*$ separates points of $X$, $f(z)=f(0)$ \allin{z}{\C}.
    \end{proof}


\subsection{Locally Convex Spaces}

\begin{boxdef}[Locally convex space (LCS)]\label{def: locally convex space}
    A \noindent\underline{locally convex space} is a pair $(X,\mathcal{P})$, where $X$ is a real/complex vector space and $\mathcal{P}$ is a family of semi-norms on $X$ that separate points of $X$ in the sense that \allin{x}{X} $\neq \{0\} $ \isthere semi-norm \inmath{P_X}{\mathcal{P}} s.t. $P_X\neq 0$. The family $\mathcal{P}$ defines a topology on $X$:
    $$
    \begin{array}{cc}
    &\mathcal{U}\subseteq X \text{ is open } \iff \forall x\in\mathcal{U}\; \exists n\in\N\exists p_1,\dots,p_n
    \in\mathcal{P}\\
    &\exists \epsilon >0 \text{ s.t. } \{y\in X: p_k(y-x)<\epsilon, 1\leq k\leq n\}\subseteq \mathcal{U}.
    \end{array}
    $$
\end{boxdef}

\begin{remark}
    \begin{enumerate}
        \item Vector addition and scalar multiplication are continuous.
        \item This topology is Hausdorff.
        \item \inmath{x_n\to x}{X} $\iff \text{ for all } p\in \mathcal{P}$, $p(x-x_n)\to 0$.
        \item Let $Y$ be a subspace of $X$. Let $\mathcal{P}_Y=\{\restr{p}{Y}:p\in\mathcal{P}\}$. Then the pair $(Y, \mathcal{P}_Y)$ is a LCS and its topology is the subspace topology induced by $(X, \mathcal{P})$.
        \item Let $\mathcal{P,Q}$ be families of semi-norms on $X$ both separating points of $X$. We say $\mathcal{P,Q}$ are equivalent, write $\mathcal{P}\sim\mathcal{Q}$ if they define the same topology on $X$. Then $(X, \mathcal{P})$ is metrisable iff \isthere countable family $\mathcal{Q}\sim\mathcal{P}$.
    \end{enumerate}
\end{remark}

\begin{boxdef}[Fr\'{e}chect space]
    A\noindent\underline{Fr\'{e}chet space} is a complete metrisable locally convex space.
\end{boxdef}

\begin{examplesblock}{Examples:}\label{examples: 4}
    \begin{enumerate}
        \item A normed space $(X, \norm{\cdot})$ is a LCS (here $\mathcal{P}=\{\norm{\cdot}\}$).
        \item Let $\mathcal{U}\subseteq \C$ be non-empty open. Let $\mathcal{O}(\mathcal{U})=\{f:\mathcal{U}\to\C: f \text{ holomorphic}\}$.\\
        For $K\subseteq \mathcal{U}$ define 
        $
        \mathcal{P}_K(f) = \displaystyle\sup_{z\in K}|f(z)|.
        $
        Let $\mathcal{P}=\{\mathcal{P}_K:K\subseteq\mathcal{U}, K \text{ compact}\}$. Then $(\mathcal{O}(\mathcal{U}), \mathcal{P})$ is a LCS. Note further that \isthere $K_n$, \inmath{n}{\N}, a sequence of compact subsets of $\mathcal{U}$ s.t. $\mathcal{U}=\displaystyle\bigcup_{n\in\N}K_n$ and \allin{n}{\N} $K_n\subset (K_{n+1})^{\circ}$ (a compact exhaustion of $\mathcal{U}$). Montel's Theorem from complex analysis gives that $(\mathcal{O}(\mathcal{U}), \mathcal{P})$ is \noindent\underline{not normable}: there is no norm on $\mathcal{O}(\mathcal{U})$ that gives the same topology, that is the topology of local uniform convergence. To see this, suppose for a contradiction that \isthere norm s.t. $\norm{\cdot}\sim\mathcal{P}$, then \allin{f}{\unitball{\mathcal{O}(\mathcal{U})}}, \allin{p}{\mathcal{P}}, $p(f)\leq C_p\cdot\norm{f}\coloneqq C_p<\infty$ (since $\tau_\mathcal{P} = \tau_{\mathcal{O}(\mathcal{U})}$) which implies that that unit ball is compact (by the above and Montel's Theorem), hence sequentially compact due to the metrisability of the norm topology on $\mathcal{O}(\mathcal{U})$. So we conclude that $\mathcal{O}(\mathcal{U})$ is finite-dimensional, a contradition.
        \item Fix \inmath{d}{\N} and a non-empty open set $\Omega\subseteq \R^d$. Let $\mathcal{C}^\infty =\{f:\Omega\to\R^d:f \text{ is infinitely differentiable}\}$. Given a multi-index, namely, a $d-$tuple \inmath{\alpha}{\N^d}, it defines a differential operator:
        $$
        D^\alpha = \left(\frac{\partial}{\partial x_1}\right)^{\alpha_1}\cdots \left(\frac{\partial}{\partial x_n}\right)^{\alpha_n}.
        $$
        For a compact set $K\subset\Omega$, \inmath{\alpha}{\N^d}, define $p_{k,\alpha}(f)= \sup\{|D^{\alpha}f(z)|:z\in K\}$. Let $\mathcal{P}= \{p_{k,\alpha}:K\subset\Omega, K \text{ compact, \inmath{\alpha}{\N^d}}\}$. Then $(\mathcal{C}^\infty(\Omega), \mathcal{P})$ is a LCS. It's a Fr\'{e}chet space and non-normable.
    \end{enumerate}
\end{examplesblock}

\begin{boxlemma}\label{lemma: LCS}
    Let $(X, \mathcal{P}), (Y, \mathcal{Q})$ be LCS and $T:X\to Y$ be a linear map. Then the following are equivalent (TFAE):
    \begin{enumerate}[label=(\roman*)]
        \item $T$ is continuous.
        \item $T$ is continuous at $0$.
        \item For all \inmath{q}{\mathcal{Q}} \isthere \inmath{n}{\N}, \inmath{p_1,\dots,p_n}{\mathcal{P}}, $c>0$ s.t.\\ 
        $$q(Tx)\leq C\cdot \displaystyle\max_{1\leq k\leq n}p_k(x) \text{ for all }x\in X.$$
    \end{enumerate}
\end{boxlemma}

\begin{proof}
    \noindent\underline{(\textit{i})$\iff$(\textit{ii})}: translation is continuous since vector addition is continuous.\\
    
    \noindent\underline{(\textit{ii})$\iff$(\textit{iii})}: given \inmath{q}{\mathcal{Q}}, let $\mathcal{V}=\{y\in Y:q(y)\leq1\}$. Then $\mathcal{V}$ is a neighbourhood of zero in $Y$, so \isthere a nbhd of zero in $X$ s.t. $T(X)\subseteq \mathcal{V}$. Then \isthere \inmath{n}{\N}, \inmath{p_1,\dots,p_n}{\mathcal{P}}, $\epsilon>0$ s.t. wlog $\mathcal{U}= \{x\in X:p_k(x)\leq\epsilon, 1\leq k\leq n\}$. Let $p(x)= \displaystyle\max_{1\leq k \leq n}p_k(x)$, for \inmath{x}{X}. If $p(x)=1$ then $p(\epsilon x)=\epsilon\implies \epsilon x$ is in $\mathcal{U}$. So $q(Tx)\leq 1\implies q(Tx)\leq\frac{1}{\epsilon}p(x)$ by homogeneity for any $x$ s.t. $p(x)>0$. If $p(x)=0\implies p(\lambda x)=0$ for all $\lambda$ scalars giving $q(T(\lambda x))\leq 1$ for all $\lambda$ scalars. Hence, $q(Tx)\leq \frac{1}{\epsilon}p(x)$, concluding the proof of this equivalence.\\

    \noindent\underline{(\textit{iii})$\iff$(\textit{ii})}: Let $\mathcal{V}$ be a nbhd of zero in $Y$. Then, there exists \inmath{n}{\N}, \inmath{q_1,\dots,q_n}{\mathcal{Q}} and $\epsilon>0$ s.t. wlog $\mathcal{V}=\{y\in Y:q_j(y)\leq \epsilon \text{ for } 1\leq j\leq n\}$. For each $1\leq j\leq n$, there exists \inmath{m_j}{\N}, \inmath{p_{j1},\dots,p_{jm_j}}{\mathcal{P}}, $C_j>0$ s.t. $q_j(Tx)\leq C_j\cdot\displaystyle\max_{1\leq i\leq m_j}p_{ji}(x)$ \allin{x}{X}. Finally, let \\
    $\mathcal{U}=\{x\in X:p_{ji}(x)<\frac{\epsilon}{C_j}, 1\leq i\leq m_j, 1\leq j\leq n\}$ so then $T(\mathcal{U})\subseteq \mathcal{V}$.
\end{proof}

\begin{boxdef}\label{def: dual of LCS}
    Let $(X, \mathcal{P})$ be a LCS. The \noindent\underline{dual space} of $X$ is the space $X^*$ of all linear functionals which are continuous wrt the topology $(X, \mathcal{P})$.
\end{boxdef}

\begin{boxlemma}\label{lemma: continuity criterion LCS lin functional}
    \mymark{Lecture 5} Let $f$ be a linear functional on a LCS $(X,\mathcal{P})$. Then $f$ is in $X^*$ $\iff$ $\ker f$ is closed. 
\end{boxlemma}

\begin{proof}

    \noindent\underline{$\impliedby$}: $\ker f = f^{-1}(\{0\})$ is closed if $f$ is continuous.\\

    \noindent\underline{$\implies$}: If $\ker f=X$, then $f\equiv 0$ is continuous. \\
    Assume $\ker f\neq X$ and fix \inmath{x_0}{X\setminus\ker f}. Since $X\setminus\ker f$ is open, \isthere \inmath{n}{\N},\inmath{p_1,\dots,p_n}{\mathcal{P}} and $\epsilon>0$ s.t. $\{x\in X:p_k(x-x_0)<\epsilon , 1\leq k\leq n\}\subseteq X\setminus\ker f$. Let $\mathcal{U}=\{x\in X:p_k(x)<\epsilon, 1\leq k \leq n\}$. Then $\mathcal{U}$ is a nbhd of zero in $X$, and $(x_0+\mathcal{U})\cap\ker f=\emptyset$.\\
    
    Note that $\mathcal{U}$ is convex and, in the real case, symmetric (\inmath{x}{\mathcal{U}} implies \inmath{-x}{\mathcal{U}}). In the complex case, \noindent\underline{balanced} (\inmath{x}{\mathcal{U}}, $|\lambda|\leq 1$ implies \inmath{\lambda x}{\mathcal{U}}), and hence so is $f(\mathcal{U})$ as f is linear. If $f(\mathcal{U})$ is not bounded, then $f(\mathcal{U})$ is the whole scalar field, and hence so is $f(x_0+\mathcal{U})=f(x_0)+f(\mathcal{U})$, a contradiction as zero is not in $f(x_0+\mathcal{U})$. So there exists $M>0$ s.t. $|f(x)|<M$ \allin{x}{\mathcal{U}}. So given $\delta>0$, $\frac{\delta}{M}\mathcal{U}$ is a nbhd of zero in $\mathcal{X}$ and $f\left(\frac{\delta}{M}\mathcal{U}\right)\subseteq \{\lambda \text{ scalar}, \lambda<\delta\}$. Thus, $f$ is continuous at zero, hence everywhere. Thus $f$ is in $X^*$.
\end{proof}

\begin{theorem}\label{thm: Hahn-Banach 3}
    Let $(X, \mathcal{P})$ be a LCS. 
    \begin{enumerate}[label = (\roman*), align = left]
        \item Given a subspace $Y$ of $X$ and \inmath{g}{Y^*}, there exists \inmath{f}{X^*} s.t. $\restr{f}{Y}=g$.
        \item Given a closed subspace $Y$ of $X$ and \inmath{x_0}{X\setminus Y}, \isthere \inmath{f}{X^*} s.t. $\restr{f}{Y}=0$ and $f(x_0)\neq 0$.
    \end{enumerate}
\end{theorem}

\begin{remark}
    So $X^*$ separates the points of $X$.
\end{remark}
\newpage

\begin{proof}
    \begin{enumerate}[label = (\roman*), align = left]
        \item by lemma \ref{lemma: LCS}, \isthere \inmath{n}{\N}, \inmath{p_1,\dots,p_n}{\mathcal{P}} and $C>0$ s.t. \allin{y}{Y} 
        $|g(y)|\leq C\cdot\displaystyle\max_{1\leq k\leq n}p_k(y)$. Let $p(x)=C\displaystyle\max_{1\leq k\leq n}p_k(x)$, for \inmath{x}{X}. Then, $p$ is a semi-norm on $X$ and \allin{y}{Y} $|g(y)|\leq p(y)$. By Theorem \ref{thm: Hahn Banach}, there exists a linear functional $f$ on $X$ s.t. $\restr{f}{Y}=g$ and \allin{x}{X}, $|f(x)|\leq p(x)$. Now, finally observe that by lemma \ref{lemma: LCS}, $f$ is in $X^*$.

        \item Let $Z=\spn(Y\displaystyle\cup\{x_0\})$ and define a linear functional $g$ on $Z$ by $g(y+\lambda x_0)=\lambda$, for \inmath{y}{Y} and $\lambda$ scalar. Then $\restr{g}{Y}=0, g(x_0)=1\neq 0$ and $\ker g =Y$ is closed, so \inmath{g}{Z^*} by lemma \ref{lemma: continuity criterion LCS lin functional}. By part (\textit{i}), \isthere \inmath{f}{X^*} s.t. $\restr{f}{Z}=g$ and this works.
    \end{enumerate}
\end{proof}

\newpage
\section{Dual Spaces of $L_p(\mu)$ and $\mathcal{C}(K)$}

Let $(\Omega, \mathcal{F}, \mu)$ be a measure space. For $\leq<p<\infty$, 
$$
L_p(\mu) = \left\{f:\Omega\to \text{scalar}: f \text{ is measurable and } \displaystyle\int_\Omega|f|^p d\mu<\infty\right\}
$$
This is a normed space in the $L_P$ norm $\norm{f}_p = \left(\int_\Omega|f|^p d\mu\right)^{\frac{1}{p}}$.\\

\noindent\underline{$p=\infty$}: A measurable function $f:\Omega\to\text{scalar}$ is essentially \noindent\underline{bounded} if there is \inmath{N}{\mathcal{F}}, $\mu(N)=0$, and $\restr{f}{\Omega\setminus N}$ is bounded.\\

$L_\infty(\mu)= \{f:\Omega\to \text{scalar}: f \text{ measurable and essentially bounded}\}$. This is again a normed space in the $L^\infty-$ norm:\\
$$\norm{f}_\infty = \essup|f|=\inf\left\{\displaystyle\sup_{\Omega\setminus N}|f|: N\in\mathcal{F}, \mu(N)=0\right\}.
$$ 
\noindent The inf is attained: \isthere \inmath{N}{\mathcal{F}}, $\mu(N)=0$, $\norm{f}_\infty=\displaystyle\sup_{\Omega\setminus N}|f|$.\\
In all the cases, we identify functions $f,g$ if $f=g$ a.e.

\begin{theorem}\label{thm: completeness of Lebesgue spaces}
    $L_p(\mu)$ is complete for $1\leq p\leq \infty$.
\end{theorem}

\begin{proof}
    Can be found in any standard reference in measure theory, see the literature provided.
\end{proof}

\subsection{Complex Measures}

Let $\Omega$ be a set, $\mathcal{F}$ a $\sigma-$field on $\Omega$. A complex measure on $\mathcal{F}$ is a countably additive function $\nu:\mathcal{F}\to\C$. For $A\in\mathcal{F}$, the \noindent\underline{total variation measure} $|\nu|$ of $\nu$ is defined as follows:
$$
|\nu{(A)}|=\sup\left\{\displaystyle\sum_{k=1}^n A_k:A = \displaystyle\bigcup_{k=1}^n A_k \text{ is a measurable partition of $A$}\right\}\footnote{$A_k\in\mathcal{F}, A_j\cap A_k =\emptyset \;\forall j\neq k.$}.
$$
\noindent Then, $|\nu|:\mathcal{F}\to[0,\infty]$ is a positive measure. Later we see that $|\nu|$ is a finite measure. The total \noindent\underline{variation of $\nu$} is $\norm{\nu}_1=|\nu|(\Omega)$.\\

\noindent\underline{Continuity}: if $\nu$ is a complex measure on $\mathcal{F}$ and $(A_n)\subseteq \mathcal{F}$, then: 

\begin{enumerate}[label=(\roman*)]
    \item if $A_n\subseteq A_{n+1}$, then $\nu(\displaystyle\bigcup_n A_n)=\displaystyle\lim_{n\to\infty}\nu(A_n)$
    \item if $A_{n+1}\subseteq A_n$, then $\nu(\displaystyle\bigcap_n A_n)= \displaystyle\lim_{n\to\infty}\nu(A_n)$.
\end{enumerate}

\noindent\underline{Signed measure}: $\Omega$ a set, $\mathcal{F}$ a $\sigma-$algebra on $\Omega$.\\
A signed measure on $\mathcal{F}$ is a countably additive set function $\nu:\mathcal{F}\to\R$.

\begin{theorem}[Hahn decomposition]\label{thm: Hahn decomposition}
    Let $\Omega$ be a set, $\mathcal{F}$ a $\sigma-$algebra on $\Omega$, $\nu$ a signed measure on $\mathcal{F}$. Then \isthere a measurable partition $P\displaystyle\cup N$ of $\Omega$ s.t. \allin{A}{\mathcal{F}}, $A\subseteq P$ implies $\nu(A)\geq 0$ and \allin{A}{\mathcal{F}}, $A\subseteq N$ implies $\nu(A)\leq 0$.
\end{theorem}

\begin{remark} 
\begin{enumerate}
    \item The decomposition $\Omega = P\displaystyle\cup N$ is called the \noindent\underline{Hahn decomposition} of $\nu$ (or of $\Omega$).
    \item Lets us define $\nu^{+}(A) = \nu(A\cap P), \nu^{-}(A) = -\nu(A\cap N)$, for \inmath{A}{\mathcal{F}}. Then $\nu^{+}, \nu^{-}$ are finite positive measures such that $\nu = \nu^{+}-\nu^{-}$ and $|\nu|=\nu^{+}+\nu^{-}$. These determine $\nu^{+}, \nu^{-}$ uniquely and $\nu = \nu^{+}-\nu^{-}$ is the \noindent\underline{Jordan decomposition} of $\nu$.
    \item If $\nu$ is a complex measure on $\mathcal{F}$ then $\Real(\nu), \Img(\nu)$ are signed measures with Jordan decompositions $\nu_1-\nu_2+i(\nu_3-\nu_4)$-the Jordan decomposition of $\nu$. Then $\nu_k \leq |\nu|, 1\leq k \leq 4$ and $|\nu|\leq \nu_1+\nu_2+\nu_3+\nu_4$. So $|\nu|$ is a finite measure. 
    \item If $\nu$ is a signed measure on $\mathcal{F}$ with Jordan decomposition $\nu^+-\nu^-$, then $\nu^+(A)=\sup\{\nu(B):B\in\mathcal{F}, B\subseteq A\}$, for \inmath{A}{\mathcal{F}}.
\end{enumerate}
\end{remark}

\begin{proof}[Proof of Theorem \ref{thm: Hahn decomposition}.]
    The strategy is to define $\nu^+(A)=\sup\{\nu(B):B\in\mathcal{F}, B\subseteq A\}$ for \inmath{A}{\mathcal{F}}. Then $\nu^+\geq 0$ and $\nu^+$ is finitely additive. \\

    \noindent\underline{Key step}: $\nu^+(\Omega)\geq 0$.\\

    By contradiction, assume not; construct sequences $(A_n), (B_n)$ with $ A_0=\Omega$, $\nu^+(A_n)=\infty$, $B_n\subset A_n$ and $\nu(B_n)>n$. Now by the finite additivity of $\nu^+$, pick $A_{n+1}=B_n$ or $A_n\setminus B_n$, to ensure the initial condition $(\nu^+(A_{n+1})=\infty)$ is satisfied. \\

    \noindent\underline{Claim}: this will contradict $\sigma-$additivity. \\

    To see this, note that $(A_n)$ is by construction a decreasing sequence wrt inclusion. By $\sigma-$additivity of $\nu$, $\nu(\cap_n A_n)= \displaystyle\lim_{n\to\infty}\nu(A_n)$. Thus, it cannot be the case that $A_{n+1}=B_n$ infinitely often, since $\nu(\cap_n A_n)<\infty$ (being a signed measure). Thus, there exists \inmath{N}{\N} s.t. for all $n\geq N$, $A_{n+1}=A_n\setminus B_n$. 
    Now, $\nu(A_k)=\nu(A_k \setminus B_k)+\nu(B_k)>\nu(A_{k+1})+k>\nu(A_{k+1})$ for $k\geq N$ and so $\nu(A_k)<\nu(A_{k-1})-k< \nu(A_{N})-k, k\to-\infty$, a contradiction. \\

    \noindent\underline{Claim}: \isthere \inmath{P}{\mathcal{F}} s.t. $\nu^+(\Omega)=\nu(P)$. \\

    By approximation, take $(A_n)$ s.t. $\nu(A_n)>\nu^+(\Omega)-2^{-n}$. We will see that the choice \\$P=\displaystyle\bigcup_n \displaystyle\bigcap_{m\geq n}A_m$ works. Let $N=\Omega\setminus P$. By $\sigma-$additivity of $\nu$, have that $\nu(P)=\displaystyle\lim_{n\to\infty}\nu\left(\bigcap_{m\geq n}A_m\right)$. Now, for $j\geq n$, consider $\displaystyle\bigcap_{n\leq m \leq j}A_m$, we first see that
    $$
    \begin{array}{ll}
    \nu\left(\displaystyle\bigcap_{n\leq m \leq n+1}A_m\right)
    =-\nu(A_n\displaystyle\cup A_{n+1})+\nu(A_n)+\nu(A_{n+1})\\
    >-\nu^+(\Omega)+2\nu^+(\Omega)-2^{-n}-2^{-n-1}>\nu^+(\Omega)-2^{-n-1}.
    \end{array}
    $$
By inducting, we see that:\\
$$
\nu\left(\displaystyle\bigcap_{n\leq m \leq n+p}A_m\right) >\nu^+(\Omega)-\displaystyle\sum_{m=0}^p 2^{-n-m}.
$$
\noindent and so 
$$
\nu\left(\displaystyle\bigcap_{n\leq m }A_m\right) = \displaystyle\lim_{p\to\infty}\nu\left(\displaystyle\bigcap_{n\leq m \leq n+p}A_m\right) > \nu^+(\Omega)-\displaystyle\sum_{m=0}^\infty 2^{-n-m}=\nu^+(\Omega)-2^{-n}.
$$
which allows us to conclude that $\nu(P)=\nu^+(\Omega)$ upon taking limits.\\

Now, with $N=\Omega\setminus P$, define the set functions $\overline{\nu}_{\pm}:\mathcal{F}\to \R$ by $\overline{\nu}_+(E)=\nu(E\cap P)$ and $\overline{\nu}_-(E)=\nu(E\cap N)$ for \inmath{E}{\mathcal{F}}.\\ 

Observe first that $\overline{\nu}_-\leq 0$. Indeed, suppose there exists \inmath{E}{\mathcal{F}} such that $\nu(E\cap N)>0$. Then, 
we see that $\nu^+(\Omega) = \nu^+(P)<\nu(E\cap N)+\nu(P)=\nu((E\cap N) \displaystyle\cup P)\leq \nu^+(\Omega)$, a contradiction. Thus, $\overline{\nu}_-$ is a negative measure.\\

\noindent\underline{Claim}: 
$\nu(N) = \inf \{\nu(E):E\in\mathcal{F}\}$.\\

Suppose otherwise, then \isthere \inmath{E}{\mathcal{F}} s.t. $\nu(E)<\nu(N)$, which implies $\nu(\Omega\setminus E)=\nu(\Omega)-\nu(E)>-\nu(N)+\nu(\Omega)=\nu(P)$ and so $\nu(\Omega\setminus E)>\nu(P)$, a contradiction.\\

Now, we can prove $\overline{\nu}_+\geq 0$. Indeed, suppose there exists \inmath{E}{\mathcal{F}} such that $\nu(E\cap P)<0$. Then, 
we see that $\nu(N) \leq \nu((E\cap P) \displaystyle\cup N)=\nu(N)+\nu(E\cap P)<\nu(N)$, a contradiction. Thus, $\overline{\nu}_+$ is a positive measure.\\

\noindent\underline{Claim}: 
$\overline{\nu}_-(E) = \inf \{\nu(A):A\subseteq E, A\in\mathcal{F}\}$.\\

Suppose otherwise, then \isthere \inmath{E}{\mathcal{F}} s.t. $\nu(A)<\nu(E\cap N)$, which implies $\nu(A \cap N)<\nu(A\cap P)+\nu(A \cap N)=\nu(A)<\nu(E \cap N)$ and so $\nu(A \cap N)<\nu(E \cap N)$ and so $\nu((E\setminus A)\cap N)=\nu(E\cap N\setminus A\cap N)>0$ a contradiction.
\\

Finally, we observe that \\

\noindent\underline{Claim}: 
$\overline{\nu}_+(E) = \sup \{\nu(A):A\subseteq E, A\in\mathcal{F}\}$.\\

Suppose otherwise, then \isthere \inmath{E}{\mathcal{F}} s.t. $\nu(A)>\nu(E\cap P)$, which implies $\nu(E \cap P)<\nu(A) = \nu(A\cap P)+\nu(A \cap N)<\nu(A \cap P)$ and so $\nu(E \cap P)<\nu(A \cap P)$ and so $\nu((E\setminus A)\cap P)=\nu(E\cap P\setminus A\cap ))<0$ a contradiction, and we finally obtain the desired decomposition.
\end{proof}

\begin{boxdef}[Absolute Continuity]\label{def: absolute continuity}
    \mymark{Lecture 6} Let $(\Omega, \mathcal{F}, \mu)$ be a measure space, and let $\nu:\mathcal{F}\to\C$ be a complex measure. $\nu$ is \noindent\underline{absolutely continuous} wrt $\mu$, written $\nu<<\mu$ if for all \inmath{A}{\mathcal{F}},\\
    $\mu(A)=0\implies \nu(A)=0$.
\end{boxdef}

\begin{remark}
    \begin{enumerate}
        \item $\nu<<\mu\implies |\nu|<<\mu$. So if $\nu$ has Jordan decomposition $\nu = \nu_1-\nu_2+i(\nu_3-\nu_4)$ and $\nu<<\mu$, then $\nu_k<<\mu, 1\leq k\leq 4$.
        \item If $\nu<<\mu$, then for all $\epsilon>0$, there exists $\delta>0$ s.t. \allin{A}{\mathcal{F}} $\mu(A)<\delta\implies |\nu(A)|<\epsilon$.
    \end{enumerate}
\end{remark}

\begin{examplesblock}{Example:}\label{examples: 5} For $f$  in $L_1(\mu)$ define $\nu(A)=\displaystyle \int_A f d\mu$, \inmath{A}{\mathcal{F}}. By the Theorem of Dominated Convergence (DCT), $\nu$ is a complex measure and $\mu(A)=0\implies \nu(A)=0$, i.e. $\nu<<\mu$.
\end{examplesblock}

\begin{boxdef}\label{def: $\sigma-$ finite set}
    A set in $\mathcal{F}$ is said to be a \noindent\underline{$\sigma-$finite set} (wrt $\mu$) if there is a sequence $(A_n)_{n\in\N}\in\mathcal{F}$ s.t. $A=\displaystyle\bigcup_{n\in\N}A_n$ and for all \inmath{n}{\N}, $\mu(A_n)<\infty$. We say $\mu$ is \noindent\underline{$\sigma-$finite} if $\Omega$ is a $\sigma-$finite set.
\end{boxdef}

\begin{theorem}[Radon-Nikodym]\label{thm: Radon-Nikodym}
    Let $(\Omega, \mathcal{F}, \mu)$ be a $\sigma-$finite emasure space and $\nu:\mathcal{F}\to\C$ be a complex measure s.t. $\nu<<\mu$. Then there exists a unique \inmath{f}{L_1(\mu)} s.t. $\nu(A)=\displaystyle \int_A f d\mu$ \allin{A}{\mathcal{F}}. Moreover, $f$ takes values in $\C/\R/\R^+$ according to whether $\nu$ is a complex, signed or positive measure respectively.
\end{theorem}

\begin{proof}

\noindent\underline{Uniqueness}: standard.\\

\noindent \noindent\underline{Existence}: wlog $\nu$ is a finite positive measure (Jordan decomposition) and wlog $\mu$ is a finite measure ($\sigma-$finiteness).\\

Let $\mathcal{H}=\{h:\Omega\to\R^+: h \text{ integrable and } \int_A h d\mu\leq \nu(A) \;\forall A\in\mathcal{F}\}$. $\mathcal{H}\neq \emptyset$ ($0\in\mathcal{H}$) and \inmath{h_1,h_2}{\mathcal{H}} implies $h_1\lor h_2 = \max\{h_1,h_2\}$ is in $\mathcal{H}$. Also, if $(h_n)$ are in $\mathcal{H}$ s.t. $h_n\uparrow h$, then $h$ is in $\mathcal{H}$. Let $\alpha= \displaystyle\sup_{h\in\mathcal{H}}\int_\Omega f d\mu, 0\leq \alpha\leq \nu(\Omega)$.\\

\noindent\underline{Claim}: there exists $f\in\mathcal{H}$ s.t. $\alpha=\int_\Omega f d\mu$.\\

We construct such an $f\in\mathcal{H}$. Take $f_n\in\mathcal{H}$ s.t. $\int_A g_n d\mu\leq \nu(A)$, for all $A\in\mathcal{F}$ and $\int_\Omega f_n d\mu\to \alpha$. The same holds if we replace $f_n$ by $f_1\lor\dots\lor f_n$, and so wlog we can assume the sequence is non-decreasing. Now, by induction, there exists sets $E_1, \dots, E_n\in\mathcal{F}$ pairwise disjoint s.t. $\displaystyle\bigcup^n_{k=1}E_k=\Omega$ and $g_n=\displaystyle\sum_{k=1}^n f_j \mathbf{1}_{E_j}$ and 
$
\displaystyle \int_A g_n d\mu =\sum^n_{j=1}\int_{E_j\cap A} f_n d\mu \leq \sum^n_{j=1}\nu(E_j\cap A)=\nu(A).
$ Since $g_n$ is non-decreasing, take the pointwise supremum to obtain $f_0\coloneqq \sup_{n}g_n$, which is in $\mathcal{H}$ by the above, and is seen to work by inspection.\\

Now consider the signed measures $\nu_1, \nu_2, (\lambda_n)_{n\in\N}:\mathcal{F}\to\R$, s.t. $\nu_1=\nu-\nu_2, \nu_2(A)= \int_A f_0 d\mu$ and $\lambda_n(A)=\nu_1(A)-\frac{1}{n}\mu(A)$ for all $A\in\mathcal{F}$. Then there exist (Hahn decomposition) $(P_n), (N_n)$  in $\mathcal{F}$ s.t. $\Omega = P_n\displaystyle\cup N_n, P_n = \Omega\setminus N_n$, s.t. $\lambda_n(E)\geq 0 $ for all $E\in\mathcal{F}$ s.t. $E\subseteq P_n$. Now, for such $E$, we have $\lambda_n(E)=\nu_1(E)-\frac{1}{n}\mu(E)\geq 0$ and so $\nu(E)=\nu_1(E)+\nu_2(E)\geq \int_E f_0 d\mu+\frac{1}{n}\int_E d\mu$. Let $\tilde{f}_n=f_0+\frac{1}{n}\mathbf{1}(P_n)$. Observe that for all $E\in\mathcal{F}$, $\int_E \tilde{f}_n d\mu= \int_E f_0 d\mu+\frac{1}{n}\int_{E\cap P_n} d\mu\leq \nu(E)$ by the above and the fact that $\mu$ is a positive measure.  We have by the above that $\tilde{f}_n$ is in $\mathcal{H}$ for all $n\in\N$ and $\alpha\leq \int_\Omega \tilde{f}_n d\mu \leq \alpha$ and so $\mu(P_n)=0$ for all $n\in\N$. Thus, by $\sigma-$additivity, $\mu\left(\displaystyle\bigcup_n P_n\right)=0$.\\

Let $N=\Omega\setminus \displaystyle\bigcup_n P_n$, then for all $E\in\mathcal{F}$ s.t. $E\subseteq N$, $\lambda_n(E)=\nu_1(E)-\frac{1}{n}\mu(E)\leq 0$ for all $n\in\N$ and so $\nu_1(E)\leq 0$, i.e. $\nu(E)\leq \nu_2(E)$. The reverse inequality is obtained by observing that $f_0$ is in $\mathcal{H}$ and so we see that $\nu(E)=\nu_2(E)$ for such $E$. Finally, since $\nu<<\mu$, for all $E\in\mathcal{F}$, $\nu(E)=\nu(E\cap N)=\nu_2(E\cap N)=\nu_2(E)=\int_E f_0 d\mu$, which concludes the proof.
\end{proof}

\begin{remark}
\begin{enumerate}
    \item Without assuming $\nu<<\mu$, the proof shows that there exists a decomposition (Lebesgue decomposition) $\nu =\nu_1+\nu_2$, where $\nu_2(A)=\int_A f d\mu$, and $\nu_2\perp\mu$ (orthogonal), i.e. there exists a measurable partition $\Omega = P\displaystyle\cup N$, s.t. $\mu(P)=0$ ($\mu(A)=0$, for all $A\subseteq P$), $|\nu_2(P)|=0$ ($\nu_2(A)=0$, for all $A\subseteq N$). 
    \item The unique $f$ in Theorem \ref{thm: Radon-Nikodym} is the \noindent\underline{Radon-Nikodym derivative of $\nu$ wrt $\mu$}, denoted $\frac{d\nu}{d\mu}$. The result says that $\nu(A)=\int_\Omega \mathbf{1}_A d\nu = \int_A f d\mu = \int_\Omega \mathbf{1}_A \frac{d\nu}{d\mu}d\nu$. Hence a measurable function $g$ is $\nu-$integrable iff $g\frac{d\nu}{d\mu}$ is $\mu-$integrable and then $\int_\Omega g d\nu = \int_\Omega g \frac{d\nu}{d\mu}d\nu$.
\end{enumerate}
\end{remark}

\subsection{The dual space of $L_p$}

Let $(\Omega, \mathcal{F}, \mu)$ be a measure space. Let $1\leq p<\infty $ and $1< q\leq \infty$ s.t. $\frac{1}{p}+\frac{1}{q}=1$. For $g\in L_q=L_q(\mu)$, define $\phi_g:L_p\to \text{scalars}$ by $\phi_g(f)=\int_\Omega fg d\mu$, for $f\in L_p$. By H\"{o}lder, the product $fg$ is in $L_1(\mu)$ and $|\phi_g(f)|\leq \norm{f}_p\cdot \norm{g}_q$. So $\phi_g$ is well-defined and clearly linear, also bounded with $\norm{\phi_g}\leq \norm{g}_q$ and so $\phi_g$ is an element of $L_p^*$. So we have the map
$$
\begin{array}{cc}
    \phi: L_q \to L_p^*\\
     g \mapsto \phi_g. 
\end{array}
$$
\noindent This map is linear and bounded with $\norm{\phi}\leq 1$.

\begin{theorem}\label{thm: Dual of L_p}
Let $(\Omega, \mathcal{F}, \mu), p, q, \phi$ be as above.
    \begin{enumerate}[label = (\roman*), align = left]
        \item If $1<p<\infty$, then $\phi$ is an isometric isomorphism. So $L_p^*\cong L_q$.
        \item If $p=1$ and $\mu$ is a $\sigma-$finite, then $L_1^*\cong L_\infty$.
    \end{enumerate}
\end{theorem}

\begin{proof}
    \noindent\underline{Proof of (\textit{i})}: $\phi$ is isometric. Fix $g\in L_q$. We know $\norm{\phi_g}\leq  \norm{g}_q$.  Let $\lambda$ be a measurable function s.t. $|\lambda|=1$ and $\lambda g=|g|$.  Let $f = \lambda|g|^{q-1}$. Then, $\norm{f}_p^p=\int_\Omega |f|^p d\mu=\int_\Omega |g|^{p(q-1)} d\mu$ $=\int_\Omega |g|^{q} d\mu=\norm{g}_q^q$. Hence, $\norm{g}_q^{\frac{q}{p}}\cdot \norm{\phi_g}\geq |\phi_g(f)|=\int_\Omega |g|^{q} d\mu=\norm{g}_q^q$, so $\norm{\phi_g}\geq \norm{g}_q^{q-\frac{q}{p}}=\norm{g}_q$.\\

    \noindent\underline{$\phi$ is onto}:  Fix $\psi\in L_p^*$. We seek \inmath{g}{L_q} s.t. $\psi = \phi_g$ (Idea: $\psi(\mathbf{1}_A)=\int_A g d\mu$).\\

    \noindent\underline{Case 1}: $\mu$ is finite.\\
    
    Then for \inmath{A}{\mathcal{F}} and $\mathbf{1}_A\in L_p$ so can define $\nu(a)=\psi(\mathbf{1}_A)$. It is an easy check using the DCT that $\nu:\mathcal{F}\to \C$ is indeed a complex measure and $\nu<<\mu$. If \inmath{A}{\mathcal{F}}, $\mu(A)=0$, then $\mathbf{1}_A=0$ almost everywhere (a.e.) in $L_p(\mu)$, so $\nu(A)=\psi(\mathbf{1}_A)=0$. Then $\nu<<\mu$. By Theorem \ref{thm: Radon-Nikodym}, there exists $g\in L_1(\mu)$ s.t. $\nu(A)=\int_A g d\mu$ for all $A\in\mathcal{F}$. So $\psi(\mathbf{1}_A)=\int_\Omega \mathbf{1}_Ag d\mu$, for \inmath{A}{\F}. Hence, $\psi(f)=\int_\Omega fg d\mu$ for all simple functions $f$. Now given \inmath{f}{L_\infty(\mu)}, \isthere simple $f_n\to f\in L_\infty(\mu)$ (hence in $L_p(\mu)$ since $\mu$ is finite). So $\psi(f_n)\to\psi(f)$ and $f_n g\to fg\in L_1(\mu)$, using H\"{o}lder for $p=1, \infty$. So $\psi(f)=\int_\Omega fgd\mu $ \allin{f}{L_\infty(\mu)}. For \inmath{n}{\N}, let $A_n = \{|g|\leq n\}$ and $f_n = \lambda\cdot \mathbf{1}_{A_n}|g|^{q-1}$, where $|\lambda|=1, \lambda g =|g|$.\\
    Now, $\int_\Omega f_n g d\mu=\int_{A_n}|g|^q d\mu = \psi(f_n)$ (as $f_n$ is in $L_\infty$). $\psi(f_n)\leq\norm{\psi}\cdot\norm{f_n}_p=\norm{\psi}\left(\int_{A_n}|g|^q\right)^{\frac{1}{p}}$. By monotone convergence, we deduce that $\left(\int_{A_n}|g|^q\right)^{\frac{1}{q}}\leq \norm{\psi}$ and hence that $g$ is in $L_q$. Given $f\in L_p$, there exists $f_n\to f$ simple in $L_p$. So $\psi(f_n)\to \psi(f)$ and $f_ng\to fg\in L_1$ (H\"{o}lder for the pair $(p,q)$). Hence, $\psi(f)=\int_\Omega fgd\mu$, concluding the case where $\mu$ is finite.\\

    Before we treat the more general case, observe that for $A\in\F$, let $\F_A=\{B\in\F:B\subseteq A\}$ and $\mu_A=\restr{\mu}{\F_A}$, $(A, \F_A, \mu_A)$ is a measure space. Then $L_p(\mu_A)\subseteq L_p(\mu)$ (where we identify $f\in L_p(\mu_A)$ with $f\cdot\mathbf{1}_A\in L_p(\mu)$; this is an isometric embedding). Let $\psi_* = \restr{\psi}{L^p(\mu_A)}$.\\

    \noindent\underline{Claim}: If $A,B$ are in $\F$ s.t. $A\cap B$ is empty, then $\norm{\psi_{A\displaystyle\cup B}}=\left(\norm{\psi_A}^q+\norm{\psi_A}^q\right)^{\frac{1}{q}}$.\\
    \mymark{Lecture 7}Observe that \footnote{using the fact that $(\ell^2_q)^*\equiv \ell^2_p$.}
    $$
    \begin{array}{ll}
    \left(\norm{\psi_A}^q+\norm{\psi_A}^q \right)^{\frac{1}{q}}
    &=\sup\{a\norm{\psi_A}+b\norm{\psi_B}: a,b,\geq 0, a^p+b^p\leq 1\}\\
    &= \sup\{a|\psi_A(f)|+b|\psi_B(g)|: a,b,\geq 0, a^p+b^p\leq 1, f\in B_{L_p(\mu_A)}, g\in B_{L_p(\mu_B)}\}\\
    &= \sup\{|a\psi_A(f)+b\psi_B(g)|: a,b,\geq 0, a^p+b^p\leq 1, f\in B_{L_p(\mu_A)}, g\in B_{L_p(\mu_B)}\}.
    \end{array}
    $$
    \\
    
    Now, $a\psi_A(f)+b\psi_B(g)=\psi_{A\displaystyle\cup B}(af+bg)$ (embed $f,g\in L_p(\mu)$ be extending $f,g$ to zero outside $A,B$ respectively). Now, continuing the above we obtain
    $$
    = \sup\{|\psi_{A\displaystyle\cup B}(h)|: h\in B_{L_p(\mu_{A\displaystyle\cup B})}\}\\
    =\norm{\psi_{A\displaystyle\cup B}}
    $$
    as required, concluding the proof of the finite case.\\

    \noindent\underline{Case 2}: $\mu$ is $\sigma-$finite.\\

    There exists a measurable partition $\Omega= \displaystyle\bigcup_{n\in\N}A_n$, of $\Omega$, s.t. $\mu(A_n)<\infty$ for all $n$. By Case 1, for all $n\in\N$, there exists $g_n\in L_q(\mu_A)$ s.t. $\psi_{A_n}=\psi_{g_n}$, i.e. $\psi(f)=\int_{A_n} f g_n d\mu$, for all $f\in L_p(\mu_{A_n})$. By Claim 2, $\displaystyle\sum^n_{k=1}\norm{g_k}^q_q=\sum^n_{k=1}\norm{\psi_{A_n}}^q=\norm{\psi_{\cup_{k=1}^nA_k}}^q\leq \norm{\psi}^q$. If we define $g$ on $\Omega$ by setting $g=g_n$ on $A_n$, then $g$ is in $L_q$. Thus, $\psi(f)=\psi_g(f)$ for all $f\in L_p(\mu_n)$, for all $n$. Hence, $\psi(f)=\phi_g(f)$ on $\overline{\spn\{\displaystyle\bigcup_{n\in\N}L_p(\mu_n)\}}=L_p(\mu)$.\\

    \noindent\underline{Case 3}: general $\mu$. \\

First assume that for $f\in L_p(\mu)$, $\{f\neq 0\}$ is $\sigma-$ finite. Indeed, $\{f\neq 0\}=\displaystyle\bigcup_{n\in \N}\{|f|>\frac{1}{n}\}$ and $\mu(\{|f|>\frac{1}{n}\})\leq n^p\cdot\norm{f}_p^p<\infty$ by Markov's inequality.\\
Chose $(f_n)\in B_{L_p}$ s.t. $\psi(f_n)\to\norm{\psi}$. Then $A = \displaystyle\bigcup_{n\in\N}\{f_n\neq 0\}$ is $\sigma-$finite and $\norm{\psi_A}=\norm{\psi}$. By the claim previously established, 
$\norm{\psi }=\left(\norm{\psi_A}^q+\norm{\psi_{\Omega \setminus A}}^q\right)^{\frac{1}{q}}$. By case 2, there exists a $g\in L_q(\mu_A)\subseteq L_q(\mu)$ s.t. $\phi_A= \phi_g$. So for all $f\in L_p(\mu)$, $\psi(f)=\psi_A(\restr{f}{A})+\psi_{\Omega\setminus A}(\restr{f}{\Omega\setminus A})=\int_A\restr{f}{A}gd\mu = \int_\Omega fgd\mu$ (extend $g$ in the usual sense.). \\

\noindent\underline{Proof of (\textit{ii})} ($\mu$ is $\sigma-$ finite).\\

\noindent\underline{$\phi$ is isometric}: Let \inmath{g}{L_\infty}. We know already that $\norm{\phi_g}\leq \norm{g}_\infty$ (H\"{o}lder). Fix $s<\norm{g}_\infty$. Then $\mu(\{|g|>s\})>0$. Since $\mu$ is $\sigma-$finite, there exists $A\subseteq\{|g|>s\}$ s.t. $0<\mu(A)<\infty$. Choose a measurable function $\lambda$ s.t. $|\lambda|=1$ and $\lambda g = |g|$. Then $\lambda g$ is in $L_1(\mu)$,  $\norm{\lambda g}_1=\mu(A)$. Now, $\mu(A)\cdot \norm{\phi_g}\geq |\phi_g(\lambda \mathbf{1}_A)|=\int_A|g|\geq s\mu(A)$.  We deduce $\norm{\phi_g}>s$ and so $\norm{\phi_g}\geq s$ and hence $\norm{\phi_g}\geq \norm{g}_\infty$.  \\

\noindent\underline{$\phi$ is onto}: Fix $\psi\in L_1^*$. Seek $g\in L_\infty$
s.t. $\psi = \phi_g$.\\

\noindent\underline{Case 1}: $\mu$ is finite. Define $\nu(A)=\psi(\mathbf{1}_A)$ for all $A\in\F$ and proceed in the same way as for $p>1$. \\

\noindent\underline{Case 2}: $\mu$ is $\sigma-$finite. This time we prove\\

\noindent\underline{Claim}: If $A,B$ are in $\F$ s.t. $A\cap B$ is empty, then $\norm{\psi_{A\displaystyle\cup B}}=\max\{\norm{\psi_A}, \norm{\psi_B}\}$.\\
    Observe like before that \footnote{using the fact that $(\ell^2_1)^*\equiv \ell^2_\infty$.}
    $$
    \begin{array}{ll}
    \max\{\norm{\psi_A}, \norm{\psi_B}\}
    &=\sup\{a\norm{\psi_A}+b\norm{\psi_B}: a,b,\geq 0, a^p+b^p\leq 1\}\\
    &= \sup\{a|\psi_A(f)|+b|\psi_B(g)|: a,b,\geq 0, a+b\leq 1, f\in B_{L_1(\mu_A)}, g\in B_{L_1(\mu_B)}\}\\
    &= \sup\{|a\psi_A(f)+b\psi_B(g)|: a,b,\geq 0, a+b\leq 1, f\in B_{L_1(\mu_A)}, g\in B_{L_1(\mu_B)}\}\\
    &= \sup\{|\psi_{A\displaystyle\cup B}(h)|: h\in B_{L_1(\mu_{A\displaystyle\cup B})}\}\\
    &=\norm{\psi_{A\displaystyle\cup B}}
    \end{array}
    $$
    as required.\\
    
    To conclude, proceed in an entirely analogous way using a measurable partition of $\Omega = \displaystyle\bigcup_{n\in\N}A_n$, s.t. $\mu_{A_n}$ is a finite measure for all $n\in\N$. By Case 1, for all $n\in\N$, there exists $g_n\in L_\infty (\mu_{A_n})$ s.t. $\psi_{A_n}=\psi_{g_n}$, i.e. $\psi(f)=\int_{A_n} f g_n d\mu$, for all $f\in L_1(\mu_{A_n})$. Now, by the previous claim, 
    $$
\displaystyle\norm{\sum^n_{k=1}g_k\mathbf{1}_{A_k}}_\infty = \norm{\psi_{\cup_{k=1}^nA_k}} = \displaystyle\max_{1\leq k\leq n}\norm{\psi_{A_k}}\leq \norm{\psi}.
$$ 
If we define $g$ on $\Omega$ by setting $g=g_n$ on $A_n$, then $g$ is in $L_\infty$ with $\norm{g}_\infty\leq \norm{\psi}$. Thus, $\psi(f)=\psi_g(f)$ for all $f\in L_1(\mu_{A_n})$, for all $n$. Hence, $\psi(f)=\phi_g(f)$ on $\overline{\spn\{\displaystyle\bigcup_{n\in\N}L_1(\mu_n)\}}=L_1(\mu)$.\\
\end{proof}

\begin{boxcor}\label{cor: reflexivity of L_p}
    For $1<p<\infty$, for a measure space $(\Omega, \F, \mu)$ $L_p(\mu)$ is reflexive. 
\end{boxcor}

\begin{proof}
    Let $\psi$ be in $L_p^{**}$. then $g\mapsto \psi(\phi_g):L_q\to \text{scalars}$ is in $L_q^*$ ($\frac{1}{p}+\frac{1}{q}=1$). By Theorem \ref{thm: Dual of L_p}(\textit{i}), there exists $f\in L_p$ s.t. $\bracket{\phi_g}{\psi}=\int_\Omega fgd\mu = \bracket{f}{\phi_g}=\bracket{\phi_g}{\hat{f}}$ for all $g\in L_q$. Then $\psi = \hat{f}$, since $L_p^* = \{\phi_g: g\in L_q\}$. 
\end{proof}

\subsection{$\mathcal{C}(K)$ spaces}

Throughout, $K$ is a compact, Hausdorff topological space. Define \\
$$
\mathcal{C}(K)=\{f:K\to\C: f \text{ continuous}\},
$$
a complex Banach space in the sup-norm: $\norm{f}_\infty=\displaystyle\sup_{K}|f|$.\\
$$
\scrC^{\R}(K)=\{f:K\to\R: f \text{ continuous},\}
$$
is a real Banach space with norm $\norm{f}_\infty=\sup_K|f|$. 
$$
\scrC^+(K)=\{f\in\scrC(K): f \geq 0\}.
$$
Moreover, 
$$
\scrM(K)=\scrC(K)^*,
$$
is a complex Banach space in the operator norm.\\
$$
\scrM^{\R}(K)=\{\phi\in\scrM(K):\phi(f)\in\R, \forall f\in\scrC^{R}(K)\},
$$
is a closed, real-linear subspace of $\scrM(K)$.\\
$$
\scrM^{+}(K)=\{\phi:\scrC(K)\to\C:\phi \text{ is linear} \phi(f)\geq 0, \forall f\in\scrC^{+}(K)\}.
$$
Elements of $\scrM^+(K)$ are called \noindent\underline{positive linear functionals}. \\

\noindent\underline{Aim}: identify $\scrM(K), \scrM^{\R}(K)$.

\begin{boxlemma}\label{lemma: properties of M(K)}
    \begin{enumerate}[label = (\roman*), align = left]
        \item For all $\phi\in\scrM(K)$, there exist unique \inmath{\phi_1,\phi_2}{\mathcal{M}^{R}(K)}, $\phi = \phi_1+i\phi_2$
        \item $\phi\mapsto \restr{\phi}{\mathcal{C}^{\R}(K)}:\mathcal{M}^\R(K)\to(\mathcal{C}^{\R}(K))^*$ is an isometric isomorphism.
        \item $\mathcal{M}^+(K)\subset \mathcal{M}(K)$ and $\mathcal{M}^+(K)=\{\phi \in \mathcal{M}(K):\norm{\phi}=\phi(\mathbf{1}_K)\}$.
        \item For all $\phi\in\mathcal{M}^{\R}(K)$, there exist unique $\phi^+, \phi^-\in\mathcal{M}^+(K)$ s.t. $\phi = \phi^+-\phi^-$ and $\norm{\phi}=\norm{\phi^+}+\norm{\phi^-}$.
    \end{enumerate}
\end{boxlemma}

\begin{proof}
    \begin{enumerate}[label = (\roman*), align = left]
        \item Let $\phi$ be in $\mathcal{M}(K)$. Define $\overline{\phi}:\mathcal{C}(K)\to\C$, by $\overline{\phi}(f) = \phi(\overline{f})$. Then, $\overline{\phi}$ is in $\mathcal{M}(K)$ and $\phi$ is in $\mathcal{M}^{\R}(K)$ $\iff$ $\phi = \overline{\phi}$\footnote{check!}.\\
        
        \noindent\underline{Uniqueness}: assume $\phi = \phi_1+i\phi_2$ where \inmath{\phi_1, \phi_2}{\mathcal{M}^{\R}(K)}. Then $\overline{\phi} = \phi_1-i\phi_2$ so $\phi_1 = \frac{\phi+\overline{\phi}}{2}, \phi_2 = \frac{\phi-\overline{\phi}}{2}$.\\

        \noindent\underline{Existence}: check that the above works.
        \item Let $\phi$ be in $\mathcal{M}^{\R}(K)$. The fact that $\norm{\restr{\phi}{\mathcal{C}^{\R}(K)}}\leq \norm{\phi}_{\mathcal{C}(K)}$ is clear. Let $f$ be in $B_{\mathcal{C}(K)}$. Choose $\lambda\in\C$, $|\lambda|=1$ and $\lambda\phi(f)=|\phi(f)|$. So $|\phi(f)|=\phi(\lambda f)=\phi(\Real(\lambda f))+i\phi(\Img(\lambda f)) = \phi(\Real(\lambda f))\leq \norm{\restr{\phi}{\mathcal{C}^{\R}(K)}}\cdot\norm{\Real(\lambda f)}_\infty\leq \norm{\restr{\phi}{\mathcal{C}^{\R}(K)}}$.\\
        Hence, $\norm{\restr{\phi}{\mathcal{C}^{\R}(K)}}\geq \norm{\phi}$. Finally, given $\psi\in(\mathcal{C}^{\R}(K))^*$, define $\phi(f)=\psi(\Real(f))+i\psi(\Img(f))$, for $f\in\mathcal{C}(k)$. Then $\phi$ is in $\mathcal{M}(K)$ and $\restr{\phi}{\mathcal{C}^{\R}(K)}=\psi$.
        \item \mymark{Lecture 8}\noindent\underline{$\mathcal{M}^+(K)\subset\mathcal{M}(K)$}: let $\phi$ be in $\mathcal{M}^+(K)$. \\
        For $f\in\mathcal{C}^{\R}(K)$, $\norm{f}_\infty\leq 1$ we have $\mathbf{1}_K\pm f\geq 0$, so $\phi(\mathbf{1}_K\pm f)\geq 0$. So $\phi(f)$ is in $\R$ and $|\phi(f)|\leq \phi(\mathbf{1}_K)$. So $\restr{\phi}{\mathbf{C}^{\R}(K)}$ is in $(\mathcal{C}^{\R}(K))^*$ and $\norm{\restr{\phi}{\mathbf{C}^{\R}(K)}}=\phi(\mathbf{1}_K)$. By (\textit{ii}), $\phi$ is in $\mathcal{M}(K)$, $\norm{\phi}=\phi(\mathbf{1}_K)$.\\

        \noindent\underline{$\mathcal{M}^+(K)=\{\phi \in \mathcal{M}(K):\norm{\phi}=\phi(\mathbf{1}_K)\}$} ("$\supseteq$"): let $\phi$ be in $\mathcal{M}(K)$ with $\norm{\phi}=\phi(\mathbf{1}_K)$. Wlog, $\norm{\phi}= \phi(\mathbf{1}_K)=1$. Fix $f\in B_{\mathcal{C}^{\R}(K)}$, let $\phi(f)=\alpha + i\beta$, with $\alpha, \beta\in\R$. \\
        
        \noindent\underline{Need}: $\beta=0$. For $t\in\R$, $|\phi(f+it\mathbf{1}_K)|^2=\alpha^2+(\beta+t)^2=\alpha^2+\beta^2+2\beta t\leq \norm{f+it\mathbf{1}_K}_\infty^2\leq 1+t^2$, so $\beta = 0$. Given $f\in\mathcal{C}^+(K)$, with $0\leq f\leq 1$ on $K$ it follows that $|2f-\mathbf{1}_K|\leq 1$, so $\norm{2f-\mathbf{1}_K}_\infty\leq 1$. So $|\phi(2f-\mathbf{1}_K)|\leq 1$, i.e. $-1\leq 2\phi(f)\leq 1$, which implies $\phi(f)\geq 0$.
        \item Let $\phi$ be in $\mathcal{M}^{\R}(K)$. Assume $\phi = \psi_1-\psi_2$, where \inmath{\psi_1, \psi_2}{\mathcal{M}^+(K)}. For \inmath{f,g}{\mathcal{C}^+(K)} with $0\leq g\leq f$, $\psi_1(f)\geq \psi_1(g)=\phi(g)+\psi_2(g)\geq \phi(g)$. So $\psi_1(f)\geq \sup\{\phi(g):0\leq g \leq f\}$. Define for $f$in $\mathcal{C}(K)$
        $$
        \phi^+(K) = \sup\{\phi(g):0\leq g \leq f\}
        $$
        Note that $\phi^+(f)\geq 0$, $\phi^+(f)\leq \norm{\phi}\cdot\norm{f}_\infty$, $\phi^+(f)\geq \phi(f)$. Furthermore, it is easy to check that $\phi^+(t_1 f_1 + t_2 f_2)= t_1\phi^+(f_1) + t_2 \phi^+(f_2)$ for all \inmath{f_1, f_2}{\mathcal{C}^+(K)}, $t_1, t_2\in\R^+$. Next, for $f\in\mathcal{C}^{\R}(K)$, write $f=f_1-f_2$, both in $\mathcal{C}^+(K)$\footnote{e.g. $f_1=f\lor 0, f_2 = (-f)\lor 0$.} and define $\phi^+(f)=\phi^+(f_1)-\phi^+(f_2)$. This is well-defined and $\R-$linear (check). Finally, for $f$
        in $\mathcal{C}(K)$, let $\phi^+(f) = \phi^+(\Real f)+i \phi^+(\Img f)$. Then $\phi^+$ is $\C-$linear and since $\phi^+(f)\geq 0 $ for all $f\in\mathcal{C}^+(K)$, we have $\phi^+$ is in $\mathcal{M}^+(K)$. Define $\phi^- = \phi^+-\phi$. For $f\in\mathcal{C}^+(K)$, $\phi^+(f)\geq \phi(f)$ implies that $\phi^-$ is in $\mathcal{M}^+(K)$ and $\phi = \phi^+-\phi^-$. $\norm{\phi}\leq \norm{\phi^+}+\norm{\phi^-}=\phi^+(\mathbf{1}_K)+\phi^-(\mathbf{1}_K)=2\phi^+(\mathbf{1}_K)-\phi(\mathbf{1}_K)$. Given $f\in\mathcal{C}^+(K)$ with $0\leq f \leq 1$, $-1\leq 2f-1\leq 1$, so $2\phi(f)-\phi(\mathbf{1}_K)=\phi(2f-\mathbf{1}_K)\leq \norm{\phi}$. Taking the supremum over $f$, we deduce that $2\phi^+(\mathbf{1}_K)-\phi(\mathbf{1}_K)=\phi(2f-\mathbf{1}_K)$. So $\norm{\phi}=\norm{\phi^+}+\norm{\phi^-}$.\\

        \noindent\underline{Uniqueness}: Assume $\phi=\psi_1-\psi_2$, where $\psi_1, \psi_2$ are in $\mathcal{M}^+(K)$ and $\norm{\phi}=\norm{\psi_1}+\norm{\psi_2}$. From initial observation, $\psi_1\geq \phi^+$ on $\mathcal{C}^+(K)$ and so $\psi_2=\psi_1-\phi\geq \phi^+-\phi =\phi^-$ on $\mathcal{C}^+(K)$. Hence, $\psi_1-\psi^+=\psi_2-\phi^-$ is in $\mathcal{M}^+(K)$. By (\textit{iii}), $\norm{\psi_1-\psi^+}+\norm{\psi_2-\psi^-}=\psi_1(\mathbf{1}_K)-\phi^+(\mathbf{1}_K)+\psi_2(\mathbf{1}_K)-\phi^-(\mathbf{1}_K)$
        $=\norm{\psi_1}+\norm{\psi_2}-\norm{\phi^+}-\norm{\phi^-}=\norm{\phi}-\norm{\phi}=0$. Thus, $\psi_1 = \phi^+, \psi_2=\phi^-$.
 \end{enumerate}
\end{proof}

\subsection{Topological Preliminaries}

We begin with some definitions and key topological results that will be useful in obtaining the characterisation of the dual spaces $(\mathcal{C}(K))^*$.

\begin{enumerate}
    \item $K$ being compact, Hausdorff is \noindent\underline{normal}: given disjoint closed sets $E,F$ there exists disjoint open sets $\mathcal{U}, \mathcal{V}\in K$ s.t. $E\subset \mathcal{U}$, $F\subset \mathcal{V}$. Equivalently, given $E\subset \mathcal{U}\subseteq K$, $E$ closed, $\mathcal{U}$ open, there exists $\mathcal{V}$ open s.t. $E\subset \mathcal{V}\subseteq \mathcal{U}$ (use normality in $E, K\setminus \mathcal{U}$).
    \item \noindent\underline{Urysohn Lemma}: given disjoint closed sets $E,F\in K$, there exists a continuous function $f:K\to [0,1]$ s.t. $\restr{f}{E}=0$ and $\restr{f}{F}=1$.
    \item \noindent\underline{Notation}: \noindent\underline{$f\prec\mathcal{U}$} means $\mathcal{U}\subseteq K$ open $f:K\to[0,1]$ is \noindent\underline{continuous and the support of $f$} $\supp(f)=\{x\in K: f(x)\neq 0\}\subseteq \mathcal{U}$. \noindent\underline{$E\prec\mathcal{U}$} means $E$ is a closed subset of $K$, $f:K\to[0,1]$ continuous and $\restr{f}{E}=1$.\\
    \noindent\underline{Urysohn says}: $E\subseteq \mathcal{U}\subseteq K$, $E$ closed, $\mathcal{U}$ open, then there exists a continuous function $f$ s.t. $E\prec f\prec \mathcal{U}$ ($E\subseteq \mathcal{V}\subseteq \overline{\mathcal{V} }\subseteq\mathcal{U}$, $\mathcal{V}$ open and apply Urysohn to $E,F=K\setminus \mathcal{V}$). 
\end{enumerate}

\begin{boxlemma}\label{lemma: partition of unity}
    Let $E ,\mathcal{U}_1 \dots\mathcal{U}_n $ be subsets of $K$ ($n\in\N$), $E$ closed, $\mathcal{U}_j$ open for $1\leq j \leq n$ s.t. $E\subseteq \displaystyle\cup ^n_{j=1}\mathcal{U}_j$. Then
    \begin{enumerate}[label = (\roman*), align = left]
        \item there exist open sets $\mathcal{V}_j, 1\leq j\leq n$, s.t. $\overline{\mathcal{V}}_j\subseteq\mathcal{U}_j$ for all $j$ and $E\subseteq \displaystyle\cup ^n_{j=1}\mathcal{V}_j$.
        \item there exist $f_j\prec \mathcal{U}_j, 1\leq j\leq n$, s.t. $0\leq \displaystyle\sum_{j=1}^nf_j\leq 1 $ on K and $\sum_{j=1}^nf_j=1$ on $E$. 
    \end{enumerate}
\end{boxlemma}

\begin{proof}
    \begin{enumerate}[label = (\roman*), align = left]
        \item We proceed by induction on $n$.\\
        
        \noindent\underline{$n=1$}: is just a restatement of normality of $K$.\\

         \noindent\underline{$n>1$}: $E\setminus\mathcal{U_n}\subseteq \displaystyle\bigcup_{j<n}\mathcal{U}_j$, so by induction there exist open sets $\mathcal{V}_j, j<n$, s.t. $\overline{\mathcal{V}}_j\subseteq\mathcal{U}_j$ and $E\setminus \mathcal{U}_n \subseteq \displaystyle\cup _{j<n}\mathcal{V}_j$. So $E\setminus\displaystyle\cup _{j<n}\mathcal{V}_j\subseteq \mathcal{U}_n$ and so by normality, there exists open $\mathcal{V}_n$ s.t. $E\setminus\displaystyle\cup _{j<n}\mathcal{V}_j\subseteq \mathcal{V}_n\subseteq\overline{\mathcal{V}}_n\subseteq\mathcal{U}_n$.

         \item Let $\mathcal{V}_j$ be as in part (\textit{i}). By Urysohn, there exists $h_j$ s.t. $\overline{\mathcal{V}}_j\prec h_j \prec \mathcal{U}_j$ for $1\leq j \leq n$, and there exists $h_0$ s.t. $K\setminus \displaystyle\bigcup^n_{j=1}\mathcal{V}_j\prec h_0\prec K\setminus E$.\\
         Let $h = h_0 +\displaystyle\sum_{j=1}^n h_j$. Then $h\geq 1$ on $K$. Let $f_j = \frac{h_j}{h}$ for all $j$. Then $0\leq \displaystyle\sum_{j=1}^n f_j \leq 1$ on $K$ and $\displaystyle\sum_{j=1}^n f_j=1$ on $E$ where $f_j\prec \mathcal{U}_j$ for all j.
    \end{enumerate}
\end{proof}

\subsection{Borel Measures}

Let $X$ be a Hausdorff space. Let $\mathcal{G}$ be the family of open sets in $X$. The \noindent\underline{Borel $\sigma-$algebra} of $X$ is $\mathcal{B}=\sigma(\mathcal{G})$, the $\sigma-$algebra generated by $\mathcal{G}$. members of $\mathcal{B}$ are called \noindent\underline{Borel sets}. A \noindent\underline{Borel measure} on $X$ is a (positive) measure $\mu$ on $\mathcal{B}$. we say $\mu$ is \noindent\underline{regular} if 
\begin{enumerate}[label = (\roman*), align = left]
    \item $\mu(E)<\infty$ for all $E\subseteq X$, $E$ compact.
    \item $\mu(A)=\inf\{\mu(\mathcal{U}):A\subseteq \mathcal{U}\in \mathcal{G}\}$ for all $A\in\mathcal{B}$.
    \item $\mu(\mathcal{U})=\sup\{\mu(E):E\subseteq \mathcal{U}, E \text{ compact}\}$.
\end{enumerate}
A complex Borel measure $\nu$ is \noindent\underline{regular} if $|\nu|$ is regular. If $X$ is compact, Hausdorff, then a Borel measure $\mu$ on $X$ is regular\\
$$
\begin{array}{ll}
    &\iff \mu(X)<\infty  \text{ and } \mu(A)=\inf\{\mu(\mathcal{U}):A\subseteq \mathcal{U}\in \mathcal{G}\} \text{ for all } A\in\mathcal{B}.\\
    &\iff \mu(X)<\infty \text{ and } \mu(A)=\sup\{\mu(E):E\subseteq A, E \text{ closed}\} \text{ for all } A\in\mathcal{B}.\\
    \end{array}
$$
\subsection{Integration with respect to complex measures}

Let $\Omega$ be a set, $\F$ a $\sigma-$algebra on $\Omega$ and $\nu$ a complex measure on $\F$. Then $\nu$ has Jordan decomposition $\nu = \nu_1-\nu_2+i(\nu_3-\nu_4)$. Say a measurable function $f:\Omega\to \C$ is \noindent\underline{$\nu-$integrable} if $f$ is $|\nu|-$integrable (i.e. $\int_\Omega |f|d|\nu|<\infty$) iff $f$ is $\nu_k-$integrable for all $k$. So we define
$$
\displaystyle\int_\Omega f d\nu = \displaystyle\int_\Omega f d\nu_1-\displaystyle\int_\Omega f d\nu_2+i\displaystyle\int_\Omega f d\nu_3-i\displaystyle\int_\Omega f d\nu_4.
$$

\mymark{Lecture 9}\noindent\underline{Properties}:

\begin{enumerate}
    \item $\int_\Omega\mathbf{1}_A d\nu= \nu(A)$, for all $A\in\F$.
    \item Linearity: if $f,g:\Omega\to\C$ are $\nu-$integrable, $a,b\in\C$, then $af+bg$ is $\nu-$integrable and $\int_\Omega (af+bg)d\nu = a\int_\Omega fd\nu+b\int_\Omega gd\nu$.
    \item \noindent\underline{Dominated Convergence (DC)}: let $(f_n)_{n\in\N}$, $f,g,$ be emasurable functions s.t. $f_n\to f$ a.e. (wrt $|\nu|$) and $g$ is in $L_1(|\nu|)$ and for all n $|f_n|\leq g$ then $f$ is $\nu-$integrable and $\int_\Omega f_n d\nu\to \int_\Omega f d\nu$ (True for $\nu_k$ for all $k$, so true for $\nu$).
    \item $\left|\int_\Omega fd\nu\right|\leq\int_\Omega|f|d|\nu|$ for all $f\in L_1(\nu)$ (True for simple functions by $1\&2$ and for general $f$, use DCT).
\end{enumerate}

Let $\nu$ be a complex Borel measure on $K$ (compact, hausdorff). Then for $f$ continuous, then 
$$
\displaystyle\int_K|f|d|\nu|\leq \norm{f}\cdot|\nu|(K).
$$
So, $f$ is $\nu-$integrable. Define $\phi:\mathcal{C}(K)\to\C$ by $\phi(f)=\int_K fd\nu$. Then $\phi$ is in $\mathcal{M}(K)$ and $\norm{\phi}\leq |\nu|(K)=\norm{\nu}_1$ (TV norm). If $\nu$ is a signed measure, then $\phi$ is a member of $\mathcal{M}^{\R}(K)$. If $\nu$ is a positive measure, then $\phi$ is in $\mathcal{M}^+(K)$.

\begin{theorem}[Riesz Representation Theorem]\label{thm: Riesz Representation C(K)}
    For every $\phi\in\mathcal{M}^+(K)$, there exists a unique regular Borel measure $\mu$ on $K$ that represents $\phi$, i.e. $\phi(f) = \int_K fd\mu$ for all continuous $f$. Moreover, 
    $$
    \norm{\phi}=\mu(K)=\norm{\mu}_1 \text{ TV norm of } \mu.
    $$
\end{theorem}

\begin{proof}
    \noindent\underline{Uniqueness}: Assume $\mu_1, \mu_2$ both represent $\phi$. Let $E\subseteq\mathcal{U}\subseteq K$, where $E$ is closed and $\mathcal{U}$ is open, then by Urysohn, there exists $f$ continuous s.t. $E\prec f\prec \mathcal{U}$. Now, $\mu_1(E)\leq \int_K fd\mu_1 = \phi(f) = \int_K fd\mu_2\leq \mu_2(\mathcal{U})$. Take infemum over $\mathcal{U}$ open and use regularity to deduce that $\mu_1(E)\leq \mu_2(E)$, and by symmetry $\mu_1(E) = \mu_2(E)$ agree on closed sets, and we conclude that $\mu_1=\mu_2$ for all $A\in\F$ by regularity from below.\\

    \noindent\underline{Existence}: Define for $\mathcal{U}\in\mathcal{G}$ (i.e. $\mathcal{U}$ open), $\mu^*(\mathcal{U})=\sup\{\phi(f):f\prec \mathcal{U}\}$. Note that $\mu^*(\mathcal{U})\geq 0$, and for $\mathcal{V}\supseteq \mathcal{U}$, $\mathcal{U}, \mathcal{V}\in\mathcal{G}$, then $\mu^*(\mathcal{V})\geq \mu^*(\mathcal{U})$ and hence $\mu^*(\mathcal{U})\leq \mu^*(\mathcal{K})$ but $\mu^*(K)=\phi(\mathbf{1}_K)$ ($f\prec K$ implies $f\leq \mathbf{1}_K$ and $\phi$ is in $\mathcal{M}^+(K)$). It follows that for $\mathcal{U}\in\mathcal{G}$, $\mu^*(\mathcal{U})=\inf\{\mu^*(\mathcal{U}): A\subseteq\mathcal{U}\in\mathcal{G}\}$. Extend the definition of $\mu^*$: for $A\subseteq K$ let $\mu^*(A) = \inf\{\mu^*(\mathcal{U}):A\subseteq\mathcal{U}\in\mathcal{G}\}$.\\
    
    \noindent\underline{Claim}:$\mu^*$ is an outer measure.\\
    
    We easily have that $\mu^*(\emptyset)=0$ and for all $A\subseteq B\subseteq K$ $\mu^*(A)\leq \mu^*(B)$. It remains to show that if for all $n$ in \N
    $$
    (A_n)\subseteq K, \text{ then }  \mu^*\left(\displaystyle\bigcup_{n\in\N}A_n\right)\leq \sum_{n}\mu^*(A_n).
    $$
    To see this, first fix $\mathcal{U}_n\in\mathcal{G}$ for $n\in\N$ and let $\mathcal{U}=\displaystyle\bigcup_{n\in\N}\mathcal{U}_n$. Fix $f\prec \mathcal{U}$ and let $E=\supp f$. Then $E\subseteq \displaystyle\bigcup_{n\in\N}\mathcal{U}_n$, by compactness, $E\subseteq\displaystyle\bigcup^n_{k=1}\mathcal{U}_k$ for some $n\in\N$. By lemma \ref{lemma: partition of unity}, there exist $h_j \prec \mathbf{U}_j$, $1\leq j \leq n$, $\displaystyle \sum_{j=1}^n h_j\leq 1 $ on $K$ and is equal to $1$ on $E$. So $f=\displaystyle \sum_{j=1}^n fh_j$ and hence $\phi(f) = \displaystyle \sum_{j=1}^n \phi(fh_j)\leq \displaystyle \sum_{j=1}^n \mu^*(\mathcal{U}_j)\leq \displaystyle \sum_{j=1}^\infty \mu^*(\mathcal{U}_j)$ as $fh_j\prec \mu^*(\mathcal{U}_j)$ for all $j$.\\
    Taking the supremum of $f$, we deduce $\mu^*(\mathcal{U})\leq \displaystyle \sum_{j=1}^\infty \mu^*(\mathcal{U}_j)$. It follows easily that $\mu^*\left(\displaystyle\bigcup_{n\in\N}A_n\right)\leq \sum_{n}\mu^*(A_n)$ for arbitrary sets (just approximate using an $\frac{\epsilon}{2^n}$ argument). We now let $\mathcal{M}$ be the set of $\mu^*-$measurable subsets of $K$, then $\mathcal{M}$ is a $\sigma-$algebra and $\restr{\mu^*}{\mathcal{M}}$ is a measure on $\mathcal{M}$.\\
    Next we show that $\mathcal{B}\subseteq \mathcal{U}$. Enough to show that $\mathcal{G}\subseteq\mathcal{M}$. Let $\mathcal{U}$ be in $\mathcal{G}$. We need to show: $\mu^*(A)\geq \mu^*(A\cap \mathcal{U})+\mu^*(A\setminus\mathcal{U})$ for all $A\subseteq K$. First let $A = \mathcal{V}\in\mathcal{G}$. Fix $f\prec \mathcal{V}\cap \mathcal{U}$
, fix $g\prec \mathcal{V}\setminus \supp f$. Then $f+g\prec \mathcal{V}$, and thus $\mu^*(\mathcal{V})\geq \phi(f+g)=\phi(f)+\phi(g)$. Taking the supremum over $g$, we get $\mu^*(\mathcal{V})\geq \phi(f)+\mu^*(\mathcal{V}\setminus \supp f)\geq \phi(f)+\mu^*(\mathcal{V}\cap \mathcal{U})$. Now let $A\subset K$ be arbitrary. Fix $\mathcal{V}\in\mathcal{G}$ s.t. $A\subseteq \mathcal{V}$, then $\mu^*(\mathcal{V})\geq \mu^*(\mathcal{V}\cap \mathcal{U})+\mu^*(\mathcal{V}\cap \mathcal{U})\geq \mu^*(A\cap \mathcal{U})+\mu^*(A\setminus \mathcal{U})$. Taking the infinum over all such $\mathcal{V}$, we have that  $\mu^*(A)\geq \mu^*(A\cap \mathcal{U})+\mu^*(A\setminus \mathcal{U})$.\\

Now, $\mu\coloneqq\restr{\mu^*}{\mathcal{B}}$ is a Borel measure on $K$. We have that $\mu(K)=\phi(\mathbf{1}_K)=\norm{\phi}<\infty$ and by definition, $\mu$ is regular. It remains to show that 
$$
\phi(f) = \displaystyle\int_K fd\mu
$$
for all continuous $f$. It is enough to check that for all $f\in\mathcal{C}^{\R}(K)$ and then to show that $\phi(f)\leq \int_K fd\mu$ (by applying the it to $-f$).\\

Fix $a<b\in\R$ s.t. $f(K)\subseteq [a,b]$. Wlog, $a>0$, since $\phi(\mathbf{1}_K)=\int_K \mathbf{1}_K d\mu$. Let $\epsilon>0$; choose $0\leq y_0<a\leq y_1<\dots<y_n=b$ s.t. $y_j<y_{j+1}+\epsilon$ for all $1\leq j \leq n $. Let $A_j = f^{-1}((y_{j-1},y_j])$. Then, $K = \displaystyle\bigcup^n_{j=1}A_j$ and this is a measurable partition. Choose closed sets $E_j$ and open sets $\mathcal{U}_j$ s.t. $E_j\subseteq A_j\subseteq \mathcal{U}_j$ and $\mu(\mathcal{U}_j\setminus E_j)<\frac{\epsilon}{n}$ (by regularity) and $f(\mathcal{U}_j)\subseteq (y_{j-1},y_j+\epsilon)$. By lemma \ref{lemma: partition of unity} there exist $h_j \prec \mathcal{U}_j$, $1\leq j \leq n$, $\displaystyle \sum_{j=1}^n h_j\leq 1 $ on $K$. Now \footnote{using that $f\leq y_j\leq \epsilon$ and $h_j\prec \mathcal{U}_j$ and $\phi\in\mathcal{M}^+(K)$.}
$$
\begin{array}{ll}

\phi(f) = \displaystyle \sum_{j=1}^n \phi(fh_j)\leq \displaystyle \sum_{j=1}^n (y_j+\epsilon)\phi(h_j)\\
&\leq \displaystyle \sum_{j=1}^n (y_j+\epsilon)\mu(\mathcal{U}_j) \leq \displaystyle \sum_{j=1}^n (y_{j-1}+2\epsilon)\left(\mu(\mathcal{U}_j)+\frac{\epsilon}{n}\right)\\
&\leq\displaystyle \sum_{j=1}^n y_{j-1}\mu(\mathcal{U}_j)+\epsilon(b+\epsilon)+2\epsilon\mu(K)+2\epsilon^2\\
&=\displaystyle\int_K \sum^n_{j=1}y_{j-1}\mathbf{1}_{E_j}d\mu+\mathcal{O}(\epsilon)\\
&\leq \int_K f d\mu +\mathcal{O}(\epsilon).
\end{array}
$$

Hence, $\phi(f)\leq \int_K f d\mu$, since $\epsilon>0$ was arbitrary.\\

\end{proof}

\begin{boxcor}\label{corolarry: Riesz Representation}
    For every $\phi\in\mathcal{M}(K)$, there exists a unique regular complex Borel measure $\nu$ on $K$ that represents $\phi$, namely, $ \phi(f) = \int_K fd\nu$ for all continuous $f$. Moreover, $\norm{\phi}=\norm{\nu}_1$ and if $\phi$ is in $\mathcal{M}^{\R}(K)$, then $\nu$ is a signed measure. 
\end{boxcor}

\begin{proof}
    \noindent\underline{Existence}: Apply lemma \ref{lemma: properties of M(K)} and theorem \ref{thm: Riesz Representation C(K)} to obtain a regular complex Borel measure $\nu$ that represents $\phi$.\\

    \noindent\underline{Need}: $\norm{\nu}_1=\norm{\phi}$.\\
    
    \mymark{Lecture 10} This will give uniqueness, if $\nu_1, \nu_2$ represent $\phi$, then $\nu_1-\nu_2$ represents $\phi-\phi=0$, then $\norm{\nu_1-\nu_2}_1=0$, hence $\nu_1=\nu_2$. $\norm{\phi}\leq \norm{\nu}_1$, was already done before Theorem $\ref{thm: Riesz Representation C(K)}$. Take a measurable partition $K = \displaystyle\bigcup^n_{j=1}A_j$. Fix $\epsilon>0$ and closed sets $E_j$, open sets $\mathcal{U}_j$ s.t. $E_j\subseteq A_j\subseteq \mathcal{U}_j$, $|\nu|(\mathcal{U}_j\setminus E_j)<\frac{\epsilon}{n}$ ($|\nu|$ is regular). Can also assume that $\mathcal{U}_j\subseteq K\setminus \displaystyle\bigcup_{i\neq j}E_i$, for all $1\leq j \leq n$. Fix $\lambda_j\in\C$ s.t. $|\lambda_j|=1$, $\lambda_j\nu(E_j)=|\nu(E_j)|$, $1\leq j \leq n$. By lemma \ref{lemma: partition of unity}, there exist $h_j \prec \mathcal{U}_j$, $1\leq j \leq n$, $\displaystyle \sum_{j=1}^n h_j\leq 1 $ on $K$. then for all $j$ $E_j\prec h_j$. Hence, 
    $$
    \begin{array}{ll}
        \displaystyle\left|\int_K \left(\sum^n_{j=1}\lambda_j\mathbf{1}_{E_j}-\sum^n_{j=1}\lambda_jh_j\right)d\nu\right|
        &\leq \displaystyle \sum^n_{j=1}\int_K |\mathbf{1}_{E_j}-\sum^n_{j=1}h_j|d|\nu|\\
        &\leq \displaystyle \sum^n_{j=1} |\nu|(\mathcal{U}_j\setminus E_j)<\epsilon.
    \end{array}
    $$

    Now, 

    $$
    \begin{array}{ll}
        \displaystyle \sum^n_{j=1} |\nu(A_j)|
        &\leq \displaystyle \sum^n_{j=1} |\nu( E_j)|+\epsilon=\displaystyle \sum^n_{j=1} \lambda_j\nu( E_j)+\epsilon\\
        &= \displaystyle \int_K \sum^n_{j=1} \lambda_j\mathbf{1}_{E_j}d\nu+\epsilon \leq \displaystyle\left|\int_K \left(\sum^n_{j=1}\lambda_jh_j\right)d\nu\right|+2\epsilon\\
        &= \displaystyle\left|\phi \left(\sum^n_{j=1}\lambda_jh_j\right)\right|+2\epsilon\\\
        &= \norm{\phi}\cdot \norm{\sum^n_{j=1}\lambda_jh_j}_\infty+2\epsilon \leq \norm{\phi}+2\epsilon
    \end{array}
    $$
    using the fact the the expression in the second to last line is a convex combination of function with sup norm equal to one. Hence, it follows that $\norm{\nu}_1\leq \norm{\phi}$.
\end{proof}

\begin{boxcor}\label{cor: space of complex borel measures}
    The space of regular complex Borel measures is a complex Banach space in the $\norm{\nu}_1$ (total variation norm) and is isometrically isomorphic $\mathcal{M}(K)$.\\
    The space of regular real Borel measures is a real Banach space in the $\norm{\nu}_1$ (total variation norm) and is isometrically isomorphic $\mathcal{M}^{\R}(K)$.
\end{boxcor}

\newpage
\section{Weak Topologies}

Let $X$ be a set and $\F$ be a family of function s.t.  each $f\in\F$ is a function $f:X\to Y_f$, where $Y_f$ is a topological space.\\

\noindent\underline{The weak topology $\sigma(X,\F)$ on $X$ generated by $\F$} is the smallest topology on $X$ s.t. each $f\in\F$ is continuous (is easily see to exist).

\begin{remark}
    \begin{enumerate}
        \item $\mathcal{S}=\{f^{-1}(\mathcal{U}):f\in\F, \mathcal{U}\subseteq Y_f open\}$ is a sub-base of $\sigma(X,\F)$. So $\mathcal{V}\subseteq X$ is open, i.e. it is in $\sigma(X,\F)$ iff for all $x\in\mathcal{V}$, there exist $n\in\N$, $f_1,\dots, f_n\in\F$ and open sets $\mathcal{U}_j\subseteq Y_{f_j}$ (open nbhds of $f_j(x)$) for $1\leq j\leq n$ s.t. $x$ is in $\displaystyle\bigcap^n_{j=1}f^{-1}(\mathcal{U}_j)\subseteq\mathcal{V}$.
        \item If $\mathcal{S}_f$ is a sub-base in $Y_f$, then $\{f^{-1(\mathcal{U})}:f\in\F, \mathcal{U}\in\mathcal{S}_f\}$, is a sub-base for $\sigma(X,\F)$.
        \item If $Y_f$ is Hausdorff for all $f\in\F$ and $\F$ separates points in $X$ (i.e., for all $x\neq y$, there exists $f\in\F$ s.t. $f(x)\neq f(y)$). Then $\sigma(X,\F)$ is Hausdorff (easy to check).
        \item $Y\subseteq X$, let $\mathcal{F}_Y=\{\restr{f}{Y}:f\in\F\}$. Then $\sigma(Y,\F_{Y})=\restr{\sigma(X,\F)}{Y}$ (check!).
        \item \noindent\underline{Universal property}:  let $Z$ be a topological space and $q:Z\to X$ be a function. Then $g$ is continuous iff $f\circ g:Z\to Y_f$ is continuous for all $f\in\F$.
    \end{enumerate}
\end{remark}

\begin{examplesblock}{Examples:}\label{examples: 6}
    \begin{enumerate}
        \item Let $X$ be a topological space, let $Y\subseteq X$ and $\iota : Y\to X$ be the inclusion map. Then, $\sigma(Y, \{\iota\})$ is the subspace topology of $Y$. 
        \item let $\Gamma$ be a set, $X_\gamma$ a topological space for all $\gamma\in\Gamma$ and $X = \displaystyle\prod_{\gamma\in\Gamma}X_\gamma$ $= \{X:X \text{ is a function on } \Gamma \text{ s.t. } \forall \gamma\in\Gamma, x(\gamma)\in X_\gamma \}$. For $x\in X$, $\gamma\in\Gamma$ we often write $x_\gamma$ for $x(\gamma)$. We think of $x$ as the ''$\Gamma-$tuple'', $(x_\gamma)_{\gamma\in\Gamma}$. For each $\gamma$ we have $\pi_\gamma: X\to X_\gamma, x\mapsto x_\gamma$ $((x_\delta)_{\delta\in\Gamma})$ the evaluation at $\gamma$, or projection onto $X_\gamma$. The weak topology $\sigma(X, \{\pi_\gamma:\gamma\in\Gamma\})$ is called the \noindent\underline{product topology on $X$}. $\mathcal{V}$ is open iff for all $x=(x_\gamma)_{\gamma\in\Gamma}\in\mathcal{V}$, there exist $n\in\N$, $\gamma_1,\dots, \gamma_n\in\Gamma$ and open neighbourhoods $\mathcal{U}_j$ of $x_{\gamma_j} in X_{\gamma_j}$ s.t.
        $$\{y=(y_\gamma)_{\gamma\in\Gamma}\in X:y_{\gamma_j}\in\mathcal{U}_j, 1\leq j\leq n\}\subseteq \mathcal{V}
        $$.
    \end{enumerate}
\end{examplesblock}

\begin{boxprop}\label{prop: metrisability of weak topologies}
    Let $X$ be a set. For each $n\in\N$, let $(Y_n, d_W)$ be a metric space and $f_n:X\to Y_n$ be a function s.t. $\F = \{f_n:n\in\N\}$ separates points of $X$. Then $\sigma(X, \F)$ is metrisable. 
\end{boxprop}

\begin{proof}
    Define 
    $$
    d(x,y) = \displaystyle\sum^\infty_{n=1}\min(|f_n(x)-f_n(y)|, 1)\cdot 2^{-n}, \text{ for } x,y \text{ in } X. 
    $$
    This is a metric on $X$ (easy to check) ($\F$ separating points implies that for $x\neq y$, $d(x,y)>0$). Fiven $\epsilon\in(0,1)$ and $d(x,y)<\frac{\epsilon}{2^n}$, then $|f_n(x)-f_n(y)|<\epsilon$. So each $f_n$ is continuous wrt the topology $\tau$ induced by $d$. So $\sigma = \sigma(X,\F)\subseteq\tau$. Fix $x\in X$, then $y\mapsto \min(|f_n(x)-f_n(y)|, 1)\cdot 2^{-n}$ is $\sigma-$continuous. By the Weierstrass M-test, $\displaystyle\sum^\infty_{n=1}\min(|f_n(x)-f_n(y)|, 1)\cdot 2^{-n}$ is univormly convergent, hence $\sigma-$continuous. So, $\{y\in X: d(y,x)<\epsilon\}$ is $\sigma-$open. Hence, $\tau\subseteq\sigma$ and $\tau = \sigma$.
\end{proof}

\begin{theorem}[Tychonov]\label{thm: Tychonov}
    The product of compact topological spaces is compact in the product topology.
\end{theorem}

\begin{proof}
    We have $X = \displaystyle\prod_{\gamma\in\Gamma}X_\gamma$ as in examples \ref{examples: 6}. Assume each $X_\gamma$ is compact. Let $\F$ be a family of closed subsets of $X$ with the finite intersection property (FIP). We need to show that $\displaystyle\bigcap_{F\in\F}F\neq \emptyset$ (equivalent to compactness). \\
    By Zorn, there exists a maximal family $\mathcal{A}$ of subsets of $X$ s.t. $\F\subseteq\mathcal{A}$ and $\mathcal{A}$ has the FIP ($\mathcal{M}=\{\mathcal{A}\subseteq\mathcal
    {P}(X):\mathcal{A}\supseteq \F \;\&\; \mathcal{A} \text{ has the FIP}\}$, and every chain has a maximal element. Check!).\\
    We will show that $\displaystyle\bigcap_{A\in\mathcal{A}}\overline{A}\neq \emptyset$.\\

    \noindent\underline{Note}:
    \begin{enumerate}
    \item $A_1,\dots, A_n\in\mathcal{A}$ implies that $A = \displaystyle\bigcap^n_{i=1}A_i$ is in $\mathcal{A}$.\\
    Indeed, for all $B_1,\dots, B_m\in\mathcal{A}$, s.t. $A\cap B_1\cap \dots\cap B_m\neq \emptyset$ so $\mathcal{A}\displaystyle\cup \{A\}$ has the FIP. Hence, $A$ is in $\mathcal{A}$.
    \item $B\subseteq X$, $B\cap A\neq \emptyset$ for all $A\in\mathcal{A}$ implies $B$ is in $\mathcal{A}$. Indeed, for $A_1,\dots, A_n\in\mathcal{A}$ s.t. $\displaystyle\bigcup^n_{i=1} A_i\neq \emptyset$ and  $B\cap \displaystyle\bigcup^n_{i=1} A_i\neq \emptyset$, then $A\displaystyle\cup\{B\}$ has the FIP and using maximality, we conclude that $B$ is in $\mathcal{A}$.
    \end{enumerate}

    Let $\gamma\in\Gamma$. Then $\{\pi_\gamma(A): A\in \mathcal{A}\}$ has the FIP. Since $X_\gamma$ is compact, $\displaystyle\bigcap_{A\in\mathcal{A}}\overline{\pi_\gamma(A)}\neq \emptyset$. Fix $x_\gamma\in\displaystyle\bigcap_{A\in\mathcal{A}}\overline{\pi_\gamma(A)}\neq$. Let $x = (x_\gamma)_{\gamma\in\Gamma}$ and $\mathcal{U}$ be an open neighbourhood of \noindent\underline{$x$}. We show that $\mathbf{U}\cap A\neq \emptyset$ for all $A\in\mathcal{A}$. Then $x\in A$, for all $A\in \mathcal{A}$. Wlog, $\mathcal{U}=\displaystyle\bigcup^n_{j=1}\pi^{-1}_{\gamma_j}(\mathcal{U}_j)$ for $n\in\N, \gamma_1,\dots, \gamma_n\in\F$, $\mathcal{U}_j$ is an open neighbourhood of $x_{\gamma_j}\in X_{\gamma_j}$. So $\mathcal{U}_j\cap \displaystyle\bigcup^n_{j=1}\pi^{-1}_{\gamma_j}(A_j)\neq \emptyset$ for all $A\in\mathcal{A}$, so $\pi^{-1}_{\gamma_j}(\mathcal{U}_j)\in\mathcal{A}$ by note $2$ above. By $1$ above, $\mathcal{U}\in \mathcal{A}$ and hence, $\mathcal{U}\cap A\neq \emptyset$ for all $A\in\mathcal{A}$. We have thus demonstrated that for all $A\in\mathcal{A}$, $x\in\overline{A}$, which concludes the proof.
\end{proof}

\mymark{Lecture 11}\subsection{Weak topologies on vector spaces}

Let $E$ be a real or complex vector space. Let $F$ be a subspace of the space of all linear functionals on $E$ that separates points, i.e. for all $x\in E, x\neq 0$, then there exists $f\in F, f(x)\neq 0$. Consider the weak topology $\sigma(E,F)$. So $\mathcal{U}\subseteq E$ is open iff for all $x\in\mathcal{U}$, there exists $n\in\N, f_1,\dots, f_n\in F, \epsilon>0$ s.t. $\{y\in E: |f_j(y-x)|<\epsilon, 1\leq j \leq n \}\subseteq \mathcal{U}$. For $f\in F, x\in E, p_f(x) = |f(x)|$. Let $\mathcal{P} = \{p_f:f\in F\}$. Then $(E, \mathcal{P})$ is a locally convex space (LCS) whose topology is $\sigma(E, F)$. So $\sigma(E, F)$ is Hausdorff and vector addition and scalar multiplication are continuous.\\

\begin{boxlemma}\label{lemma: kernel lemma}
Let $E$ be as above, ler $f, g_1, \dots, g_n$ be linear functionals on $E$ s.t. $\displaystyle\bigcup^n_{j=1}\ker g_j\subseteq\ker f$. Then $f\in\spn\{g_1, \dots, g_n\}$. 
\end{boxlemma}

\begin{proof}
Let $\mathbb{K}$ be the scalar field. Define $T:E\to\mathbb{K}^n$ by $Tx = (g_j(x))^n_{j=1}$. Then $\ker(T)=\displaystyle\bigcup^n_{j=1}\ker g_j\subseteq\ker f$ and hence we have a factorisation
$$
\adjustbox{scale = 1.5}{\begin{tikzcd}
E \arrow{r}{f} \arrow{d}{T} & \mathbb{K} \\%
\mathbb{K}^n
\arrow[ur,"h" below]
\end{tikzcd}}
$$ 
with $h$ linear, $f=h\circ T$. Then there exists $(a_j(x))^n_{j=1}\in \mathbb{K}^n$ s.t. $h(y) = \displaystyle\sum^n_{j=1}a_jy_j$ for all $y\in\mathbb{K}^n$. So for all $x\in E, f(x) = h(Tx) = \displaystyle\sum^n_{j=1}a_jg_j(x)$. So $f = \displaystyle\sum^n_{j=1}a_jg_j$ as required.
\end{proof}

\begin{boxprop}\label{prop: weak top continuity characterisation}
    Let $E,F $ be as above, let $f$ be a linear function on $E$. Then $f$ is $\sigma(E,F)-$ continuous iff $f\in F$. So, $(E,\sigma(E,F))^*=F$.
\end{boxprop}

\begin{proof}
    \noindent\underline{$\impliedby$}: holds by definition.\\

    \noindent\underline{$\implies$}: there exists an open neighbourhood $\mathcal{U}$ of $0$ in $E$ s.t. for all $x\in \mathcal{U}$, $|f(x)|<1$. Wlog, (shrink $\mathcal{U}$ if necessary) $\mathcal{U}=\{x\in E: |g_j(x)|<\epsilon, 1\leq j \leq n \}$ for some $n\in \N, g_1,\dots, g_n\in F, \epsilon>0$. If $x\in \displaystyle\bigcup^n_{j=1}\ker g_j$, then $\;amb
     x\in \mathcal{U}$ for all scalars $\lambda$ and hence $|f(x)|=|\lambda|\cdot|f(x)|<1$ for all $\lambda$. So $f(x)=0$. By lemma \ref{lemma: kernel lemma}, $f\in \spn\{g_1, \dots, g_n\}$.
\end{proof}
\begin{examplesblock}{Examples:}\label{examples: 7}
    \begin{enumerate}
        \item Let $X$ be a normed space. \noindent\underline{The weak topology on $X$} is the topology $\sigma(X, X^*)$ on $X$. ($X^*$ annihilates points of $X$ by Hahn-Banach). We sometimes write, $(X, w)$ for $(X, \sigma(X, X^*))$. Open sets in $\sigma(X, X^*)$ are called \noindent\underline{weak open}, or \noindent\underline{$w-$open}. $\mathcal{U}\subseteq X$ is \noindent\underline{$w-$open} $\iff$ for all $x\in \mathcal{U}$, there exists $n\in\N, f_1, \dots, f_n\in X^*, \epsilon>0$ s.t. $\{y\in X:|f_j(y-x)|<\epsilon, 1\leq j\leq n\}$.
        \item Let $X$ be a normed space. The \noindent\underline{weak star topology} or \noindent\underline{$w^*-$topology} on $X^*$ is the topology $\sigma(X^*, X)$ on $X^*$. Here, we are identifying $X$ with its image in $X^{**}$ under the canonical embedding. Open sets in $\sigma(X^*, X)$ are called \noindent\underline{$w^*-$open} and $\mathcal{U}\subseteq X^*$ is weak-* open iff for all $f\in \mathcal{U}$, there exist $n\in \N, x_1, \dots, x_n \in X, \epsilon>0 $ s.t. $\{y\in X^*:|g(x_j)-f(x_j)|<\epsilon, 1\leq j \leq n\}\subseteq\mathcal{U}$.
    \end{enumerate}
\end{examplesblock}

\noindent\underline{Properties}: 
\begin{enumerate}
    \item $(W,w)$ and $(\vectsp{X^*, w^*})$ (this is ($X^*, \sigma(X^*, X))$) are LCS and hence Hausdorff with continuous vector space operations.
    \item $\sigma(X, X^*)\subseteq\norm{\cdot}-$topology with equality iff $\dim X<\infty$.
    \item $\sigma(X, X^*)\subseteq\sigma(X^*, X)\subseteq\norm{\cdot}$, where equality in the first inclusion is achieved iff $X$ is reflexive, and for the latter iff $\dim X^*=\dim X<\infty$.
    \item Let $Y$ be a subspace of $X$. Then, $\restr{\sigma(X, X^*)}{Y}=\sigma(Y, \{f\in X^*\})=\sigma(Y, Y^*)$ by Hahn-Banach. Similarly, $\restr{\sigma(X^{**}, X^*)}{X} = \sigma(X, X^*)$. So in other words, the canonical embedding $X\to X^{**}$ is also a weak-to-weak-* homeomorphism between $X$ and $\hat{X}$.
\end{enumerate}

\begin{boxprop}\label{prop: characterisation of weak topology in terms of dual}
    Let $X$ be a normed space. 
    \begin{enumerate}[label = (\roman*), align = left]
        \item A linear functional $f$ on $X$ is continuous in the weak topology iff $f\in X^*$. So $(X, w)^*=X^*$.
        \item A linear functional $f$ on $X^*$ is $w^*-$ continuous iff $f\in X$, i.e. $f = \hat{x}$ for some $x\in X$. So $(X^*, w^*)^*=X$. It follows that $\sigma(X^*, X)=\sigma(X^*, X^{**})$ iff $X$ is reflexive.
    \end{enumerate}
\end{boxprop}

\begin{boxdef}[Weak Boundedness]\label{def: weak boundedness}
    Let $X$ be a normed space, then a subset $A\subseteq X$ is \noindent\underline{weakly bounded} if $\{f(x):x\in A\}$ is bounded for all $f\in X^*$ (iff for all w-neighbourhood of $0$ in $X$, there exists $\lambda>0$ s.t. $A\subseteq \lambda\mathcal{U}$). \\
    A subset $B\subseteq X^*$ is weak-* bounded if $\{f(x):x\in B\}$ is bounded for all $x\in X$ (iff iff for all $w^*$-neighbourhood of $0$ in $X^*$, there exists $\lambda>0$ s.t. $B\subseteq \lambda\mathcal{U}$).
\end{boxdef}

\subsection{Principle of Uniform Boundedness (PUB)}

Let $X$ be a Banach space, $Y$ be a normed space and $\mathcal{T}\subseteq\mathcal{B}(\markright{X}, \mathcal{Y})$. If $\mathcal{T}$ is \noindent\underline{pointwise bounded} $\left(\displaystyle\sup_{T\in\mathcal{T}}\norm{Tx} \text{ for all } x\in X\right)$, then $T$ is uniformly bounded $\left(\displaystyle\sup_{T\in\mathcal{T}}\norm{T}<\infty\right)$.

\begin{boxprop}\label{prop: PUB}
    \begin{enumerate}[label=(\roman*)]
        \item $A\subseteq X$ is weakly bounded implies that $A$ is $\norm{\cdot}-$bounded.
        \item $B\subseteq X^*$ is weak-* bounded and $X$ is complete implies that $B$ is $\norm{\cdot}-$bounded.
    \end{enumerate}
\end{boxprop}

\begin{proof}
    \noindent (\textit{ii}) $B\subseteq X^*=\mathcal{B}(X, \text{scalars})$, $B$ weak-* bounded says $B$ is pointwise bounded. So done by PUB.\\
    \noindent (\textit{i}) $\hat{A}=\{\hat{x}:x\in A\}\subseteq X^{**}=\mathcal{B}(X^*, \text{scalars})$. $A$ weakly bounded iff $\hat{A}$ is pointwise bounded and so can conclude again by PUB.
\end{proof}

\noindent\underline{Notation}: We write $x_n\xrightarrow{w}x$ if $(x_n)_{n\in\N}$ converges to $x$ in the weak topology (in some normed space). Note that $x_n\xrightarrow{w}x$ in $X$ iff $\bracket{x_n}{f}\rightarrow\bracket{x}{f}$ for all $f\in X^*$. We write $f_n\xrightarrow{w^*}f$ in $X^*$ if $(f_n)_{n\in\N}$ converges to $f$ in the weak-* topology (in some dual space) iff $\bracket{x}{f_n}\rightarrow\bracket{x}{f}$ for all $x\in X$.\\

\noindent\underline{Consequences of PUB}: Let $X$ be a Banach space, $Y$ a normed space, $(T_n)$ a sequence in $\mathcal{B}(X, Y)$. If $T:X\to Y$ is a function s.t. $T_n\to T$ pointwise on $X$ (i.e. $T_nx\to Tx$ for all $x\in X$), then $T\in\mathcal{B}(X, X)$, $\displaystyle\sup_{n\in\N}\norm{T_n}<\infty$ and $\norm{T}\leq \displaystyle\liminf_n\norm{T_n}$.

\begin{boxprop}\label{prop: weak convergence}
    Let $X$ be a normed space. 
    \begin{enumerate}[label = (\roman*), align = left]
        \item If $x_n\xrightarrow{w}x$ in $X$, then $\displaystyle\sup_{n}\norm{x_n}<\infty$ and $\norm{x}\leq \displaystyle\liminf_n\norm{x_n}$.
        \item If $f_n\xrightarrow{w^*}f$ in $X^*$ and $X$ is complete, then $\displaystyle\sup_{n}\norm{f_n}<\infty$ and $\norm{f}\leq \displaystyle\liminf_n\norm{f_n}$.
    \end{enumerate}
\end{boxprop}

\begin{proof}
    (\textit{ii}) We have that $f_n\to f$ pointwise in $X^*=\mathcal{B}(X, \text{scalars})$. Result follows by PUB.\\
    (\textit{i}) Since $x_n\xrightarrow{w}x$, $\hat{x}_n\rightarrow\hat{x}$ pointwise in $X^{**}=\mathcal{B}(X^*, \text{scalars})$ and we conclude by PUB again.
\end{proof}

\mymark{Lecture 12}For the above, the converse is not true. We can find a sequence that converges weakly but not in the norm topology. For instance, 

\begin{examplesblock}{Example:}\label{examples: 8}
    In $\ell_p, 1<p<\infty,\;$
    $
    e_n=(0,\ldots,0,\here{1}{fromhere},0,\ldots,0),
    \begin{tikzpicture}[remember picture, overlay]
    \node[font=\scriptsize, above right=12pt of fromhere] (tohere) {$n^{th}$-entry};
    \draw[<-] ([yshift=2pt]fromhere.north) |- (tohere);
    \end{tikzpicture}
    $
    $\; e_n\xrightarrow{w}0$, but clearly  $e_n\stackrel{\norm{\cdot}}{\nrightarrow}0$.
\end{examplesblock}

\subsection{Hahn-Banach Separation Theorems}

Let $(X, \mathcal{P})$ be a LCS. Let $\mathcal{C}$ be a convex subspace of $X$, s.t. $0\in \intr \vectsp{\mathcal{C}}$. Then define $\mu_{\vectsp{\mathcal{C}}}:X\to \R, \mu_{\vectsp{\mathcal{C}}}=\inf\{t>0:x\in t\mathcal{C}$.\\

\noindent\underline{Well-defined}: $\frac{1}{n}x\to 0$ as $n\to\infty$, so there exists $n\in \N$ s.t. $\frac{1}{n}x \in \mathcal{C}$. $\mu_{\mathcal{C}}$ is the Minkowski functional (gauge functional) of $\mathcal{C}$.

\begin{examplesblock}{Example:}\label{examples: 9}
    If $X$ is a normed space and $\mathcal{C} = \unitball{X}$, then $\mu_{\mathcal{C}} = \norm{\cdot}$.
\end{examplesblock}

\begin{boxlemma}\label{lemma: gauge functional}
    $\mu_{\mathcal{C}}$ is positive homogeneous and sub-additive. Moreover, $\{x:\mu_{\mathcal{C}}<1\}\subset \mathcal{C} \subset \{x:\mu_{\mathcal{C}}\leq 1\}$. The first inclusion is an equality if $\mathcal{C}$ open. 
\end{boxlemma}

\begin{proof}
    \noindent\underline{Positive homogeneous}: for $x\in X, s,t, >0$ we have $sx\in st\mathcal{C}$ $\iff$ $x\in t\mathcal{C}$. Hence, $\mu_{\mathcal{C}}(sx) = s\mu_{\mathcal{C}}(x)$. A;so holds for $s=0$, since $\mu_{\mathcal{C}}(0)=0$.\\

    \noindent\underline{Subadditivity}: First an observation: $\mu_{\mathcal{C}}<t$ implies $x\in t\mathcal{C}$. Indeed, there exists $t'<t$ s.t. $x\in t'\mathcal{C}$. Then, $\frac{x}{t} = (1-\frac{t'}{t})\cdot 0 + \frac{t'}{t}\cdot\frac{x}{t'}\in \mathcal{C}$ by the convexity of $\mathcal{C}$.\\
    
    Now, let $x,y\in X$. Fix $s>\mu_{\mathcal{C}}(x)$, $t>\mu_{\mathcal{C}}(y)$. Then $x\in s\mathcal{C}$, $y\in t\mathcal{C}$. So, $x+y = \left(\frac{s}{s+t}\cdot \frac{x}{s}+\frac{t}{s+t}\cdot\frac{x}{t}\right)(s+t)\in (s+t)\mathcal{C}$ by convexity. So $\mu_{\mathcal{C}}(x+y)\leq s+t$, and hence $\mu_{\mathcal{C}}(x+y)\leq \mu_{\mathcal{C}}(x)+\mu_{\mathcal{C}}(y)$.\\

    Next, if $\mu_{\mathcal{C}}(x)<1$, then $x\in \mathcal{C}$ by above. If $\mathcal{C}$ is open and $x\in \mathcal{C}$, then there exists $n\in \N$ s.t. $(1+\frac{1}{n})x\in \mathcal{C}$, since $(1+\frac{1}{n})x\xrightarrow{n\to\infty}x$ and $\mathcal{C}$ open. Hence, $\mu_{\mathcal{C}}(x)\leq \frac{1}{1+\frac{1}{n}}<1$.\\

    Finally, $x\in \mathcal{C}$ implies that $\mu_{\mathcal{C}}(x)\leq 1$. Then, by homogeneity, $\mu_{\mathcal{C}}((1-\frac{1}{n})x)<1$ for all $n$, so $(1-\frac{1}{n})x\in  \mathcal{C}$ for all $n$, since $(1-\frac{1}{n})x\to x$, the in case $ \mathcal{C}$ is closed $x\in  \mathcal{C}$.
\end{proof}

\begin{remark}
    If $ \mathcal{C}$ is symmetric (in real case) or balanced (in complex case)m then $\mu_{\mathcal{C}}$ is a semi-norm. If, in addition $\mathcal{C}$ is bounded, then $\mu_{\mathcal{C}}$ is a norm.
\end{remark}

\begin{theorem}{Hahn-Banach Separation Theorem}\label{thm: Hahn-Banach separation theorem}
    Let $(X, \mathbb{P})$ be a LCS and $\mathcal{C}$ be an open convex subset of $X$ with $0\in \intr\mathcal{C}$. let $x_0 \in X\setminus \mathcal{C}$. Then there exists $f\in X^*$ s.t. $f(x_0)>f(x)$ for all $x\in \mathcal{C}$.(In complex case: $\Real(f(x_0)))>\Real(f(x))$ for all $x\in \mathcal{C}$).
    
\end{theorem}

\begin{remark}
    From now on we work with real scalars and the complex case will follow, since\\
    $$
    f\mapsto \Real f: X^*\to X^*_\R
    $$
    is a real linear injection.
\end{remark}

\begin{proof}
    Consider $\mu_{\mathcal{C}}$. By lemma \ref{lemma: gauge functional}, $\mathcal{C} = \{s: \mu_{\mathcal{C}}(x)<1\}$ and so $\mu_{\mathcal{C}}(x_0)\geq 1$. Let $Y=\spn\{x_0\}$ and $g:Y\to\R$, $g(\lambda x_0)=1\leq \mu_{\mathcal{C}}(x_0)$. Hence, $g\leq \mu_{\mathcal{C}}$ on $Y$.\\
    By Theorem \ref{thm: Hahn Banach sub-additive real case}, there exists linear $f:X\to\R$ s.t. $\restr{f}{Y}=g$ and $f\leq \mu_{\mathcal{C}}$ on $X$. For all $x\in \mathcal{C}$, $f(x)\leq \mu_{\mathcal{C}}(x)<1=f(x_0)$. We also gave $f(x)<1$ on $\mathcal{C}$ and so $|f(x)|<1$ on $\mathcal{C}\cap (-\mathcal{C})$. Since $\mathcal{C}\cap (-\mathcal{C})$ is an open neighbourhood of $0$, we have that $f\in X^*$.
\end{proof}

\begin{theorem}\label{thm: LCS separation}
    Let $(X, \mathcal{P})$ be a LCS. Let $A,B\neq \emptyset$, disjoint convex subsets of $X$.
    \begin{enumerate}[label = (\roman*), align = left]
        \item If $A$ is open, there exists $f\in X^*$ and $\alpha\in \R$ s.t. $f(x)<\alpha\leq f(y)$ for all $x\in A, y\in B$. 
        \item If $A$ is compact, and $B$ is closed, then there exists $f\in X^*$ s.t. $\displaystyle\sup_A f< \displaystyle\inf_B f$.
    \end{enumerate}
\end{theorem}

\begin{proof}
    \begin{enumerate}[label = (\roman*), align = left]
        \item Fix $\alpha\in A, b \in B$. Let $\mathcal{C} = A-B+b-\alpha$ and $x_0 = b-\alpha$. Then $\mathcal{C}$ is open, convex, $0\in \mathcal{C}$ and $x_0\not\in \mathcal{C}$ ($A\cap B=\emptyset$). By Theorem \ref{thm: Hahn-Banach separation theorem}, there exists $f\in X^*$ s.t. $f(z)<f(x_0)$ for all $z\in \mathcal{C}$. So for all $x\in A, y\in B\; f(x-y+x_0)<f(x_0)$, i.e $f(x)<f(y)$. In particular, $f\neq 0$. Let $\alpha = \inf f$. Then $\alpha\leq f(y)$ for all $y\in B$. Since $f\neq 0$, there exists $u\in X$ s.t. $f(u)>0$.Now, given $x\in A$, $x+\frac{1}{n}u\to x$ and since $A$ is open, there exists $n\in \N$ s.t. $x+\frac{1}{n}u\in A$. Then $f(x)<f(x+\frac{1}{n}u)\leq \alpha$.
        \item \noindent\underline{Claim}: there exists open, convex neighbourhood of $0$ in $X, \mathcal{U}$ s.t. $(A+\mathcal{U})\cap B=\emptyset$\\

        Indeed, for $x\in A$, there exists open neighbourhood $\mathcal{U}_x$ of $0$ s.t. $(x+\mathcal{U}_x)\cap B=\emptyset$ ($B$ is closed). Since $0+0=0$ and ''$+$'' is continuous, there exists open neighbourhood $\mathcal{V}_x$ of $0$ s.t. $\mathcal{V}_x+\mathcal{V}_x\subseteq \mathcal{U}_x$. Wlog, $\noindent\underline{\mathcal{V}_x}$ is convex and symmetric. By compactness, there exist $x_1, \dots, x_n\in A$ s.t. $A\subseteq \displaystyle\bigcup^n_{i=1}(x_i+\mathcal{V}_{x_i})$. Let $\mathcal{U }= \displaystyle\bigcap^n_{i=1}\mathcal{V}_{x_i}$. Given $x\in A$, there exists $i$ s.t. $x\in x_i + \mathcal{V}_{x_i}$. So, $x+\mathcal{U}\subseteq x\in x_i + \mathcal{V}_{x_i}+\mathcal{U}\subseteq x\in x_i + \mathcal{V}_{x_i} + \mathcal{V}_{x_i}\subseteq x_i + \mathcal{U}_{x_i}$ is disjoint from $B$. So, $A+\mathcal{U}$ is disjoint from $B$.\\

        Now, apply part (\textit{i}) with $A+\mathcal{U}, B$ to show that there exists $f\in X^*$ s.t. $f(x+u)<f(y)$ for all $x\in A, y\in B, u\in \mathcal{U}$. In particular, $f\neq 0$ so there exists $z\in X$ s.t. $f(z)>0$. Also, $\frac{1}{n}z\xrightarrow{n\to\infty}0$, so there exists $n\in \N$ s.t. $\frac{1}{n}z\in \mathcal{U}$. So $f(x)+\frac{1}{n}f(z)<f(y)$ for all $x\in A, y\in B$. It follows that $\displaystyle\sup_A f< \displaystyle\inf_B f$.
    \end{enumerate}
\end{proof}

\newpage
\begin{theorem}[Mazur]\label{thm: Mazur}
    Let $\mathcal{C}$ be a \noindent\underline{convex} subset of a normed space $X$. Then $\overline{\mathcal{C}}^{\norm{\cdot}}=\overline{\mathcal{C}}^{w}$. In particular, $\mathcal{C}$ is $\norm{\cdot}-$closed iff $\mathcal{C}$ is weakly closed.
\end{theorem}

\begin{proof}
    Wlog, $\mathcal{C}\neq \emptyset$.\\
    
    \noindent\underline{''$\overline{\mathcal{C}}^{\norm{\cdot}}\subseteq\overline{\mathcal{C}}^{w}$''}: is true since the weak topology is weaker than the $\norm{\cdot}-$topology.\\

    \noindent\underline{''$\overline{\mathcal{C}}^{\norm{\cdot}}\supseteq\overline{\mathcal{C}}^{w}$''}: If $x\not\in \overline{\mathcal{C}}^{\norm{\cdot}}$, then apply Theorem \ref{thm: Hahn-Banach separation theorem} (\textit{ii}) to $A=\{x\}$, $B = \overline{\mathcal{C}}^{\norm{\cdot}}$ to obtain $f\in X^*$ s.t. $f(x)<\displaystyle\inf_{B}f \coloneqq \alpha$. Then, $\{y:f(y)<\alpha\}$ is a weakly open neighbourhood of $X$, disjoint from $B$ (and hence from $\mathcal{C}$). So $x\not\in \mathcal{C}$.
\end{proof}

\begin{boxcor}[Mazur]\label{cor: Mazur}
    If $x_n\xrightarrow{w}0$ in a normed space $X$, then for all $\epsilon>0$, there exists $x\in \conv\{x_n:n\in \N\}$ s.t. $\norm{x}\leq \epsilon$.
\end{boxcor}

\begin{proof}
    $0\in \overline{\conv\{x_n:n\in \N\}}^{w}= \overline{\conv\{x_n:n\in \N\}}^{\norm{\cdot}}$
    by Mazur.
\end{proof}

\begin{remark}
    It follows from this that there exist $p_1<q_1<p_2<q_2 \dots $ and convex combinations $z_n = \displaystyle\sum^{q_n}_{i=p_n}t_ix_i$ s.t. $z_n \to 0$ in $\norm{\cdot}$.
\end{remark}

\begin{theorem}[Banach-Alaoglu]\label{thm: Banach-Alaoglu}
    \mymark{Lecture 13}For any normed space $X$, $(\unitball{X^*},w^*)$ is compact. 
\end{theorem}

\begin{proof}
    For $x\in X$, let $K_x = \{\lambda:\lambda \text{ scalar }, |\lambda|\leq \norm{x}\}$. Let $K = \displaystyle\prod_{x\in X}K_x$ in he product topology. Let $\pi_x:K\to K_x$ be the projection $(\lambda_y)_{y\in X}\mapsto \lambda_x$.\\

    Note $K = \{\lambda:X\to\text{scalars} : |\lambda(x)|\leq \norm{x}\}$, so $\unitball{X^*}\subseteq K$.\\

    The subspace topology on $\unitball{X^*}$ is $\restr{\sigma(K, \{\pi_x:x\in X\})}{\unitball{X^*}}=\sigma(\unitball{X^*}, \{\restr{\pi_x}{\unitball{X^*}}:x\in X\})$
    $=\sigma(\unitball{X^*}, \{\restr{\hat{x}}{\unitball{X^*}}:x\in X\})=\restr{\sigma(X^*, X)}{\unitball{X^*}}$, the weak-* topology. By Theorem \ref{thm: Tychonov}, $K$ is compact. So all we need to show is that $\unitball{X^*}$ is closed in $K$. Now, 
    $$
    \begin{array}{ll}
    \unitball{X^*}&=\{\lambda\in K : \lambda_{ax+by}=a\lambda_x+b\lambda_y \forall x,y\in X, \forall a,b\in \text{scalars}\}\\
    &= \displaystyle\bigcap_{x,y,a,b}\{\lambda\in K : \pi_{ax+by}(\lambda)=a\pi_x(\lambda)+b\pi_y(\lambda) \}\\
    &= \displaystyle\bigcap_{x,y,a,b}\{\lambda\in K : \pi_{ax+by}(\lambda)-a\pi_x(\lambda)-b\pi_y(\lambda)^{-1}(\{0\}) \}
    \end{array}
    $$
    closed in $K$ as each $\pi_x$ is continuous.
\end{proof}

\begin{boxprop}\label{prop: BA metrisable iff separable}
    Let $X$ be a normed space and $K$ be a compact, Hausdorff space. 
    \begin{enumerate}[label = (\roman*), align = left]
        \item $X$ is separable (in the $\norm{\cdot}-$top) iff $(\unitball{X^*}, w^*)$ is metrisable.
        \item $\mathcal{C}(K)$ is separable iff $K$ is metrisable.
    \end{enumerate}
\end{boxprop}

\begin{proof}
    \noindent(\textit{i})\noindent\underline{''$\implies$''}: Fix a dense sequence $(x_n)$ in $X$. Let $\mathcal{F} = \{\restr{\hat{x_n}}{\unitball{X^*}}:n\in\N\}$. Then $\F$ separates the points of $X$, so $\sigma(\unitball{X^*}, \F)$ is Hausdorff and is contained in the weak-* topology. So 
    $$
    \Id:(\unitball{X^*}, w^*)\to (\unitball{X^*}, \sigma(\unitball{X^*}, \F))
    $$
    is a continuous bijection from a compact space to a Hausdorff space, and hence a homeomorphism. So $\sigma(\unitball{X^*}, \F)$ is the weak-* topology on $\unitball{X^*}$. This is metrisable by proposition \ref{prop: metrisability of weak topologies}.\\
    
    (\textit{i})\noindent\underline{''$\implies$''}: By above, $(\unitball{\mathcal{C}(K)^*}, w^*)$ is metrisable. For $k\in K$, define $\delta_k:\mathcal{C}(K) \to \text{scalars}$ by $\delta_k(f) = f(k)$ for all $f\in \mathcal{C}(K)$. Then $\delta_k\in\unitball{\mathcal{C}(K)^*}$. Hence
    $$
    \begin{array}{cc}
        \delta:\to (\unitball{\mathcal{C}(K)^*}, w^*) \\
         k\mapsto \delta_k
    \end{array}
    $$

    \noindent\underline{$\delta$ is continuous}: let $f\in \mathcal{C}(K)$. Is $\hat{f}\circ \delta$ continuous? For $k\in K$, $(\hat{f}\circ \delta)(k)=\delta_k(f) = f(k)$. Then, $\hat{f}\circ \delta = f$. This \noindent\underline{is} continuous on $K$. By the universal property of the weak topology, $\delta$ is continuous.\\

    \noindent\underline{$\delta$ is injective}: $\mathcal{C}(K)$ separates points of $K$ by Urysohn.\\

    Now, $\delta:K\to (\delta(K), w^*)$ is a continuous bijection from compact to Hausdorff, and hence a homeomorphism. Hence $K$ is metrisable.\\

    (\textit{ii})\noindent\underline{''$\impliedby$''}: $K$ compact metrisable, so $K$ is separable. Fix a dense sequence $(x_n)$ in $K$. Let $(f_n)=d(x,x_n)$ ($d$ is a metric inducing the topology of $K$). Let $A$ be the sub-algebra of $\mathcal{C}(K)$ generated by $f_n, n\in \N$ and $\mathbf{1}_K$. The $A$ is separable, $A$ separates points of $K$, $\mathbf{1}_K\in A$ and in complex case, closed under complex conjugate. By Stone Weierstrass, $\overline{A}=\mathcal{C}(K)$, so $\mathcal{C}(K)$ is separable. \\

    (\textit{i})\noindent\underline{''$\impliedby$''}: let $K = (\unitball{X^*}, w^*)$. This is compact, by Theorem \ref{thm: Banach-Alaoglu}. Since $K$ is metrisable, $\mathcal{C}(K)$ is separable. We prove that $X\hookrightarrow \mathcal{C}(K)$ isometrically. Then done. Let $T:X\to \mathcal{C}(K)$ be $Tx = \restr{\hat{x}}{\unitball{X^*}}$. then $T$ is linear and $\norm{Tx}_\infty=\norm{\hat{x}}=\norm{x}$.
 \end{proof}

 \begin{remark}
     \begin{enumerate}
         \item If $X$ is separable, then $(\unitball{X^*}, w^*)$ is compact, metrisable and hence weak-* sequentially compact(+separable).
         \item $X$ is separable implies that $X^*$ is weak-* separable ($X^* = \displaystyle\bigcup_{n\in\N}n\unitball{X^*}$).\\
         By mazur, $X$ is separable iff $X$ is weakly separable (weak closure of span of some $(x_n)$ weakly dense in $X$ is $\norm{\cdot}-$closure by Mazur, since it is convex). \\
        So $X$ weakly separable implies $X^*$ is weak-* separable. The converse is not true in general (e.g. $\ell_\infty$).
        \item The proof shows $(\unitball{\mathcal{C}(K)^*}, w^*)$ contains a homeomorphic copy of $K$.
        \item Proof also shows that for every normed space $X$ there exists compact, hausdorff $K$ s.t. $X\hookrightarrow \mathcal{C}(K)$ isometically ($K = (\unitball{X^*}, w^*)$).
     \end{enumerate}
 \end{remark}

 \begin{boxprop}\label{prop: separability of dual iff unit ball is metrisable}
     Let $X$ be a normed space. Then $X^*$ is separable iff $(\unitball{X}, w)$ is metrisable.
 \end{boxprop}

 \begin{proof}
     \noindent\underline{''$\implies$''}: By proposition \ref{prop: BA metrisable iff separable} (\textit{i}), $(\unitball{X^{**}}, w^*)$ is metrisable. Hence, $(\unitball{X}, w) = \restr{(\unitball{X^{**}}, w^*)}{\unitball{X}}$ is metrisable.\\

     \noindent\underline{''$\impliedby$''}: let $d$ metrise $(\unitball{X}, w)$. Then for all $n\in \N$, there exists finite $F_n\subseteq X^*$ and $\epsilon_n>0$ s.t. $\mathcal{U}_n = \{x\in \unitball{X}: |f(x)|<\epsilon_n \forall f\in F_n\}\subseteq \{x: d(x,0)<\frac{1}{n}\}$. Let $Z = \spn\displaystyle\bigcup_{n\in\N}F_n$.\\

     \noindent \noindent\underline{Claim}: $\overline{Z} = X^*$, then done.\\

    Indeed, let $g\in X^*$ and fix $\epsilon>0$. Then $\{x\in \unitball{X}:|g(x)|<\epsilon\}$ is a weak neighbourhood of $0$ in $\unitball{X}$ and hence contains $\mathcal{U}_n$ for some $n\in\N$. Let $Y=\displaystyle\bigcap_{f\in F_n}\ker f$, then for $x\in \unitball{Y}, x\in \mathcal{U}_n$, so, $g(x)<\epsilon$. So $\norm{\restr{g}{Y^*}}\leq \epsilon$. Now $Y = \displaystyle\bigcap_{f\in F_n}\ker f\subseteq \ker (g-h)$, so by lemma \ref{lemma: kernel lemma} $g-h\in \spn F_n\subseteq Z$ implies $d(g,z)\leq \epsilon$ which gives $g\in \overline{Z}$.
 \end{proof}

 \begin{theorem}[Goldstine]\label{thm: Goldstine}
     For any normed space $X$, $\overline{\unitball{X}}^{w^*}=\unitball{X^{**}}$ ($\overline{\unitball{X}}^{w^*}$ is the closure in $(\vectsp{X^{**}, w^*})$ of $\unitball{X}$).
 \end{theorem}

 \begin{proof}
     $\unitball{X^{**}}$ is weak-* closed (follows from Theorem \ref{thm: Banach-Alaoglu}) and $\unitball{X}\subseteq \unitball{X^{**}}$ so $\overline{\unitball{X}}^{w^*}\subseteq \unitball{X^{**}}$. Now let $\phi \in X^{**}\setminus \overline{\unitball{X}}^{w^*}$. Apply Theorem \ref{thm: LCS separation} (\textit{ii}) to $(X^{**}, w^*)$, $A=\{\phi\}, B = \overline{\unitball{X}}^{w^*}$ (show weak-* closure of convex set is closed). Now, there exists $f\in X^*$ s.t. $\phi(f)>\displaystyle\sup_B \hat{f}$ (real case), $[\Real(\phi(f))]>\displaystyle\sup_B \Real(\hat{f})$, $\norm{\phi}\cdot\norm{f}>\displaystyle\sup_{\unitball{X}} f$. So $\norm{\phi}>1$.
 \end{proof}

\begin{examplesblock}{Example:}\label{examples: 10}
    Note that $\overline{X}^{w^*}=X^{**}$. So $X$ separable implies $X^*$ is weak-* separable. For instance, $\ell_\infty^* = \ell_1^{**}$ is weak-* separable, but $\ell_\infty$ is \noindent\underline{NOT} separable.\\

    Indeed, we have that the map 
    $$
    \begin{array}{cc}
         \psi: \ell_\infty\to \ell_1^* \\
          x\mapsto \left(f_x:\ell_1\to \text{ scalars}: y\mapsto \displaystyle\sum_{n\in\N}x_ny_n\right)
    \end{array}
    $$
    is an isometric isomorphism (in the norm topologies). It suffices to show that 
    $$
    (\ell_\infty^*, \sigma(\ell_\infty^*, \ell_\infty))\xrightarrow{\phi}(\ell_1^{**}, \sigma(\ell_1^{**}, \ell_1^{*}))
    $$
    is a homeomorphism. Observe that $\phi = (\psi^{-1})^*, \phi^{-1} = (\psi)^*$, both dual maps. $\psi$ being an isometric isomorphism in the norm topology implies that the same holds for $\phi$. By the previous observation, it suffices to show that for all $y\in \ell_1^{*}$, $\hat{y}\circ \phi: (\ell_\infty^*, \sigma(\ell_\infty^*, \ell_\infty))\to \text {scalars}$ is continuous. Indeed, observe that for $f\in \ell_\infty^*$ , $\hat{y}\circ \phi (f) = \phi(f)(y) = (\psi^{-1})^*(f)(y)=f(\psi^{-1}(y))=\widehat{\psi^{-1}(y)}(f)$, and so $\hat{y}\circ \phi = \widehat{\psi^{-1}(y)}$, which is weak-* continuous by the universal property of the weak topology, hence we are done. 

\end{examplesblock}

\mymark{Lecture 14}\begin{theorem}\label{thm: characterisation of reflexivity in terms of weak compactness of unit ball}
    Let $X$ be a Banach space. Then TFAE:
    \begin{enumerate}[label = (\roman*), align = left]
        \item $X$ is reflexive.
        \item $(\unitball{X}, w)$ is compact.
        \item $X^*$ is reflexive.
    \end{enumerate}
\end{theorem}

\begin{proof}
    \noindent\underline{(\textit{i})$\implies$(\textit{ii})}: using the canonical embedding (a $w-w^*$ homeomorphism), $(\unitball{X},w)=(\unitball{X^{**}},w^*)$ $\unitball{X}$ is compact by Banach-Alaoglu (Theorem \ref{thm: Banach-Alaoglu}).\\

    \noindent\underline{(\textit{ii})$\implies$(\textit{i})}: $(\unitball{X},w) = (\unitball{X^{**}},w^*)$, so $\unitball{X}$ is compact in the weak-* topology of $X^{**}$. So $\unitball{X}$ is weak-* closed in $X^{**}$. By Goldstine, $\unitball{X^{**}}\supseteq \overline{\unitball{X}}^{w^*}=\unitball{X}$.\\

    \noindent\underline{(\textit{i})$\implies$(\textit{iii})}: $(\unitball{X^*},w) = (\unitball{X^*},w^*)$ by reflexivity and is compact by Theorem \ref{thm: Banach-Alaoglu}. By (\textit{ii})$\implies$(\textit{i}), $X^*$ is reflexive. \\

    \noindent\underline{(\textit{iii})$\implies$(\textit{i})}: By what we have just proved, $X^{**}$ is reflexive. By the implication (\textit{i})$\implies$(\textit{ii}), $(\unitball{X^{**}},w)$ is compact. Since, $X$ is complete, $X$ is closed in $X^{**}$, and hence weakly closed in $X^{**}$ (by Mazur). Hence, $\unitball{X}=X\cap \unitball{X^{**}}$ is a weakly. closed subset of $\unitball{X^{**}}$ and thus weakly compact\footnote{$\unitball{X^{**}}$ is weak-* compact by Banach-Alaoglu and the map $\iota: (\unitball{X},w)\to (\hat{B}_X,w^*)$ is a homeomorphism.}. By (\textit{ii})$\implies$(\textit{i}), $X$ is reflexive.
\end{proof}

\begin{remark}
    If $X$ is separable and reflexive, then $(\unitball{X},w)$ is compact, metrisable. Hence, $\unitball{X}$ is weakly sequentially compact.
\end{remark}

\begin{boxlemma}\label{lemma: compact Hausdorff tree cont surj}
    Let $(K,d)$ be a non-empty compact metric space. Then there exists a continuous surjection $\phi:\{0,1\}^\N\to K$, where $\{0,1\}^\N$ is given the product topology. 
\end{boxlemma}

\begin{proof}
Since compact and metric imply totally bounded, that is if $A\subseteq K$ is non-empty, closed and $\epsilon>0$, then there exist non-empty closed sets $B_1, \dots, B_n$ s.t. $A = \displaystyle\bigcup^n_{j=1}B_j$ and $\diam(B_j)<\epsilon$ for all $j$.\\


Applying this\footnote{at each branching point $\epsilon\in\Sigma$, can cover $K_\epsilon$ by balls of diameter $\diam K_\epsilon/2$, 'shedding balls' until only the intersection with one remains, hence halving the diameter in a finite depth and proceed like so recursively.}, there exists a non-empty closed subset $K_\epsilon$ of $K$ for all $\epsilon\in \Sigma = \displaystyle\bigcup^\infty_{n=1}\{0,1\}^n$ s.t. $K_{\emptyset}=K$, $K_{\epsilon}=K_{\epsilon,0}\displaystyle\cup K_{\epsilon, 1}$ and $\displaystyle\max_{\epsilon\{0,1\}^n}\diam K_\epsilon\to 0$ as $n\to \infty$. Imagine some picture like the one below:

\centering
\begin{forest} 
    for tree={parent anchor=south, align = center}
   [{$K$}
    [{$K_0$}
     [{$K_{00}\\\iddots\quad\quad\quad$}
     ]
     [{$K_{01}\\\vdots$}
     ]
    ]
    [{$K_1$}
     [{$K_{10}\\\vdots$}
     ]
     [{$K_{11}\\\quad\quad\quad\ddots$}
     ]
    ]
   ]
  ]
 ]
 \end{forest}

Define $\phi: \{0,1\}^\N\to K$, $\phi((\epsilon_i)_{i=1}^\infty)=$ the unique point in $\displaystyle\bigcap_{n=1}^\infty K_{\epsilon_1, \dots, \epsilon_n}$ (is well-defined by compactness and nestedness of $K_\epsilon$'s).\\

\noindent\underline{$\phi$ is onto}: given $x\in K$, inductively construct $\epsilon_1, \dots, \epsilon_n$ s.t. for all $n$ $x\in K_{\epsilon_1, \dots, \epsilon_n}$.\\

\noindent\underline{$\phi$ is continuous}: for $\epsilon = (\epsilon_i)_{i=1}^\infty\in \{0,1\}^\N$, let $n\in \N$, then for all $\delta = (\delta_i)_{i=1}^\infty\in \{0,1\}^\N$ if $\delta_i = \epsilon_i$ for all $1\leq i\leq $, then $d(\phi(d), \phi(\epsilon))\leq \diam K_{\epsilon_1, \dots, \epsilon_n}\to 0$ as $n\to \infty$.
\end{proof}

\begin{remark}
    $\{0,1\}^\N$ is homeomorphic to the middle third Cantor set $\Delta$ via the map 
    $$
    (\epsilon_i)_{i=1}^\infty \mapsto \displaystyle\sum^\infty_{i=1}(2\epsilon_i)\cdot 3^{-i}.
    $$
\end{remark}

\begin{theorem}\label{thm: isometric embedding into C[0,1]}
    Every separable Banach space $X$ embeds isometrically into $\mathcal{C}[0,1]$. So $\mathcal{C}[0,1]$ is isometrically universal for the class of separable Banach spaces ($\mathcal{SB}$).
\end{theorem}

\begin{proof}
 From the proof of proposition \ref{prop: BA metrisable iff separable} that $ X\hookrightarrow \mathcal{C}(K)$ isometrically where $K = (\unitball{X^*}, w^*)$. Since $X$ is separable, $K$ is metrisable. By lemma \ref{lemma: compact Hausdorff tree cont surj}, there exists a continuous surjection $\phi: \Delta\to K$. Hence, $\mathcal{C}(K)\hookrightarrow \mathcal{C}(\Delta)$ isometrically via $f\mapsto f\circ\phi$. Also have $\mathcal{C}(\Delta)\hookrightarrow \mathcal{C}([0,1])$ isometrically via $f\mapsto \tilde{f}_1$.\\
 Write $[0,1]\setminus\Delta$ as a disjoint union $\displaystyle\bigcup^{\infty}_{n=1}(a_n, b_n)$. Then $\restr{\tilde{f}}{\Delta}=f$ for all $n$, $\tilde{f}$ is linear on $[a_n, b_n]$ with $\tilde{f}(a_n) = f(a_n), \tilde{f}(b_n) = f(b_n)$.
\end{proof}


\newpage
\section{Convexity} 

Let $X$ be a real or complex vector space and $K\subseteq X$ be a convex set. A point $x\in K$ is an \noindent\underline{extreme point of $K$} if whenever $x = (1-t)y+tz$ for $t\in (0,1),\; y,z\in K$, we have $y=z=x$. Let $\ext K$ be the set of extreme points of $K$. 

\begin{examplesblock}{Examples:}\label{examples: 11}
    \begin{figure}[H]
\begin{subfigure}{0.5\textwidth}
  \centering
  \includesvg[width=0.7\linewidth]{images/Ball_ell_1.svg}
  \caption{$B_{\ell_1^2}$}
  \label{fig:Ball ell 1}
\end{subfigure}%
\begin{subfigure}{0.5\textwidth}
  \centering
  \includesvg[width=0.7\linewidth]{images/Ball_ell_2.svg}
  \caption{$B_{\ell_2^2}$}
  \label{fig: Balls ell 1,2}
\end{subfigure}
\caption{Above are displayed balls and their extreme points in $\ell_1^2, \ell_1^2$ respectively.}
\label{fig:fig}
\end{figure}

Furthermore, for the sequence space $c_0$, have that $\ext(B_{c_0})=\emptyset$.\\

Indeed, given $x = (x_n)\in B_{c_0}$. Fix $N\in \N$ s.t. $|x_N|<\frac{1}{2}$. Let $y_n=z_n=x_n$ for all $n\neq N\in \N$ and $y_N = x_N + \frac{1}{2}, z_N = x_N-\frac{1}{2}$. Then $y = (y_n)_{n\in\N}, z = (z_n)_{n\in\N}\in B_{c_0}$ and $x = \frac{1}{2}y + \frac{1}{2}z, y\neq x, z\neq x$.
\end{examplesblock}

\begin{theorem}[Krein-Milman]\label{thm: Krein-Milman}
    Let $(X, \mathcal{P})$ be a LCS. Let $K$ be a compact, convex subset of $X$. Then $K=\overline{\conv}(\ext K)$. In particular, $\ext K \neq \emptyset$ provided $K\neq \emptyset$.
\end{theorem}

\begin{boxcor}\label{cor: Krein-Milman}
    If $X$ is a normed space, then $\unitball{X^*}=\overline{\conv}^{w^*}(\ext K)$ and $\ext \unitball{X^*}\neq \emptyset$. Note $c_0$ is not a dual spce isometrically, i.e. there exists no normed space $X$ s.t. $c_0\cong X^*$.
\end{boxcor}

\begin{boxdef}\label{def: face of convex set}
    Let $K$ be a compact convex set in a LCS $(X, \mathcal{P})$. \noindent\underline{A face of $K$} is a non-empty, compact convex set $E\subseteq K $ s.t. if $y,z\in K$, $t\in (0,1)$, $(1-t)y+tz\in E$, then $y,z\in E$.
\end{boxdef}

\begin{examplesblock}{Examples:}\label{examples: 12}
    \begin{enumerate}
        \item $K$ is a face of $K$. For $x\in K$, $x\in \ext K$ $\iff$ $\{x\}$ is a face of $K$.
        \item let $f\in X^*$, $\alpha = \displaystyle\sup_K f$, $E = \{x\in K: f(x) = \alpha\}$ is a face.\\
        ($E\neq \emptyset$, convex, compact and if $y,z\in K$, $t\in (0,1)$ and $(1-t)y+tz\in E$, then $\alpha = f((1-t)y+tz) = (1-t)f(y)+tf(z)\geq \alpha$ giving equality, hence $f(y)=f(z)=\alpha$, hence $y,z\in E$).
        \begin{center}
        [In the complex case, use $\Real f$. From now on, we only use real scalars.]
        \end{center}
        \item Let $E$ be a face of $K$. If $F$ is a face of $E$, then $F$ is a face of $K$. So if $x\in \ext E$, then $x\in \ext K$.
    \end{enumerate}
\end{examplesblock}

\begin{proof}{Proof of Theorem \ref{thm: Krein-Milman}}
    Let $E$ be a face of $K$. We show $\ext E\neq \emptyset$.\\

    By Zorn, lemma \ref{Lemma: Zorn}, there exists a minimal (wrt inclusion) face $F$ of $E$. If $|F|>1$, then pick $x\neq y\in F$ and $f\in X^*$ s.t. $f(x)>f(y)$ (by Hahn-Banach). Then $\mathbb{G}=\{z\in F: f(z)=\displaystyle\sup_F f\}$ is a face of $F, y\not\in \mathcal{G}$ so $\mathcal{G}\not\subseteq F$, a contradiction. So $F$ is a singleton which means $\ext E \neq \emptyset$.\\

    Now, let $L = \overline{\conv}\ext K$. then $L\neq \emptyset$, convex, compact, $L\subseteq K$. Assume $x_0\in K\setminus L$. By Theorem \ref{thm: Hahn-Banach separation theorem}, there exists $f\in X^*$ s.t. $f(x_0)>\displaystyle\sup_L f$. Let $\alpha = \displaystyle\sup_K f$, then $E = \{x\in K: f(x)=\alpha\}$ is a face of $K$. So there's an extreme point $z$ of $K$ with $X\in E$. Since $\alpha \geq f(x_0)$, $E\cap L\neq \emptyset $,  a contradiction. So $z\not\in L$.
\end{proof}

\begin{boxlemma}\label{lemma: LCS topology}
    \mymark{Lecture 15} let $(X, \mathcal{P})$ be a LCS, let $K\subseteq X$ be compact and $x_0\in K$. Then for a neighbourhood $\mathcal{V}$ of $x_0$ in $X$, there exist $f_1, \dots, f_n\in X^*$, $\alpha_1, \dots, \alpha_n\in \R$ s.t. $x_0\in \{x\in X: f_i(x)<\alpha_i, 1\leq i \leq n\}\cap K\subseteq \mathcal{V}$.
\end{boxlemma}

\begin{proof}
    let $\tau$ be the topology of $X$ defined by $\mathcal{P}$ let $\sigma = \sigma(X, X^*)$. Then $\Id: (K,\tau)\to (K, \sigma)$ is a continuous bijection $(\sigma\subseteq\tau)$ from compact to Hausdorff (as $X^*$ separates points of $X$ by Hahn-Banach), so it is a homeomorphism, i.e. $\sigma = \tau$ on $K$.
    
\end{proof}

\begin{boxlemma}\label{lemma: LCS topology extreme point}
    let $(X, \mathcal{P})$ be a LCS, let $K\subseteq X$ be compact and convex. $x_0\in \ext K$. Then for a neighbourhood $\mathcal{V}$ of $x_0$ in $X$, there exists $f\in X^*$, $\alpha\in \R$ s.t. $x_0\in \{x\in X: f(x)<\alpha\}\cap K\subseteq \mathcal{V}$.
\end{boxlemma}

\begin{proof}
    Let $n,f_1, \dots, f_n\in X^*$, $\alpha_1, \dots, \alpha_n$ be as in lemma \ref{lemma: LCS topology} and $K_1 = \{x\in K: f_i(x)\geq \alpha_i\}$. This is compact and convex. Observe $\displaystyle\bigcup^n_{i=1} K_i\supseteq K\setminus\mathcal{V}$ and $x_0\not\in \displaystyle\bigcup^n_{i=1} K_i$. Also, $$
    \conv \displaystyle\bigcup^n_{i=1} K_i = \left\{\displaystyle\sum^n_{i=1} t_ix_i: x_i\in K_i, t_i\geq 0, \displaystyle\sum^n_{i=1} t_i = 1\right\}.
    $$ 
    Since $x_0$ is an extreme point of $K$, $x_0\not\in \conv \displaystyle\bigcup^n_{i=1} K_i$ (the case $n=2$ is true by definition, and use induction to arrive at the general case).\\
    
    Furthermore, 
    $$
    K_1\times \dots K_n\times\left\{(t_i)\in \R^n: t_i\geq 0 \forall i, \displaystyle\sum^n_{i=1} t_i = 1\right\}
    $$ 
    is compact and $(x_1, \dots, x_n, (t_i)^n_{i=1})\mapsto \displaystyle\sum^n_{i=1} t_ix_i$ is continuous (algebraic operaitons ''$+,\times$'' are continuous in LCS), so the image $B = \conv \displaystyle\bigcup^n_{i=1} K_i$ is compact. By Theorem \ref{thm: Hahn-Banach separation theorem}, there exists $f\in X^*$ s.t. $f(x_0)<\displaystyle\inf_B f$. Choose $\alpha\in \R$ with $f(x_0)<\alpha<\displaystyle\inf_B f$. Then $x_0\in \{x\in X:f(x)<\alpha\}\cap K$, which is disjoint from $B$ and hence from $\displaystyle\bigcup^n_{i=1} K_i$ and so is contained in $\mathcal{V}$.
\end{proof}

\begin{figure}[H]
\begin{subfigure}{0.5\textwidth}
  \centering
  \includesvg[width=0.65\linewidth]{images/LCS convex top 1.svg}
  \caption{Illustration of lemma \ref{lemma: LCS topology}.}
  \label{fig: LCS topology}
\end{subfigure}%
\begin{subfigure}{0.5\textwidth}
  \centering
  \includesvg[width=0.65\linewidth]{images/LCS convex top 2.svg}
  \caption{Illustration of lemma \ref{lemma: LCS topology extreme point}.}
  \label{fig: LCS topology extreme point}
\end{subfigure}
\caption{}
\label{fig: LCS topology combined}
\end{figure}


\begin{theorem}\label{thm: Krein-Milman partial converse}
    Let $(X, \mathcal{P})$ be a locally convex space, $K\subseteq X$ compact, convex and $S\subseteq K$. If $K = \overline{\conv}S$, then $\overline{S}\supseteq \ext K$.
\end{theorem}

\begin{remark}
    The closure is necessary. For instance, let $S$ be a dense subset of $S_{\ell_2^2}$. Then $\overline{\conv}S_{\ell_2^2} = B_{\ell_2^2}$ and $\ext B_{\ell_2^2}= S_{\ell_2^2}$. Also, $\ext K$ need not be closed. E.g. in $\R^3$,
    \begin{figure}[H]
    \centering
    \includesvg[width=0.5\linewidth]{images/cone Krein Milman.svg}
    \caption{Illustration of extreme points of a double cone in $\R^3$ (which include top and bottom vertices).}
    \label{fig: extreme points}
\end{figure}
\end{remark}

\begin{proof}{Proof of Theorem \ref{thm: Krein-Milman partial converse}}
    Assume $x_0\in \ext K\setminus \overline{S}$. Apply lemma \ref{lemma: LCS topology extreme point} with $\mathcal{V}=X\setminus\overline{S}$. So, $f\in X^*$, $\alpha\in \R$ s.t. $x_0\in \{x\in X: f(x)<\alpha\}\cap K\subseteq \mathcal{V}$. Then, $L = \{x\in K: f(x)\geq \alpha\}$ is compact, convex with $L\supseteq S$. Hence, $L\supseteq \overline{\conv} S = K$, a contradiction since $x_0\not\in L$. Thus, $x_0\in S$. 
\end{proof}

\begin{remark}
    One can show that $\ext \unitball{\mathcal{C}(K)^*}=\{\lambda \delta_k: |\lambda|=1, k\in K\}$ ($\delta_k(f)=f(k)$), where $K$ is compact, Hausdorff. Can use Theorem \ref{thm: Krein-Milman partial converse} for ''$\subseteq$''.
\end{remark}

\begin{theorem}[Banach-Stone]\label{thm: Banach-Stone}
    Let $K,L$ be compact, Hausdorff spaces, then $\mathcal{C}(K)\cong \mathcal{C}(L)$ $\iff$ $L$ and $K$ are homeomorphic. 
\end{theorem}

\begin{proof}
    \noindent\underline{''$\impliedby$''}: If $\phi:K\to L$ is a homeomorphism then 
    $$
    \begin{array}{cc}
        \phi^*:\mathcal{C}(L)\cong \mathcal{C}(K)\\
        f\mapsto f\circ\phi 
    \end{array}
    $$
    is an isometric isomorphism.\\

    \noindent\underline{''$\implies$''}: let $T:\mathcal{C}(L)\cong \mathcal{C}(K)$ be an isometric isomorphism. Then so is its dual $T^*:\mathcal{C}(K)^*\cong \mathcal{C}(L)^*$. So $T^*(B_{\mathcal{C}(K)^*}) = B_{\mathcal{C}(L)^*}$ and $T^*(\ext B_{\mathcal{C}(K)^*}) = \ext B_{\mathcal{C}(L)^*}$. Thus, for each $k\in K$, $T^*(\delta_k) = \lambda(k)\cdot \delta_{\phi(k)}$ for some scalar $\lambda(k), |\lambda(k)|=1$ and some $\phi(k)\in L$. So we have functions 
    $$
    \begin{array}{cc}
        \lambda:K\to \text{ scalars}\\
        \phi:K\to L\\
    \end{array}
    $$
    Now, for all $k\in K$, $\lambda(k)=T^*(\delta_k)(\mathbf{1}_L)=T(\mathbf{1}_L)(k)$, which means $\lambda = T(\mathbf{1}_L)\in \mathcal{C}(K)$, so $\lambda$ is continuous. Recall, $\delta: K\to (\mathcal{C}(L)^*, w^*)$ is continuous (indeed, it is a homeomorphism between $K$ and $\delta(K)$). Also, $T^*:\mathcal{C}(K)^*\to \mathcal{C}(L)^*$ is $w*-w^*$ continuous. hence, $h\mapsto \overline{\lambda(k)}\cdot T^*(\delta_k)=\delta_{\phi(k)}:K\to (\mathcal{C}(L)^*, w^*)$ is continuous. Since $\phi: K\xrightarrow{T^*} (\delta(L), w^*)\xrightarrow{\delta^{-1}}L$ is  a composition of continuous maps, hence continuous.\\
    
    \noindent\underline{$\phi$ is into}: Assume $\phi(k_1)=\phi(k_2)$. So $\overline{\lambda(k)}\cdot T^*(\delta_{k_1}) = \overline{\lambda(k)}\cdot T^*(\delta_{k_1})$. Evaluate at $T^{-1}(\mathbf{1}_K)$ to get $\lambda(k_1)=\lambda(k_2)$ and so $\delta_{k_1} = \delta_{k_2}$ (as $T^*$ is injective) which finally gives $k_1 = k_2$.\\

    \noindent \noindent\underline{$\phi$ is onto}: Given $l\in L$, since $T^*$ is onto, there exists a scalar $\mu$, $|\mu|=1, k\in K$ s.t. $T^*(\mu\delta_k)=\delta_l$. So $\mu\lambda(k)\delta_{\phi(k)}=\delta_l$. Evaluate at $\mathbf{1}_L$ to get $\mu\lambda(k) = 1$ and so $\phi(k)=l$.
\end{proof}


\newpage 
\section{Banach Algebras}

A real or complex \noindent\underline{algebra} is a real or resp. complex vector space $A$ with multiplication $A\times A:\to A$, $(a,b)\mapsto a\cdot b$ s.t. 
\begin{enumerate}[label = (\roman*), align = left]
    \item $a(bc) = (ab)c$
    \item $a(b+c) = ab+ac$, $(a+b)\cdot c=ac +bc$
    \item $\lambda(ab) = (\lambda a)b= a(\lambda b)$
     
\end{enumerate}
for all $a,b,c\in A, b$ scalar.\\

$A$ is \noindent\underline{unital} if there exists $\mathbf{1}\in A$ s.t. $1\neq 0$ and for all $x\in A$ $\mathbf{1}a = a\mathbf{1}=a$. This element is unique, \noindent\underline{called the unit of $A$}.\\

An \noindent\underline{algebra norm} on $A$ is a norm on $A$ s.t. for all $a,b\in A$, $\norm{ab}\leq \norm{a}\cdot\norm{b}$. A \noindent\underline{normed algebra} is an algebra with an algebra norm. note that multiplication is continuous (as well as addition and scalar multiplication). A \noindent\underline{Banach algebra (BA)} is a complete normed algebra.\\

A \noindent\underline{unital normed algebra} is a normed algebra, $A$ with an element $\mathbf{1}\in A$ s.t. for all $x\in A$, $\mathbf{1}a = a\mathbf{1}=a$ and s.t. $\norm{\mathbf{1}}=1$ ($\norm{\mathbf{1}}\leq \norm{\mathbf{1}}\cdot \norm{\mathbf{1}}$ and $1\leq \norm{\mathbf{1}}$). If $A$ is a normed algebra which is also a unital algebra (but not assuming $\norm{\mathbf{1}} = 1$), then $\vvvert a \vvvert =\sup\{\norm{ab}:\norm{b}\leq 1\}$ defines an equivalent norm on $A$ that makes $A$ a unital normed algebra.\\

\noindent\underline{A unital Banach algebra} is a complete unital normed algebra. A linear map $\theta:A\to B$ between algebras is a \noindent\underline{homomorphism} if for all $a,b\in A$ $\theta(ab)=\theta(a)\cdot \theta(b)$. If in addition $A$ and $B$ are unital with units $\mathbf{1}_A$ and $\mathbf{1}_B$ and $\theta(\mathbf{1}_A)=\mathbf{1}_B$, then $\theta$ is a unital homomorphism. In the category of normed algebras, an isomorpism will mean a continuous homomorphism with continuous inverse. \noindent\underline{BUT}, homomorphisms are \noindent\underline{not} assumed continuous.\\

\mymark{Lecture 16}\noindent\underline{Note}: from now on, the scalar field is $\C$.

\begin{examplesblock}{Examples:}\label{examples: 13}
    \begin{enumerate}
        \item $\mathcal{C}(K)$, $K$ compact Hausdorff, is a commutative, unital BA with pointwise multiplication in the uniform norm.
        \item Let $K$ be compact, Hausdorff, \noindent\underline{A uniform algebra on $K$} is a \noindent\underline{closed} sub-algebra of $\mathcal{C}(K)$ that separates points of $K$ and contains the constant functions.
        \item The \noindent\underline{disk algebra} $A(\Delta)=\{f\in\mathcal{C}(\Delta):f \text{ holomorphic on the interior of } \Delta\}$, $\Delta = \{z\in \C: |z|\leq 1\}$.\\

        More generally, let $K\subseteq \C, K\neq \emptyset$ compact. We have the following uniform algebras on $K:\mathcal{P}(K)\subseteq\mathcal{R}(K)\subseteq \mathcal{O}(K)\subseteq A(K)\subseteq\mathcal{C}(K)$, where $\mathcal{P}(K), \mathcal{R}(K), \mathcal{O}(K)$ are the closures in $\mathcal{C}(K)$ of respectively, polynomials, rational functions with no pole in $K$, functions holomorphic on some open neighbourhood of $K$. $A(K)=\{f\in \mathcal{C}(K):f \text{ holomorphic on } \intr(K)\}$. Later, $\mathcal{R}(K)=\mathcal{O}(K)$ say, $\mathcal{R}(K)=\mathcal{R}(K)$ if and only of $\C\setminus K$ is connected. In general $A(K)\neq \mathcal{O}(K)$, $A(K)= \mathcal{C}(K)$ $\iff$ $\intr(K)=\emptyset$.
        \item $L_1(\R)$ with the $L_1-$norm and convolution $f*g(x)=\displaystyle\int_\R f(y)g(x-y)dy$ is a commutative Banach algebra without a unit (Riemann-Lebesgue lemma).
        \item If $X$ is a Banach space, then $\mathcal{B}(X)$ with composition an operator norm is a unital Banach algebra. It is not commutative if $dimX>1$.\\

        \noindent\underline{special case}: if $X$ is a Hilbert space, then $\mathcal{B}(X)$ is a $C^*-$algebra (see later).
    \end{enumerate}
\end{examplesblock}

\subsubsection{Elementary constructions}

\begin{enumerate}
    \item If $A$ is a unital algebra with unit $\mathbf{1}$, then a \noindent\underline{unital sub-algebra} is a sub-algebra $B$ of $A$ s.t. $\mathbf{1}\in B$. If $A$ is a normed algebra, then the closure of a sub-algebra of $A$ is a sub-algebra of $A$.
    \item \noindent\underline{Unitisation}: The unitisation of an algebra $A$ is the vector space direct sum $A_+ = A\bigoplus\C$ with multiplication $(a, \lambda)\cdot (b, \mu)=(ab+\lambda b+\mu a, \lambda, \mu)$. Then $A_+$ is a unital algebra with unit $\mathbf{1}=(0,1)$.\\

    The ideal $\{(a,0):a\in A\}$ is isomorphic to $A$ and will always be identified with $A$/ We can weite $A=\{a+\lambda\mathbf{1}:a\in A, \lambda\in \C\}$. If $A$ is a normed algebra, then $A_+$ becomes a unital normed algebra with $\norm{a+\lambda\mathbf{1}}=\norm{a}+|\lambda|$. Then $A$ is a closed ideal of $A_+$. If $A$ is a Banach algebra, then $A_+$ is a unital Banach algebra.\item The closure of an ideal of a normed algebra is an ideal. If $\mathcal{J}$ is a closed ideal of the normed algebra of $A$, then $A\setminus\mathcal{J}$ is a normed algebra in the quotient norm. If $A$ is a unital normed algebra and $\mathcal{J}$ is a proper closed ideal of $A (\mathcal{J}\neq A)$, then $A\setminus\mathcal{J}$ is a unital normed algebra with $\mathbf{1}+\mathcal{J}$ ($\norm{\mathbf{1}+\mathcal{J}}\leq \norm{\mathbf{1}}=1$ and $\norm{\mathbf{1}+\mathcal{J}}\geq 1$ from an earlier observation).
    \item let $\tilde{A}$ be the Banach space completion of a normed algebra. Then $\tilde{A}$ is a Banach algebra with the following multiplication: given $a,b\in \tilde{A}$, choose sequences $(a_n), (b_n)$ in $A$ s.t. $a_n\to a, b_n\to b$ and define $a\cdot b = \displaystyle\lim_{n\to \infty}a_n\cdot b_n$.
    \item Let $A$ be a unital Banach algebra. Let $X=A$ thought of as a Banach space. For $a\in A$, define $L_a:X\to X$, $L_a(x) = a\cdot x$. Then $L_a\in \mathcal{B}(X)$ and $\norm{L_a}=\norm{a}$. The map $L:A\to \mathcal{B}(X)$, $a\mapsto L_a$, is an isometric unital HM (homomorphism).
\end{enumerate}

\begin{boxlemma}\label{lemma: BA inversion}
    Let $A$ be a unital Banach algebra and $a\in A$. Ift $\norm{\mathbf{1}-a}<1$, then $a$ is invertible (there exists $b\in A$ s.t. $ab=ba=\mathbf{1}$) and $\norm{a^{-1}}\leq \frac{1}{1-\norm{\mathbf{1}-a}}$.
\end{boxlemma}

\begin{proof}
    For all $n\in \N$, $\norm{(\mathbf{1}-a)^n}\leq \norm{\mathbf{1}-a}^n$, so $\displaystyle\sum^\infty_{n=0} \norm{(\mathbf{1}-a)^n}<\infty$. Hence, $\displaystyle\sum^\infty_{n=0}(1-a)^n$ converges \\($(1-a)^0=1$).\\

    Let $b = \displaystyle\sum^\infty_{n=0}(\mathbf{1}-a)^n$. Then $(\mathbf{1}-a)b=b(\mathbf{1}-a)=\displaystyle\sum^\infty_{n=1}(\mathbf{1}-a)^n=b-1$, and so $ab=ba=\mathbf{1}$. So, $b = a^{-1}$ and $\norm{a^{-1}}=\norm{b}\leq $
    Let $b = \displaystyle\sum^\infty_{n=0}(\mathbf{1}-a)^n$. Then $(\mathbf{1}-a)b=b(\mathbf{1}-a)=\displaystyle\sum^\infty_{n=1}(\mathbf{1}-a)^n=b-1$, and so $ab=ba=\mathbf{1}$. So, $b = a^{-1}$ and $\norm{a^{-1}}=\norm{b}\leq \displaystyle\sum^\infty_{n=1}\norm{(\mathbf{1}-a)^n}\leq \displaystyle\sum^\infty_{n=1}\norm{\mathbf{1}-a}^n=\frac{1}{1-\norm{\mathbf{1}-a}}$.
\end{proof}

\noindent\underline{Notation}: we let $\mathcal{G}(A)$ denote the group of invertibles of a unital algebra $A$.

\begin{boxcor}\label{cor: invertibles conv}
    Let $A$ be a unital Banach algebra. 
    \begin{enumerate}[label = (\roman*), align = left]
        \item $\mathcal{G}(A)$ is open in $A$.
        \item $x\mapsto x^{-1}$ is a continuous function on $\mathcal{G}(A)$.
        \item Assume $(x_n)\subseteq\mathcal{G}(A)$, $x_n\to x\in A\setminus\mathcal{G}(A)$. Then $\norm{x_n^{-1}}\to \infty$ as $n\to \infty$.
        \item If $x\in \partial \mathcal{G}(A) = \overline{\mathcal{G}(A)}\setminus \mathcal{G}(A)$, then there exists $(z_n)$ in $A$ s.t. $\norm{z_n}=1$ for all $n$ and $z_n\cdot x\to 0$ and $x\cdot z_n$ as $n\to \infty$. It follows that $x$ has no left or right inverse in $A$, not even in any unital algebra $B$ containing $A$ as a (not necessarily unital) sub-algebra.
    \end{enumerate}
\end{boxcor}

\begin{proof}
    \begin{enumerate}[label = (\roman*), align = left]
        \item Let $x\in \mathcal{G}(A)$. If $y\in A$ and $\norm{y-x}\leq \frac{1}{\norm{x^{-1}}}$, then $\norm{\mathbf{1}-x^{-1}y}=\norm{x^{-1}(x-y)}\leq \norm{x^{-1}}\cdot \norm{x-y}<1$. Hence, by lemma \ref{lemma: BA inversion}, $x^{-1}y\in \mathcal{G}(A)$, which implies that $y=x\cdot x^{-1}y\in \mathcal{G}(A)$.
        \item Let us fix $x\in \mathcal{G}(A)$. For $y\in \mathcal{G}(A)$ $y^{-1}-x^{-1}=y^{-1}(x-y)x^{-1}$ so $\norm{y^{-1}-x^{-1}}\leq \norm{y^{-1}}\cdot \norm{x^{-1}}\cdot\norm{x-y}$. If $\norm{x-y}<\frac{1}{2\norm{x^{-1}}}$, then $|\norm{y^{-1}}-\norm{x^{-1}}|\leq 2\cdot \norm{x^{-1}}^2\cdot \norm{x-y}\to 0$ as $y\to x$.
        \item From proof of (\textit{i}), if $\norm{x-x_n}<\frac{1}{x_n^{-1}}$, then $x\in \mathcal{G}(A)$, a contradiction. So $\norm{x-x_n}\geq \frac{1}{x_n}$. Since, $\norm{x-x_n}\to 0$, the result follows.
        \item Given $x\in \partial \mathcal{G}(A)$, there exists a sequence $(x_n)\subseteq\mathcal{G}(A)$, $x_n\to x$. By part (\text{iii}) $\norm{x_n}\to \infty$, let $z_n = \frac{x_n^{-1}}{\norm{x_n^{-1}}}$, for all $n\in \N$. Then $z_nx = z_nx_n+z_n(x-x_n)$
        $=\frac{1}{\norm{x_n^{-1}}}+z_n(x-x_n)\to 0$, by the above and since $\norm{z_n(x-x_n)}\leq \norm{z_n}\cdot \norm{x-x_n}\to 0$. Similarly, $xz_n\to 0$.\\
        
        Assume that $B$ is a unital BA and $A$ is a sub-algebra of $B$. If $y\in A$ and $yx = \mathbf{1}_B$, then $yxz_n = z_n$. So $\norm{z_n}=1=\norm{yxz_n}\leq \norm{y}\cdot\norm{xz_n}$, $n\to\infty$, a contradiction. Similarly, there is no $y\in B$ s.t. $xy = \mathbf{1}_B$.
    \end{enumerate}
\end{proof}

\begin{boxdef}\label{def: spectrum}
    \mymark{Lecture 17} Let $A$ be an algebra (always complex) and let $x\in A$. The \noindent\underline{spectrum $\sigma_A(x)$ of $x$ in A} is defined as follows:
    if $A$ is unital, then $\sigma_A(x)= \{\lambda\in\C: \lambda\mathbf{1}-x\not\in\mathcal{G}(A)\}$ and if $A$ is non-unital then $\sigma_A(x) \coloneqq \sigma_{A_+}(x)$.
\end{boxdef}

\begin{examplesblock}{Examples:}\label{examples: 14}
    \begin{enumerate}
        \item $A=M_n(\C)$, $x\in A$, $\sigma_A(x)$ is the set of eigenvalues (evals) of $x$. 
        \item $A = \mathcal{C}(K)$, $K$ compact Hausdorff, $f\in A$, $\sigma_A(f)=f(K)$.
        \item $X$ a Banach space, $A = \mathcal{B}(X)$, $T\in A$, then\\ $\sigma_A(T)=\{\lambda\in\C: \lambda\Id-T \text{ not an isomorphism}\}$.
        \end{enumerate}
\end{examplesblock}

\begin{theorem}\label{thm: spectrum non-empty}
    Let $A$ be a Banach algebra, $x\in A$. Then $\sigma_A(x)$ is a non-empty, compact subset of $\{\lambda\in \C: |\lambda|\leq \norm{x}\}$.
\end{theorem}

\begin{proof}
    Wlog, $A$ is a unital Banach algebra. If $|\lambda|>\norm{x}$, then $\norm{x}<1$, so by lemma \ref{lemma: BA inversion}, $\mathbf{1}-\frac{x}{\lambda}\in \mathcal{G}(A)$ and so $\lambda\mathbf{1}-x = \lambda(\mathbf{1}-\frac{x}{\lambda})\in\mathcal{G}(A)$. Hence, $\sigma_A(x)\subseteq \{\lambda\in \C: |\lambda|\leq \norm{x}\}$. Also, $\sigma_A(x)$ is the inverse image of the closed set $A\setminus\mathcal{G}(A)$ (corollary \ref{cor: invertibles conv}(\textit{i})) under the continuous function $\lambda\mapsto \C\to A: \lambda\mathbf{1}-x$ and hence $\sigma_A(x)$ is closed. It follows that $\sigma_A(x)$ is compact.\\

    \noindent\underline{$\sigma_A(x)$ is non-empty}: consider $f:\C\setminus\sigma_A(x)\to A$, $f(\lambda)=(\lambda\mathbf{1}-x)$. By corollary \ref{cor: invertibles conv}(\textit{ii}) $f$ is continuous and for $\lambda\neq \mu$:
    $$
    \begin{array}{ll}
        
        f(\lambda)-f(\mu) = f(\lambda)((\mu\mathbf{1}-x)-(\lambda\mathbf{1}-x))f(\mu)\\
        &= f(\lambda)(\mu-\lambda)f(\mu)\\
        &= (\mu-\lambda)f(\lambda)f(\mu).
    \end{array}
    $$
    So $\frac{f(\lambda)-f(\mu)}{\lambda-\mu}=-f(\lambda)f(\mu)\to -f(\mu)^2$ as $\lambda\to \mu$ because $f$ is continuous. Thus, $f$ is holomorphic. If $|\lambda|>\norm{x}$ then $\lambda\mathbf{1}-x\in\mathcal{G}(A)$ and $\norm{(\lambda\mathbf{1}-x)^{-1}}=\frac{1}{|\lambda|}\norm{\left(\mathbf{1}-\frac{x}{\lambda}\right)^{-1}}\leq \frac{1}{|\lambda|}\frac{1}{1-\norm{\frac{x}{\lambda}}}=\frac{1}{|\lambda|-\norm{x}}\to 0$ as $|\lambda|\to \infty$. If $\sigma_A(x)$ where empty, then $f$ is a bounded entire function, so by vector-valued Liouville, $f$ is constant, and since $f(\lambda)\to 0$ as $|\lambda|\to \infty$, $f\equiv 0$, a contradiction.
\end{proof}

\begin{boxcor}[Gelfand-Mazur]\label{cor: Gelfand-mazur}
    A complex unital normed division ($\mathcal{G}(A)=A\setminus\{0\}$) algebra is isometrically isomorphic to $\C$.
\end{boxcor}

\begin{proof}
    Let us define the map $\theta: \C \to A$, $\theta(\lambda). =\lambda\cdot\mathbf{1}$. then $\theta$ is an isomtric homomorphism. To show that it is onto, fix any $x\in A$. Let $B$ be the completion of $A$. Then $B$ is a unital Banach algebra. Then by Theorem \ref{thm: spectrum non-empty}, $\sigma_B(x)$ is non-empty which implies that there exists $\lambda\in \C$ s.t. $\lambda\mathbf{1}-x$ is NOT invertible in $B$, hence $\lambda\mathbf{1}-x$ is not in $\mathcal{G}(A)$ which means that $\lambda\mathbf{1}-x = 0$ and so $\theta(\lambda) = x$.
\end{proof}

\begin{boxdef}[Spectral radius]\label{def: spectral radius}
Let $A$ be a Banach algebra and $x\in A$. The \noindent\underline{spectral radius}\\ \underline{$r_A(x)$ of $x$ in $A$} is $r_A(x) = \sup\{|\lambda|:\lambda\in\sigma_A(x)\}$. From Theorem \ref{thm: spectrum non-empty}, $r_A(x)$ is well-defined and $r_A(x)\leq \norm{x}$.
\end{boxdef}

\noindent\underline{Note}: let $x,y$ be comuting elements of a unital algebra $A$. Then $x\cdot y\in \mathcal{G}(A)$ $\iff$ $x\in \mathcal{G}(A)$ and $y\in \mathcal{G}(A)$ (use the fact that $z(xy)=(xy)z=1$ gives $yzx = yzx\cdot yxz = yxz = 1$).

\begin{boxlemma}[Spectral Mapping Theorem for polynomials]\label{lemma: spectral mapping for polys}
    Let $A$ be a unital Banach algebra and $x\in A$. Then for a complex polynomial $p = \displaystyle\sum^n_{k=0}a_kz^k$ we have
    $$
    \sigma_A(p(x)) = \{p(\lambda):\lambda\in \sigma_A(x)\}=p(\sigma_A(x))
    $$
    where $p(x) = \displaystyle\sum^n_{k=0}a_kz^k$ and $x^0=\mathbf{1}_A$.
\end{boxlemma}

\begin{proof}
    Wlog $n\neq 1$ and $a_n\neq 0$ ($\sigma_A(\lambda\mathbf{1})=\{\lambda\}$). Fix $\mu\in \C$. Write $\mu-p(z) = c\cdot \displaystyle\prod^n_{k=1}(\lambda_k-z)$ for some $c, \lambda_1, \dots, \lambda_n\in\C$, $c\neq 0$. note that $\{\lambda: p(\lambda)=\mu\} = \{\lambda_1, \dots, \lambda_n\}$. Now $\mu\not\in \sigma_A(p(x))$ $\iff$ $\mu\mathbf{1}-p(x)=\displaystyle\prod^n_{k=1}(\lambda_k\mathbf{1}-x)$ is invertible $\iff$ $\lambda_k-x\lambda_k\mathbf{1}-x$ is invertible (use previous note on commutativity and invertibility) $\iff$ there exists no $\lambda\in \sigma_A(x)$ s.t. $p(\lambda) = \mu$. The result now follows. 
\end{proof}

\begin{theorem}[Beurling-Gelfand Spectral Radius Formula (SRF)]\label{thm: Beurling-Gelfand SRF}
    Let $A$ be a unital Banach algebra, $x\in A$. Then 
    $$
    r_A(x) = \displaystyle\lim_{n\to \infty}\norm{x^n}^{\frac{1}{n}}=\inf_{n\in \N}\norm{x^n}^{\frac{1}{n}}.
    $$
\end{theorem}

\begin{proof}
    Wlog $A$ is unital. By lemma \ref{lemma: spectral mapping for polys}, if $\lambda\in \sigma_A(x)$ and $n\in \N$, then $\lambda^n\in \sigma(x^n)$. By Theorem \ref{thm: spectrum non-empty}, $|\lambda^n|\leq \norm{x^n}$ and $|\lambda|\leq \norm{x^n}^{\frac{1}{n}}$. It thus follows that $r_A(x)\leq \inf_{n\in \N}\norm{x^n}^{\frac{1}{n}}$.\\

    Consider $f:\C\setminus \sigma_A(x)\to A, f(\lambda) = (\lambda\mathbf{1}-x)^{-1}$, by the proof of Theorem \ref{thm: spectrum non-empty}, $f$ is holomorphic. Note that $\C\setminus\sigma_A(x)\supseteq \{|\lambda|>r_A(x)\}\supseteq\{\lambda: |\lambda|>\norm{x}\}$. If $|\lambda|>\norm{x}$, then $f(\lambda) = \frac{1}{\lambda}\left(\mathbf{1}-\frac{x}{\lambda}\right)^{-1}=\frac{1}{\lambda}\displaystyle\sum^\infty_{n=0}\frac{x^n}{\lambda^n}$ (by the proof of lemma \ref{lemma: BA inversion}).\\

    Fix $\phi\in A^*$ (Banach space dual). Then $\phi\circ f$ is holomorphic on $\C\setminus\sigma_A(x)$ and if $|\lambda|>\norm{x}$, then $\phi\circ f(\lambda)=\frac{1}{\lambda}\displaystyle\sum^\infty_{n=0}\frac{\phi(x^n)}{\lambda^n}$. This Laurent expansion must also be valid on $\{|\lambda|>r_A(x)\}$. So for $|\lambda|>r_A(x)$ and for $\phi\in A^*$, $\phi\left(\frac{x^n}{\lambda^n}\right)\to 0$ as $n\to \infty$. So for $|\lambda|>r_A(x)$, $\frac{x^n}{\lambda^n}\xrightarrow{w}0$. By proposition \ref{prop: weak convergence}, there exists $M>0$ s.t. for all $n\in \N$, $\norm{\frac{x^n}{\lambda^n}}\leq M^{\frac{1}{n}}$ and so $\displaystyle\limsup\norm{x^n}^{\frac{1}{n}}\leq |\lambda|$. We have thus proved that 
    $r_A(x)\leq \displaystyle\inf_{n\in \N}\norm{x^n}^{\frac{1}{n}}\leq \liminf_{n\in \N}\norm{x^n}^{\frac{1}{n}}\leq \limsup_{n\in \N}\norm{x^n}^{\frac{1}{n}}\leq r_A(x)$.
\end{proof}

\begin{theorem}\label{thm: topological property of spectrum}
Let $A$ be a unital Banach algebra and $B$ be a closed, unital sub-algebra of $A$. Let $x\in B$. Then, $\sigma_B(x)\supseteq \sigma_A(x)$ and $\partial\sigma_B(x)\subseteq \sigma_A(x)$. It follows that $\sigma_B(x)$ is the union of $\sigma_A(x)$ and \noindent\underline{some} of the bounded components of $\C\setminus\sigma_A(x)$.
\end{theorem}

Before we proceed with the proof of the above, we prove a topological lemma.

\begin{boxlemma}\label{lemma: topological lemma}
    Suppose $\mathcal{V}$ and $\mathcal{W}$ are open sets in some topological space $X$ s.t. $\mathcal{V} \subseteq \mathcal{W}$ and $\mathcal{W}$ contains non boundary points of $\mathcal{V}$. Then $\mathcal{V}$ is a union of components of $\mathcal{W}$.
\end{boxlemma}

\begin{proof}
    Let $\Omega$ be a component of $W$ that intersects $\mathcal{V}$. Let $\mathcal{U}$ be the complement of $\overline{\mathcal{V}}$. Since $\mathcal{W}$ contains no boundary point of $\mathcal{V}$, $\Omega$ is the union of two disjoint open sets $\Omega\cap \mathcal{V}$ and $\Omega \cap \mathcal{U}$. Since $\Omega$ is connected, $\Omega\cap \mathcal{U}$ is empty and so it follows that $\Omega \subseteq\mathcal{V}$.
\end{proof}

\begin{proof}[Proof of Theorem \ref{thm: topological property of spectrum}]
    $\sigma_B(x)\supseteq \sigma_A(x)$ holds since an element invertible in $B$ is also invertible in $A$. Let $\lambda\in \partial\sigma_B(x)$. then, there exist $(\lambda_n)\subseteq \C\setminus \sigma_B(x)$ s.t. $\lambda_n\to \lambda$. So $\lambda_n\mathbf{1}-x\in\mathcal{G}(B)$ and $\lambda_n\mathbf{1}-x\to \lambda\mathbf{1}-x\in B \setminus\mathcal{G}(B)$, which means $\lambda\mathbf{1}-x\in \partial \mathcal{G}(B)$. By corollary \ref{cor: invertibles conv}(\textit{iv}), $\lambda\mathbf{1}-x$ is not invertible in $A$, that is $\lambda\in \sigma_A(x)$.\\
    
    To conclude, let $\Omega_A, \Omega_B$ be the complements in $\C$ of $\sigma_A(x), \sigma_B(x)$ respectively. The preceding discussion implies that $\partial\Omega_B\subseteq\sigma_A(x)$ and so can use the topological lemma with $\mathcal{V} = \Omega_B, \mathcal{W} = \Omega_A$. Thus, $\Omega_B$ is the union of components of $\Omega_A$. This means that $\sigma_B(x)$ is the union of $\sigma_A(x)$ and some bounded components of $\Omega_A=\sigma_A(x)\setminus \sigma_A(x)$.
\end{proof}

\begin{figure}[H]
\begin{subfigure}{0.5\textwidth}
  \centering
  \includesvg[width=0.8\linewidth]{images/spectrum topology.svg}
  \caption{$\sigma_A(x)$}
  \label{fig: spectrum A}
\end{subfigure}%
\begin{subfigure}{0.5\textwidth}
  \centering
  \includesvg[width=0.8\linewidth]{images/spectrum topology larger.svg}
  \caption{$\sigma_B(x)$}
  \label{fig: spectrum B}
\end{subfigure}
\caption{Illustration of Thheorem \ref{thm: topological property of spectrum} for a sub-algebra $B\subseteq A$, $x\in B$.}
\label{fig:fig}
\end{figure}

\begin{boxprop}\label{prop: maximal comm subalg spectrum}
    \mymark{Lecture 18}Let $A$ be a unital Banach algebra and $C$ a maximal commutative sub-algebra of $A$ (wrt inclusion). Then $C$ is a unital closed sub-algebra of $A$. Moreover, for all $x\in C$, $\sigma_C(x)=\sigma_A(x)$.
\end{boxprop}

\begin{proof}
    $\overline{C}$ is a commutative sub-algebra of $A$. $\overline{C}\supseteq C$ and by maximality $\overline{C} = C$ is closed.\\
    $C +\C\cdot \mathbf{1}$ is a commutative sub-algebra of $A$ contains $C$, so by maximality $C = C +\C\cdot \mathbf{1}$, i.e. $\mathbf{1}\in C$. Fix $x\in C$. We know that $\sigma_C(x)\supseteq \sigma_A(x)$. Assume $\lambda\in \C\setminus \sigma_A(x)$/ Let $y = (\lambda\mathbf{1}-x)^{-1}$ (in $A$). Have for all $z\in C$, $z(\lambda\mathbf{1}-x)=(\lambda\mathbf{1}-x)z$ as $C$ is commutative and hence $yz = zy$. It follows that the sub-algebra generated by $C\displaystyle\cup\{y\}$ is commutative, so by maximality it is in $C$ and so $y\in C$ and $\lambda\not\in \sigma_C(x)$. Hence, $\sigma_C(x)\subseteq\sigma_A(x)$.
\end{proof}

\begin{boxdef}\label{def: character}
    A non-zero homomorphism $\phi:A\to \C$ on an algebra $A$ is called \noindent\underline{a character on $A$}. Let $\Phi_A$ be the set of all characters on $A$. If $A$ is unital, then $\phi(\mathbf{1}_A)=1$ for all characters $\phi$.
\end{boxdef}

\begin{boxlemma}\label{lemma: character norm}
    Let $A$ be a Banach algebra and $\phi \in \Phi_A$. Then $\phi$ is continuous and $\norm{\phi}\leq 1$. Moreover, if $A$ is a unital Banach algebra, then $\norm{\phi}=1$.
\end{boxlemma}

\begin{proof}
    Wlog, $A$ is a unital Banach algebra: can define $\phi_+:A_+\to \C$ by $\phi_+(a+\lambda\mathbf{1})=\phi(a)+\lambda$. Then $\phi_+\in \Phi_{A_+}$ and $\restr{\phi_+}{A}=\phi$. Now assume that $A$ is a unital Banach algebra and $\phi \in \Phi_A$. Let $x\in A$ and assume $\phi(x)>\norm{x}$. By Theorem \ref{thm: spectrum non-empty}, $\phi(x)\not\in \sigma_A(x)$. So $\phi(x)\mathbf{1}-x\in\mathcal{G}(A)$. So $1=\phi(x) = \phi((\phi(x)\mathbf{1}-x)\cdot (\phi(x)\mathbf{1}-x)^{-1})$ $=(\phi(x)\mathbf{1}-x)=0$, a contradiction. So $|\phi(x)|\leq \norm{X}$, giving $\norm{\phi}\leq 1$. In fact $\norm{\phi}=1$ since $\phi(\mathbf{1})=1$.
\end{proof}

\begin{boxlemma}\label{lemma: proper ideal}
    Let $A$ be a unital Banach algebra and $\mathcal{J}$ be a proper ideal of $A$. Then $\overline{\mathcal{J}}$ is also a proper ideal. In particular, maximal ideals are closed.
\end{boxlemma}

\begin{proof}
    Since $\mathcal{J}$ is proper, $\mathcal{J}\cap \mathcal{G}(A)$ is empty. By corollary \ref{cor: invertibles conv}, $\mathcal{G}(A)$ is open giving that $\overline{\mathcal{J}}\cap \mathcal{G}(A)$ is empty, hence $\overline{\mathcal{J}}$ is proper. We have shown that if $\mathcal{M}$ is a maximal ideal of $A$, then $\mathcal{M}$ is proper and hence so is $\overline{\mathcal{M}}$. By maximality, $\mathcal{M} = \overline{\mathcal{J}}$ is closed.
\end{proof}

\noindent\underline{Notation}: For an algebra $A$, we let $\mathcal{M}_A$ be the set of all maximal ideals of $A$.

\begin{theorem}\label{thm: maximal ideal bijection}
    Let $A$ be a commutative unital Banach algebra. Then the map 
    $$
    \begin{array}{cc}
        \Phi_A \to \mathcal{M}_A\\
        \phi \mapsto \ker\phi
    \end{array}
    $$
    is a bijection.
\end{theorem}

\begin{proof}
    \noindent\underline{Well-defined}: let $\phi\in \Phi_A$. Since $\phi$ is a homomorphism, $\ker \phi$ is an ideal of $A$. Since $\phi$ is a non-zero linear functional, $\ker\phi$ is a $1-$codimensional sub-space. So $\ker\phi$ is a maximal ideal.\\

    \noindent\underline{Injective}: assume $\phi, \psi \in \Phi_A$ and $\ker\phi=\ker \psi$. For $x\in A$, $\phi(x)\mathbf{1}-x\in \ker\phi =\ker\psi$, which implies $\psi(\phi(x)\mathbf{1}-x)=0$ giving $\phi(x)\cdot \psi(\mathbf{1})=\psi(x)=\phi(x)$.\\

    \noindent\underline{Surjective}: let $\mathcal{M}\in \mathcal{M}_A$. By lemma \ref{lemma: proper ideal}, $\mathcal{M}$ is closed, so $A\setminus\mathcal{M}$ is a unital Banach algebra in the quotient norm. From algebra, $A\setminus\mathcal{M}$ is a field, so a division algebra. By corollary \ref{cor: Gelfand-mazur} (Galfand-Mazur), $A\setminus\mathcal{M}\cong \C$. So the quotient map $q:A\to A\setminus\mathcal{M}$ ''is'' a character and $\ker q = \mathcal{M}$.
\end{proof}

\begin{boxcor}\label{cor: characters and spectrum}
    Let $A$ be a commutative unital Banach algebra and $x\in A$. Then 
    \begin{enumerate}[label = (\roman*), align = left]
        \item $x\in \mathcal{G}(A)$ $\iff$ for all $\phi\in \Phi_A$, $\phi(x)\neq 0$.
        \item $\sigma_A(x) = \{\phi(x):\phi\in \Phi_A\}$.
        \item $r_A(x) = \sup \{|\phi(x)|:\phi\in \Phi_A\}$
    \end{enumerate}
\end{boxcor}

\begin{proof}
    \begin{enumerate}[label = (\roman*), align = left]
        \item If $x\in \mathcal{G}(A)$, then for all characters $\phi$, $1=\phi(\mathbf{1}) = \phi(x\cdot x^{-1})=\phi(x)\cdot(\phi(x))^{-1}$ implying that $\phi(x)\neq 0$.\\
        Assume that $x\not\in \mathcal{G}(A)$, then $\mathcal{J}=xA=\{xa:a\in A\}$ is a proper ideal of $A$, and so is contained in a maximal ideal which is $\ker\phi$ for some character $\phi$ by Theorem \ref{thm: maximal ideal bijection}. So $\phi(x) = 0$ since $x\in \mathcal{J}\subseteq\ker\phi$.
        \item $\lambda\in \sigma_A(x)$ $\iff$ $(\lambda\mathbf{1}-x)\not\in \mathcal{G}(A)
        $ $\iff$ (by (\textit{i})) there exists $\phi\in\Phi_A$ s.t. $\phi(\lambda\mathbf{1}-x)=0$, i.e. $\lambda = \phi(x)$.
        \item Is immediate from (\textit{ii}).
    \end{enumerate}
\end{proof}

\begin{boxcor}\label{cor: spectral radius sub-add/mult}
    Let $x,y$ be commuting elements of a Banach algebra $A$. Then 
    $$
    \begin{array}{cc}
        &r_A(x+y)\leq r_A(x)+r_A(y)\\
        &r_A(x\cdot y)\leq r_A(x)\cdot r_A(y).
    \end{array}
    $$
\end{boxcor}

\begin{proof}
    Wlog, $A$ is a commutative unital Banach Algebra. ($A\to A_+$ if necesary and then replace $A$ by a maximal commutative sub-algebra containing $x,y$ and use proposition \ref{prop: maximal comm subalg spectrum}). Then for all characters $\phi$, $|\phi(x+y)|\leq |\phi(x)|+|\phi(y)|\leq r_A(x)+r_A(y)$ by corollary \ref{cor: characters and spectrum}. Taking supremum over all characters $\phi$ gives $r_A(x+y)\leq r_A(x)+r_A(y)$. Argue analogously for the remaining inequality. 
\end{proof}


\begin{examplesblock}{Examples:}\label{examples: 15}
    \begin{enumerate}
        \item $A = \mathcal{C}(K)$, $K$ compact, Hausdorff. $\Phi_A = \{\delta_k:k\in K\}$ ($\delta_k(f)=f(k)$). ''$\supseteq$'' is easy to check.\\
        ''$\subseteq$'': let $\mathcal{M}\in\mathcal{M}_A$. Seek $k\in K$ s.t. $\mathcal{M}=\ker\delta_k$. Assume there is non such $A$. Then for all $k\in K$, there exist $f_k\in \mathcal{M}$ s.t. $f_k(k)\neq 0$. By continuity, there exists open neighbourhoods $\mathcal{U}_k$ of $k$ s.t. $\restr{f_k}{\mathcal{U}_k}\neq 0$. By compactness, there exist $k_1, \dots, k_n\in K$ s.t. $\displaystyle\bigcup\mathcal{U}_{k_j}=K$. Then $g = \displaystyle\sum^n_{j=1}|f_{k_j}|^2>0$ on $K$. So $\frac{1}{g}\in \mathcal{C}(K)$. Also, $g = \displaystyle\sum^n_{j=1}f_{k_j}\cdot \overline{f}_{k_j}\in \mathcal{M}$, a contradiction.
        \item Let $K\subseteq\C$, $K$ compact and non-empty. Then $\Phi_{\mathcal{R}(K)} =  \{\delta_w:w\in K\}$. 
        \item $\Phi_{A(\Delta)} =  \{\delta_w:w\in \Delta\}$ where $A(\Delta)$ is the disc algebra.
        \item \noindent\underline{Wiener algebra}: $W = \{f\in \mathcal{C}(S^1):\displaystyle\sum_{n\in \Z}|\hat{f}_n|<\infty\}$, where $S^1 = \{z\in \C: |z| = 1\}$, $\hat{f}_n = \frac{1}{2\pi}\displaystyle\int^\pi_{-\pi}f(e^{i\theta})e^{-in\theta}d\theta$. $W$ is a commutative unital Banach algebra with pointwise operations in the norm $\norm{f}_1 = \displaystyle\sum_{n\in\Z}|\hat{f}_n|$. [It is isometrically isomorphic to $\ell_1(\Z)$ which is a Banach algebra in the $\ell_1-$norm and convolution product. That is for $a = (a_n), b = (b_n)$, $(a*b)_n = \displaystyle\sum_{j+k = n}a_kb_j, n\in \Z$. The isomorphism is given by $f\mapsto (\hat{f}_n)_n\in \Z$]. Have $\Phi_{W} =  \{\delta_w:w\in S^1\}$, so $\sigma_W(f)= f(S^1)$. So if $f\in\mathcal{C}(S^1)$ has absolutely convergence Fourier series and is nowhere zero, then $\frac{1}{f}\in W$ and so has an absolutely convergence Fourier series and is nowhere zero \noindent\underline{(Wiener's Theorem)}.
    \end{enumerate}
\end{examplesblock}

\begin{boxdef}\label{def: characters weak-* top}
    \mymark{Lecture 19} Let $A$ be a commutative unital Banach algebra. Then 
    $$
    \begin{array}{ll}
        \Phi_A &= \{\phi\in B_{A^*}:\phi(ab)=\phi(a)\phi(b) \forall a,b\in A, \phi(\mathbf{1}_A=1\}\\
        &= B_{A^*}\cap (\hat{ab}-\hat{a}\cdot \hat{b})^{-1}(\{0\})\cap \mathbf{1}_A^{-1}(\{1\})
    \end{array}
    $$
    is weak-* closed. (Here for $x\in A$, $\hat{x}\in A^{**}$ is its canonical image in $A^{**}$). Hence, $\Phi_A$ is $w^*-$compact. The $w^*-topology$ on $\Phi_A$ is called the \noindent\underline{Gelfand topology}. $\Phi_A$ with the Gelfand topology is the \noindent\underline{spectrum of $A$} OR the \noindent\underline{character space of $A$} OR the \noindent\underline{maximal ideal space of $A$}. For $x\in A$, $\restr{\hat{x}}{\Phi_A}$ is continuous on $\Phi_A$ wrt the Gelfand topology; we denote $\restr{\hat{x}}{\Phi_A}$ by $\hat{x}$. So $\hat{x}\in \mathcal{C}(\Phi_A)$-called the \noindent\underline{Gelfand transform of $x$}. The map 
    $$
    \begin{array}{cc}
         A\to \mathcal{C}(\Phi_A)  \\
         x\mapsto \hat{x}
    \end{array}
    $$
    is the Gelfand map.
\end{boxdef}

\begin{theorem}[Gelfand Representation Theorem]\label{thm: Gelfand rep thm}
    Let $A$ be a commutative unital Banach algebra, then the Gelfand map is a continuous unital homomorphism $A \to \mathcal{C}(\Phi_A)$. For $x\in A$
    \begin{enumerate}[label = (\roman*), align = left]
        \item $\norm{\hat{x}}_\infty = r_A(x)\leq \norm{x}$.
        \item $\sigma_{\mathcal{C}(\Phi_A)}(\hat{x}) = \sigma(x)$.
        \item $x\in \mathcal{G}(A)$ $\iff$ $\hat{x}\in \mathcal{G}(\mathcal{C}(\Phi_A))$.
    \end{enumerate}
\end{theorem}

\begin{proof}
    The Gelfand map is \noindent\underline{linear} since $x\to \hat{x}:A\to A^{**}$ is linear. \\

    \noindent\underline{Homomorphism}: for $x,y\in A$ $\widehat{xy}(\phi) = \phi(xy)=\phi(x)\phi(y)=\hat{x}\cdot\hat{y}$ for all $\phi\in \Phi_A$, so $\widehat{xy} = \hat{x}\hat{y}$.\\

    \noindent\underline{Unital}: $\hat{\mathbf{1}}_A(\phi)=\phi(\mathbf{1}_A)=1$ for all $\phi\in \Phi_A$, so $\hat{\mathbf{1}}_A = \hat{\mathbf{1}}_{\Phi_A}$.\\

    \noindent\underline{Continuity}: follows once we prove (\textit{i}).\\
    
    \begin{enumerate}[label = (\roman*), align = left]
        \item $\norm{\hat{x}}_\infty = \sup \{|\hat{x}(\phi)|:\phi\in\Phi_A\} \stackrel{Cor \ref{cor: characters and spectrum} (\textit{iii})}{=} r_A(x) \stackrel{Thm \ref{thm: spectrum non-empty}}{\leq }  \norm{x}$.
        \item $\sigma_{\mathcal{C}(\Phi_A)}(\hat{x})=\{\stackrel{=\phi(x)}{|\hat{x}(\phi)|}:\phi\in\Phi_A\} \stackrel{Cor \ref{cor: characters and spectrum} (\textit{ii})}{=}  \sigma_A(x)$.
        \item Immediate.
    \end{enumerate}
\end{proof}

\noindent\underline{Note}: the Gelfand map need not be injective or surjective. Using Theorem, \ref{thm: Beurling-Gelfand SRF} its kernel is 
$$
\begin{array}{ll}
    \{x\in A: \sigma_A(x) = \{0\}\} &=\{x\in A: \overbrace{{\displaystyle\lim_{n\to \infty}\norm{x^n}^{\frac{1}{n}}}}^{\text{quasi-nilpotent} = 0}\}\\
    &= \displaystyle\bigcap_{\phi\in\Phi_A}\ker\phi\\
    &=\noindent\underbrace{\displaystyle\bigcap_{\mathcal{M}\in\mathcal{M}_A}\mathcal{M}}_{\text{Jacobson radical of }A, \mathcal{J}(A)}.
\end{array}
$$

Say $A$ is \noindent\underline{semi-simple} if $\mathcal{J}(A)=\{0\}$.

\section{Holomorphic Functional Calculus (HFC)}

\noindent\underline{Recall} For a non-empty open set $\mathcal{U}\subseteq\C$, $\mathcal{O}(\mathcal{U}) = \{f:\mathcal{U}\to \C: f \text{ holomorphic}\}$ is a LCS with the topology of local uniform convergence induce by the family of semi-nnorms: $f\mapsto \norm{f}_K= \displaystyle\sup_K|f|$ for non-empty compact $K\subseteq\mathcal{U}$. $\mathcal{O}(\mathcal{U})$ is also an algebra with pointwise multiplication which is cotinuous wrt the topology of $\mathcal{O}(\mathcal{U})$ [a Fr\'{e}chet algebra].\\

\noindent\underline{Notation}: Define $e, u \in \mathcal{O}(\mathcal{U})$ by $e(z) = 1$ and $u(z) = z$ for all $z\in \C$. $\mathcal{O}(\mathcal{U})$ is a untial algebra with unit $e$.

\begin{theorem}[Holomorphic Function Calculus]\label{thm: HFC}
    Let $A$ be a commutative unital Banach algebra, $x\in A$, $\mathcal{U}\subseteq\C$ open and $\sigma_A(x)\subseteq\mathcal{U}$. Then there exists a unique unital homomorphism $\Theta_x:\mathcal{O}(\mathcal{U})\to A$ s.t. $\Theta_x(u)=x$. Moreover, $\phi\left(\Theta_x(f)\right) = f(\phi(x))$ for all $\phi\in \Phi_A, f\in \mathcal{O}(\mathcal{U})$ and $\sigma_A\left(\Theta_x(f)\right) = \{f(\lambda):\lambda\in \sigma_A(x)\}$.
\end{theorem}

\noindent\underline{Note}: Think of $\Theta_x$ as ''evaluation as $x$''-write $f(x)$ for $\Theta_x(f)$. Then $e(x) = 1$, $u(x) = x$. If $p$ is a polynomial, there exist $n\in \N, a_0, \dots, a_n\in \C$ s.t. for all $z\in \C$, $p(z) = \displaystyle\sum^n_{k=0}a_kz^k$, then $p = \displaystyle\sum^n_{k=0}a_ku^k$. So $\Theta_x(p) = p(z) =\displaystyle\sum^n_{k=0}a_k\left(\Theta_x(u)\right)^k$
$= \displaystyle\sum^n_{k=0}a_kx^k=p(x)$ as defined in lemma \ref{lemma: spectral mapping for polys}.\\
Also, $\phi(f(x))=f(\phi(x))$ for all $f\in \mathcal{O}(\mathcal{U})$, $\phi\in\Phi_A$ and $\sigma_A(f) = \{f(\lambda):\lambda\in\sigma_A(x)\}=f(\sigma_A(x))$.

\begin{theorem}[Runge's Approximation Theorem]\label{thm: Runge approx thm}
    Let $K$ be non-empty and compact. Then $\mathcal{O}(K) = \mathcal{R}(K)$, i.e. if $f$ is a function holomorphic on some open neighbourhood of $K$ then for all $\epsilon>0$, there exists ration function $r$ with no poles in $K$ s.t. $\norm{f-r}_K<\epsilon$.\\

    More precisely, given a set $\Lambda$ consisting of one point from each bounded component of $\C\setminus K$, $r$ can be chosen s.t. all its poles are in $\Lambda$. If $\C\setminus K$ is connected, then $\Lambda$ is empty so in fact we get $\mathcal{O}(K) = \mathcal{P}(K)$.
\end{theorem}

\subsection{Vector-valued integration}
Let $a<b$ in $\R$, $X$ be a Banach space and $f:[a,b]\to X$ continuous. We define ''$\displaystyle \int^b_a f(t) dt$''. We choose dissections $\mathcal{D}_n\coloneqq a = t^{(n)}_0<t^{(n)}_1<\dots <t^{(n)}_{k_n} = b$ s.t. $|\mathcal{D}_n| = \displaystyle\max_{1\leq j \leq k_n}(t^{(n)}_j-t^{(n)}_{j-1})\to 0$ as $n\to \infty$.\\

Since $f$ is uniformly continuous, the limit of
$$
\displaystyle\sum^{k_n}_{j=0}f(t^{(n)}_j)(t^{(n)}_j-t^{(n)}_{j-1})
$$
exists and is independent of $(\mathcal{D}_n)$. We define $\displaystyle \int^b_a f(t) dt$ to be this limit. It follows that for all $\phi\in X^*$
$$
\phi\left(\displaystyle \int^b_a f(t) dt\right) = \displaystyle \int^b_a \phi(f(t)) dt.
$$
Taking $\phi$ to be a norming functional for $\displaystyle \int^b_a f(t) dt$, we get
$$
\norm{\displaystyle \int^b_a f(t) dt}\leq \displaystyle \int^b_a \norm{f(t)} dt,\quad (\norm{\phi}\leq 1).
$$

Let $\gamma$ be a path in $\C$ (continuously differentiable), $f:[\gamma]\to X$ be continuous\footnote{$[\gamma]$ denotes the path itself in $\C$.}. Define
$$
\displaystyle \int_\gamma f(z) dz = \displaystyle \int^b_a f(\gamma(t))\gamma'(t) dt
$$
Given a chain $\Gamma = (\gamma_1, \dots, \gamma_n)$\footnote{any finite collection of paths defined as above.} and continuous $f:[\gamma]\to X$ define 
$$
\displaystyle \int_\Gamma f(z) dz = \displaystyle \sum^n_{j=1}\int^b_a f(\gamma(t))\gamma'(t) dt
$$
and have for all $\phi\in X^*$
$$
\phi\left(\int_\Gamma f(z) dz\right) = \displaystyle \int_\Gamma \phi(f(z)) dz.
$$
and 
$$
\norm{\int_\Gamma f(z) dz}\leq \ell(\Gamma)\cdot\displaystyle\sup_{z\in[\gamma]}\norm{f(z)}.
$$

\begin{theorem}[Vector-valued Cauchy's Theorem]\label{thm: Cauchy Banach space version}
    Let $\mathcal{U}\subseteq\C$ be open, $\Gamma$ a cycle\footnote{a cycle is a chain $\Gamma = (\gamma_1, \dots, \gamma_n), n\in \N$ of paths $\gamma_j:[a_j, b_j]\to \C$ s.t. there exists a permutation $\rho\in S_n$ s.t. $\gamma_j(b_j) = \gamma_{\rho(j)(a_{\rho(j)})}$ for all $j=1, \dots, n$.} in $\mathcal{U}$,  s.t. $n(\Gamma, w) = \frac{1}{2\pi i}\displaystyle\int_{\gamma}\frac{1}{z-w}dz=0$ for all $w\not\in\mathcal{U}$ and $f:\mathcal{U}\to X$ holomorphic. Then 
$$
\displaystyle \int_\Gamma f(z) dz = 0.
$$
\end{theorem}

\begin{proof}
    For $\phi\in X^*$, apply the scalar version of Cauchy's Theorem to deduce 
    $$
    \phi\left(\int_\Gamma f(z) dz\right) = 0, \quad \text{ for all }\phi\in X^* 
    $$
    and then apply Hahn-Banach to conclude. 
\end{proof}

\begin{boxlemma}\label{lemma: cycle winding lemma}
    Let $K$ be a non-empty compact s.t. $K\subseteq\mathcal{U}$, $\mathcal{U}\subseteq\C$ open. Then there is a cycle $\Gamma$ such that 
    $$n(\Gamma,w) = \begin{cases}
        1, \quad w\in K\\
        0, \quad w\not\in \mathcal{U}.
    \end{cases}$$
\end{boxlemma}

\begin{proof}
    Note that $K$ being compact means that $\dist(K, \C\setminus\mathcal{U})=\delta>0$. Thus, there exists an $n\in \N$\footnote{for instance, take $n\in \N$ s.t. $2\sqrt{2}\cdot 2^{-n}<\frac{\delta}{2}$.}, s.t. $K$ is covered by finitely many (by compactness) boxes in the dyadic lattice $2^{-n}\mathbf{Z}^2$ where any adjacent to them boxes are also $\subseteq \mathcal{U}$, see figure \ref{fig: proof of winding lemma}. More precisely, $\mathcal{A} = \{(x,y)\in \Z^2: [x\cdot2^{-n},x\cdot 2^{-n}+2^{-n}]\times[y\cdot2^{-n},y\cdot 2^{-n}+2^{-n}]\cap K \neq \emptyset\}$. Have $|\mathcal{A}|<\infty$. Now, define $\mathcal{B} = \mathcal{A}\displaystyle\medcup\{(x\pm1,y\pm1)\in \Z^2: (x,y)\in A)\}$. Let $\Gamma$ be the boundary of the boxes above, that is 
    $$
    \Gamma = \partial \displaystyle\bigcup_{(x,y)\in \mathcal{B}}[x\cdot2^{-n},x\cdot 2^{-n}+2^{-n}]\times[y\cdot2^{-n},y\cdot 2^{-n}+2^{-n}]
    $$
    oriented counter-clockwise (black curve in figure \ref{fig: proof of winding lemma}), and note that $\Gamma\subseteq \mathcal{U}\setminus K$.\\
    
    Now, for any $w\in K$, $w$ is either in the interior of a box or the interior of the union of boxes adjacent to it. Regardless, one computes the winding number around such a curve $\tilde{\Gamma}$ (red in figure\ref{fig: proof of winding lemma}), which is seen to be the same as the winding number of $\Gamma$ around $w$, by homotopy invariance (Cauchy's Theorem). One argues similarly for $w\in \C\setminus\mathcal{U}$ to obtain $n(\Gamma, w)=0$. 
\end{proof}

\begin{figure}[H]
        \centering
        \includesvg[width=0.55\linewidth]{images/Cauchy lemma.svg}
        \caption{Illustration of proof of Lemma \ref{lemma: cycle winding lemma}, where $n\in \N, w\in K$ and $K, \mathcal{U}, \Gamma$ (in black) as in in the lemma.}
        \label{fig: proof of winding lemma}
    \end{figure}

\begin{boxlemma}\label{lemma: HFC}
    \mymark{Lecture 20} Let $A, x, \mathcal{U}$ be as in Theorem \ref{thm: HFC}. $K = \sigma_A(x)$ and fix a cycle (guaranteed to exists by Lemma \ref{lemma: cycle winding lemma}) $\Gamma$ in $\mathcal{U}\setminus K$ s.t. $$n(\Gamma,w) = \begin{cases}
        1, \quad w\in K\\
        0, \quad w\not\in \mathcal{U}.
    \end{cases}$$
    Define the map 
    $$
    \begin{array}{mm}
         \Theta_x: \mathcal{O}(K)\to A  \\
         f\mapsto \Theta_x(f) = \frac{1}{2\pi i}\displaystyle\int_{\Gamma}f(z)(z\mathbf{1}-x)^{-1})dz.
    \end{array}
    $$
    Then, 
    \begin{enumerate}[label = (\roman*), align = left]
        \item $\Theta_x$ is well-defined, linear, continuous.
        \item For a rational function $r$ with no poles in $\mathcal{U}$, $\Theta_x(r) = r(x)$ in the usual sense.
        \item $\phi\left(\Theta_x(f)\right) = f(\phi(x))$ for all $\phi\in \Phi_A, f\in \mathcal{O}(\mathcal{U})$ and $\sigma_A\left(\Theta_x(f)\right) = \{f(\lambda):\lambda\in \sigma_A(x)\}$.
    \end{enumerate}
\end{boxlemma}

\begin{remark}
    So we can think of the HFC as a Banach algebra valued Cauchy integral formula. Lemma \ref{lemma: HFC} almost proves the theorem (\ref{thm: HFC}). It remains to show that $\Theta_x$ is a homomorphism and it is unique. 
\end{remark}

\begin{proof}

\begin{enumerate}[label = (\roman*), align = left]
    \item If $z\in [\Gamma]$ then $z\not\in K = \sigma_A(x)$. So $z\mathbf{1}-x\in \mathcal{G}(A)$. By the proof of Theorem \ref{thm: spectrum non-empty}, the map $z\mapsto (z\mathbf{1}-x)^{-1}$ is continuous (indeed, holomorphic). So, $\Theta_x$ is well-defined. It's also linear by linearity of integration. We also have the estimate
 $$
 \norm{\Theta_x(f)}\leq \frac{1}{2\pi}\ell(\Gamma)\cdot\displaystyle\sup_{z\in[\gamma]}|f(z)|\cdot\norm{(z\mathbf{1}-x)^{-1}}.
 $$
 Since the map $z\mapsto \norm{(z\mathbf{1}-x)^{-1}}$ is continuous on the compact set $[\Gamma]$, it is bounded. So there exists $M>0$ s.t. for all $f\in \mathcal{O}(\mathcal{U})$ $\norm{\Theta_x(f)}\leq M\cdot \norm{f}_{[\Gamma]}$.\\

 By Lemma \ref{lemma: continuity criterion LCS lin functional}, $\Theta_x$ is continuous.
 \item First we show $\Theta_x(e)=1$.\\

 Fix $R>\norm{x}$ and let $\gamma$ be the anticlockwise boundary of $D(0,R)$. Then $\gamma$ and $\Gamma$ are homologous in $\C\setminus K$. So, by Cauchy's Theorem and the proof of Lemma \ref{lemma: BA inversion}, 
 $$
 \begin{array}{ll}
     \Theta_x(e) &= \frac{1}{2\pi i}\displaystyle\int_{\gamma}(z\mathbf{1}-x)^{-1}dz\\
     &= \frac{1}{2\pi i}\displaystyle\int_{\gamma}\frac{1}{z}\displaystyle\sum^\infty_{n=0}\left(\frac{x}{z}\right)^ndz\\
     &\noindent\underbrace{=\sum^\infty_{n=0}\frac{1}{2\pi i}\displaystyle\int_{\gamma}\frac{1}{z}\frac{x^n}{z^{n+1}} dz}_{\text{sum conv. absolutely and uniformly on } \gamma}\\
     &= x^0 = 1.
 \end{array}
 $$

 Let $r\in \mathcal{O}(K)$ be a rational function. So $r = \frac{p}{q}$, for polynomials $p,q$ s.t. for all $z\in \mathcal{U}$, $q(z)\neq 0$. By Lemma \ref{lemma: spectral mapping for polys}, $\sigma_A(q(x)) = \{q(\lambda): \lambda\in \stackrel{=K}{\sigma_A(x)}\}$ and so $0\not\in\sigma_A(q(x))$. We define $r(x) = p(x)\cdot q(x)^{-1}$ (''usual sense''). For $z,w\in \C$, $r(z)-r(w) = q(z)^{-1}q(w)^{-1}(q(w)p(z)-q(z)p(w))$ $=  q(z)^{-1}q(w)^{-1}(z-w)s(z,w)$, where $s$ is a polynomial in $z,w$. Hence, $r(z)\mathbf{1}-r(x) = q(z)^{-1}q(w)^{-1}(z\mathbf{1}-w)s(z,w)$ and
 $$
 \begin{array}{ll}
     \Theta_x(r) &= \frac{1}{2\pi i}\displaystyle\int_{\gamma}\noindent\underbrace{r(z)}_{r(z)\mathbf{1}-r(x)+r(x)}(z\mathbf{1}-x)^{-1}dz\\
     &= \frac{1}{2\pi i}\noindent\underbrace{\displaystyle\int_{\gamma}q(z)^{-1}q(w)^{-1}s(z,w)dz}_{=0 \text{ by Cauchy}} + \frac{1}{2\pi i}\displaystyle\int_{\gamma}(z\mathbf{1}-x)^{-1})dz\cdot r(x)\\
     &= r(x) \cdot \Theta_x(e) = r(x).
 \end{array}
 $$
 \item $\phi\left(\Theta_x(f)\right) =  \frac{1}{2\pi i}\displaystyle\int_{\gamma}f(z)(z\mathbf{1}-x)^{-1}dz = f(\phi(x))$ by Cauchy's integral formula. and so 
 $$
 \sigma_A\left(\Theta_x(f)\right) \stackrel{\text{Cor \ref{cor: characters and spectrum}}}{=}\{\stackrel{=f(\phi(x))}{\phi\left(\Theta_x(f)\right)}:\phi\in\Phi_A\} =\{f(\lambda):\lambda\in \sigma_A(x)\}.
 $$
 
\end{enumerate}
\end{proof}

\begin{proof}{Proof of Theorem \ref{thm: Runge approx thm}}
    Let $A = \mathcal{R}(K)$. Let $x\in A$ be the element $x(z) = z$ for all $z\in K$. $\sigma_A(x) = \{\lambda\in\C:\lambda\in \sigma_A(x)\}= K$ (for $\lambda\not\in K$, $\frac{1}{\lambda-z}$ is the inverse to $\lambda\mathbf{1}-x$).\\
    
    Let $f$ be holomorphic on some open set $\mathcal{U}\supseteq K$. Let $\Theta_x:\mathcal{O}(\mathcal{U})\to A$ be given by Lemma \ref{lemma: HFC}. $\Theta_x(f)(w) = \delta_w\left(\Theta_x(f)\right) = f(\delta_w(x)) = f(w)$ for all $w\in K$. So $\Theta_x(f) = \restr{f}{K}\in \mathcal{R}(K)$. So $\mathcal{O}(K) = \mathcal{R}(K)$.\\

    Let us now fix $\Lambda$ as in the statement of Theorem \ref{thm: Runge approx thm}. Let $B$ be the closed sub-algebra of $A$ generated by $1,x,(\lambda\mathbf{1}-x)^{-1}, \lambda\in \Lambda$. So $B =$ closure in $\mathcal{C}(K)$ of rational functions with poles in $\Lambda$. By Theorem \ref{thm: topological property of spectrum}, $\sigma_B(x)$ is the union of $\sigma_A(x)$ and some of the bounded components of $\C\setminus K$. Since for any such component $D$ there exists $\lambda\in \Lambda\cap D$, so $\lambda\cdot\mathbf{1}-x\in \mathcal{G}(A)$. So $\sigma_B(x) = \sigma_A(x)$. So $\Theta_x(f)$ takes values in $B$, i.e. $\restr{f}{K}\in B$.
\end{proof}

\begin{boxcor}\label{cor: density of polys}
    Let Let $\mathcal{U}\subseteq\C$ be non-empty and open. Then the algebra $\mathcal{R}(\mathcal{U})$ of rational functions with no poles in $\mathcal{U}$ is dense in $\mathcal{O}(\mathcal{U})$.
\end{boxcor}

\begin{proof}
    Let $f\in \mathcal{O}(\mathcal{U})$ and $\mathcal{V}$ be a neighbourhood of $f$ in $\mathcal{O}(\mathcal{U})$. We need $\mathcal{V}\cap \mathcal{R}(\mathcal{U})\neq \emptyset$.\\

    Wlog, $\mathcal{V} = \{g\in \mathcal{O}(\mathcal{U}): \norm{g-f}_K<\epsilon\}$ for some non-empty, compact $K\subseteq\mathcal{U}$ and $\epsilon>0$. Let $\hat{K}$ be the union of $K$ and those bounded components $\mathcal{D}$ of $\C\setminus K$ that are combined in $\mathcal{U}$.\\

    If $D$ is a bounded component of $\C\setminus \hat{K}$, then $D$ is a bounded component of $\C\setminus K$ s.t. $D\setminus\mathcal{U}\neq \emptyset$ so we can fix $\lambda_0\in D\setminus\mathcal{U}$. Let $\Lambda$ be the set of all these $\lambda_0$'s. By Theorem \ref{thm: Runge approx thm}, there exists rational function $r$ s.t. $\norm{r-f}_{\hat{K}}<\epsilon$ and the poles of $r$ are in $\Lambda$. Hence, $r\in \mathcal{V}\cap \mathcal{R}(K)$.
\end{proof}

Combining the above results, we can now embark on a proof of Theorem \ref{thm: HFC}, which we started this section with.

\begin{proof}
    Let $\Theta_x$ be as in lemma \ref{lemma: HFC}. Then for all $f,g\in \mathcal{R}(\mathcal{U})$, $\Theta_x(fg)\stackrel{Lemma \ref{lemma: HFC}(\text{ii})}{=}(f\cdot g)(x)$ $ = f(x)g(x) = \Theta_x(f)\cdot \Theta_x(g)$ and conclude by density of $\mathcal{R}(\mathcal{U})$ in $\mathcal{O}(\mathcal{U})$ and continuity that $\Theta_x$ is a homomorphism.\\

    For uniqueness, assume $\Psi: \mathcal{O}(\mathcal{U})\to A$ is a continuous unital homomorphism and $\psi(x) = x$. Then for all polynomials $p$, $\Psi(p) = p(x) = \Theta_x(p)$ and so for all rational $r\in \mathcal{R}(\mathcal{U})$ $\Psi(r) = r(x) = \Theta_x(r)$ and hence $\Psi \equiv \Theta_x$ by density and continuity.
\end{proof}

\newpage
\section{$C^*-$algebras}

A \noindent\underline{$C^*-$ algebra} is a complex algebra $A$ with an \noindent\underline{involution}: a map $A\to A, x\mapsto x^*$ s.t. 
\begin{enumerate}[label = (\roman*), align = left, align = left]
    \item $(\lambda x+\mu y)^* = \overline{\lambda}x^*+\overline{\mu}y^*$
    \item $(xy)^* = y^*x^*$
    \item $x^{**} = x$
\end{enumerate}
for all $x,y\in A, \lambda, \mu \in \C$. If $A$ is unital, then $\mathbf{1}^* = \mathbf{1}$. A \noindent\underline{$C^*-$algebra} is a Banach algebra with an involution s.t. the \noindent\underline{$C^*$-equation} holds: 
$$
\norm{x^*x}= \norm{x}^2, \quad \text{ for all } x\in A.
$$

A complete algebra norm on a *-algebra that satisfies the $C^*-$equation is a \noindent\underline{$C^*-$norm}. So a $C^*-$algebra is a *-algebra with a $C^*-$norm on it. 

\begin{remark}
    \mymark{Lecture 21}\begin{enumerate}
        \item If $A$ is a $C^*-$algebra, and $x\in A$, then $\norm{x^*}=\norm{x}$ ($\norm{x}^2=\norm{x^*x}\leq \norm{x^*}\cdot\norm{x}$ so $\norm{x}\leq \norm{x^*}$ and hence $\norm{x^*}\leq \norm{x^{**}}=\norm{x}$). So the involution is continuous.\\

        A \noindent\underline{Banach algebra} with an involution s.t. $\norm{x^*}=\norm{x}$ for all $x$.
        \item If $A$ is a $C^*-$algebra and if $A$ has a multiplicative identity $\mathbf{1}\neq 0$, then automatically $A$ is a unital $C^*-$agebra, $\norm{\mathbf{1}}=1$ $(\norm{\mathbf{1}}^2 = \norm{\mathbf{1}^*\mathbf{1}}=\norm{\mathbf{1}})$.
    \end{enumerate}
\end{remark}

\begin{boxdef}\label{def:*-subalg}
    A \noindent\underline{*-sub-algebra} of a *-algebra $A$ is a sub-algebra $B$ of $A$ s.t. for all $x\in B$, $x^*\in B$. A \noindent\underline{$C^*-$sub-algebra} of a $C^*-$algebra is a closed *-algebra. So a $C^*-$sub-algebra of a $C^*-$algebra is a $C^*-$algebra. 
    The closure of a *-algebra of a $C^*-$algebra is a *-sub-algebra, so a $C^*-$algebra.\\

    A \noindent\underline{*-homomorphism} between *-algebras is a homomorphism $\theta:A\to B$ s.t. $\theta(x^*) = \theta(x)^*$ for all $x\in A$. A *-isomorphism is a bijective *-homomorphism.
\end{boxdef}

\begin{examplesblock}{Examples:}\label{examples: 13}
    \begin{enumerate}
        \item $\mathcal{C}(K)$, $K$ compact Hausdorff, is a commutative, unital $C^*-$algebra with involution $f\mapsto f^*$, where $f^*(k) = \overline{f(k)}$ for all $k\in K$, $f\in \mathcal{C}(K)$.
        \item $\mathcal{B}(H)$, $H$ Hilbert space is a unital $C^*-$algebra with involution $T\mapsto T^*$ where $T^*$ is the adjoint. 
        \item Any $C^*-$sub-algebra of $\mathcal{B}(H)$, ($H$ any Hilbert space) is a $C^*-$algebra.
    \end{enumerate}
    \noindent\underline{\ldots And that's all folks!}
\end{examplesblock}

\begin{remark}
    the Gelfand-Naimark Theorem says that if $A$ is a $C^*-$algebra then there exists a Hilbert space $H$ s.t. $A$ is isometrically *-isomorphic to some $C^*-$sub-algebra of $\mathcal{B}(H)$. We will prove the commutative version.
\end{remark}

\begin{boxdef}\label{def: hermitian, unitary}
    Let $A$ be a $C^*-$algebra and $x\in A$. We say $x$ is 
    \begin{enumerate}[label = (\roman*), align = left]
        \item \noindent\underline{hermitian} or \noindent\underline{self-adjoint} if $x^* = x$
        \item \noindent\underline{unitary} if ($A$ is unital and) $x^*x = xx^* = \mathbf{1}$
        \item \noindent\underline{normal} if $x^*x = xx^*$
    \end{enumerate}
\end{boxdef}

\begin{examplesblock}{Examples:}\label{examples: 13}
    \begin{enumerate}
        \item $\mathbf{1}$ is both hermitian and unitary. In general, hermitian and unitary are normal.
        \item $f\in \mathcal{C}(K)$ is Hermitian $\iff$ $f(K)\subseteq\R$ and unitary $\iff$ $f(K)\subseteqS^1$.
         (Recall: $f(K)=\sigma_{\mathcal{C}(K)}(f)$).
    \end{enumerate}
\end{examplesblock}

\begin{remark}
    \begin{enumerate}
        \item If $A$ is a $C^*-$algebra and $x\in A$. Then there exist unique hermitian $h,k\in A$ s.t. $x = h+ik$.
        [If $x = h+ik$ then $x^* = h-ik$, so $h = \frac{x+x^*}{2}, k = \frac{x-x^*}{2i}$ and conversely, this choice for $h,k$ works].
        \item If $A$ is a unital $C^*-$algebra and $x\in A$, then $x\in \mathcal{G}(A)$ $\iff$ $x^*\in \mathcal{G}(A)$ and in this case $(x^*)^{-1}=(x^{-1})*$. 

        It follows that $\sigma_A(x^*) = \{\overline{\lambda}:\lambda\in \sigma_A(x)\}$ ($\lambda\mathbf{1}-x\in \mathcal{G}(A)$ $\iff$ $(\lambda\mathbf{1}-x)^* = \overline{\lambda}\cdot\mathbf{1}-x^*\in\mathcal{G}(A)$) so $\sigma_A(x^*) = \sigma_A(x)$.
    \end{enumerate}
\end{remark}

\begin{boxlemma}\label{lemma: normal spectral radius}
    Let $A$ be a $C^*-$algebra and $x\in A$. Then $r_A(x)=\norm{x}$ provided $x$ is normal.
\end{boxlemma}

\begin{proof}
    Assume $x$ is hermitian. Then $\norm{x}^2=\norm{x^2}$ and inductively, $\norm{x}^{2^n}=\norm{x^{2^n}}$ for all $n$. By the spectral radius formula (Theorem \ref{thm: Beurling-Gelfand SRF}), $r_A(x) = \displaystyle\lim_{n\to \infty}\norm{x^{2^n}}^{\frac{1}{2^n}}=\norm{x}$.

    If $x$ is normal, then $\norm{x^*x}= r_A(x^*x)$ because $x^*x$ is hermitian.\\
    Now, $r_A(x^*x)\leq r_A(x*)r_A(x)\stackrel{(Cor \ref{cor: spectral radius sub-add/mult}) }{\leq} \norm{x^*}\cdot\norm{x}$. But $\norm{x}^2 = \norm{x^*x}$. So we have equality throughout and so $\norm{x} = r_A(x)$.
\end{proof}

\begin{boxlemma}\label{lemma: character unital C^*-alg}
    Let $A$ be a unital $C^*-$algebra and $x\in A$. Then $\phi(x^*) = \overline{\phi(x)}$ for all $\phi\in \Phi_A$.
\end{boxlemma}

\begin{proof}
    Wlog we can assume that $x$ is hermitian. [For general $x$, write $x = h+ik$, $h,k$ hermitian. Then $\phi(x^*) = \phi(h-ik)=\phi(h)-i\phi(k)=\overline{\phi(x)}$ ($\phi(h), \phi(k)$ real)]. Now assume $x$ is hermitian $\phi\in \Phi_A$ and write $\phi(x) = a+ib$, $a,b\in \R$.\\

    \noindent\underline{Need}: For $t\in \R$, 
    $$
    \begin{array}{ll}
        |\phi(x+it\mathbf{1})|^2 &= |a+i(b+t)|^2\\
        &= a^2 + (b+t)^2= a^2+b^2+2bt+t^2\\
        &\leq \norm{x+it\mathbf{1}}^2=\norm{(x+it)^*(x+it)}\\
        & = \norm{(x-it)^*(x+it)} = \norm{x^2 + t^2\mathbf{1}}\leq \norm{x^2}+t^2.
    \end{array}
    $$
    Hence, $b=0$.
\end{proof}

\begin{boxcor}\label{cor: spectrum hermitian, unitary}
    Let $A$ be a unital $C^*-$algebra.
    \begin{enumerate}[label = (\roman*), align = left]
        \item If $x\in A$ is hermitian, then $\sigma_A(x)\subseteq\R$.
        \item If $x\in A$ is unitary, then $\sigma_A(x)\subseteqS^1$.
        \item If $B$ is a unital $C^*-$sub-algebra of $A$ and $x\in B$ is normal then $\sigma_B(x) = \sigma_A(x)$.
    \end{enumerate}
\end{boxcor}

\begin{proof}
    \begin{enumerate}[label = (\roman*), align = left]
        \item Let $B=$ \noindent\underline{$C^*-$algebra generated by $\mathbf{1}, x$}  (check *-sub-alg) $p(x): p \text{ poly }$. $B$ is commutative, so $\sigma)B(x) = \{\phi(x):\phi\in \Phi_B\}$. By Lemma \ref{lemma: character unital C^*-alg}, $\sigma_A(x)\subseteq\sigma_B(x)\subseteq\R$.
        \item Let $B=$ \noindent\underline{$C^*-$algebra generated by by $\mathbf{1}, x, x^*$} $=\{p(x,x^*): p \text{ poly in two variables }\}$. $B$ is commutative, so $\sigma_B(x) = \{\phi(x):\phi \in \Phi_B\}$. By Lemma \ref{lemma: character unital C^*-alg}, $1=\phi(\mathbf{1})=\phi(x^*x)=\overline{\phi(x)}\phi(x)$, hence $|\phi(x)|^2 = 1$. So $\sigma_A(x)\subseteq\sigma_B(x)\subseteqS^1$.
        \item For the last part, assume $x\in B$ is hermitian. Then $\sigma_A(x)\subseteq\R$, so $\C\setminus \sigma_A(x)$ is connected. So it follows by Theorem \ref{thm: topological property of spectrum} that $\sigma_A(x) = \sigma_B(x)$.\\

        Now assume $x\in B$ is normal. Then for $\lambda\in \C$ we have 
        $$
        \begin{array}{ll}
            \lambda\mathbf{1}-x \in \mathcal{G}(A) &\iff \lambda\mathbf{1}-x\in \mathcal{G}(A) \;\&\; (\lambda\mathbf{1}-x)^*\in \mathcal{G}(A)\\
            &\stackrel{\text{commuting elements}}{\iff} (\lambda\mathbf{1}-x)(\lambda\mathbf{1}-x)^*\in \mathcal{G}(A)\\
            &\stackrel{\text{hermitian}}{\iff} (\lambda\mathbf{1}-x)(\lambda\mathbf{1}-x)^*\in \mathcal{G}(B)\\
            &\stackrel{\text{commuting elements}}{\iff}\lambda\mathbf{1}-x\in \mathcal{G}(B) \;\&\; (\lambda\mathbf{1}-x)^*\in \mathcal{G}(B)\\
            &\iff \lambda\mathbf{1}-x\in \mathcal{G}(B).
        \end{array}
        $$
    \end{enumerate}
\end{proof}

\begin{remark}
    $T\in \mathcal{B}(H)$, $T$ hermitian or unitary, then $\sigma(T) = \partial\sigma(T)\subseteq \sigma_{\text{ap}}(T)=$ set of approximate evals. So $\sigma(T) = \sigma_{\text{ap}}(T)$ (also holds for normal operators).
\end{remark}

\begin{theorem}\label{thm: Gelfand map C^* isomorphism}
    \mymark{Lecture 22} Let $A$ be a commutative unital $C^*-$algebra. Then there exists compact, Hausdorff $K$ s.t. $A$ is isometrically isomorphic to $\mathcal{C}(K)$. In particular, the Gelfand map
    $$
    \begin{array}{cc}
         A\to \mathcal{C}(\Phi_A)\\
         x\mapsto \hat{x}
    \end{array}
    $$
    is an isometric *-isomorphism.
\end{theorem}

\begin{proof}
    By Theorem \ref{thm: Gelfand rep thm}, the Gelfand map $G:A\to \mathcal{C}(\Phi_A)$ where $\mathcal{G}(x)=\restr{\hat{x}}{\Phi_A}$, is a unital homomorphism. It remains to check the following three properties:\\

    \noindent\underline{$G$ is a *-homomorphism}: $\hat{x^*}(\phi) = \phi(x^*) \stackrel{Lemma \ref{lemma: character unital C^*-alg}}{=}\overline{\phi(x)}=\overline{\hat{x}(\phi)}$ $ = (\hat{x})^*(\phi)$ for all $\phi\in 
    Phi_A$.\\
    
    \noindent\underline{$G$ is isometric}: $\norm{G(x)}=\norm{\hat{x}}_\infty \stackrel{Thm \ref{thm: Gelfand rep thm}(\textit{i})}{=} r_A(x)\stackrel{\text{$A $ commutative Lemma \ref{lemma: normal spectral radius}}}{=}$ for all $x\in A$.\\

    \noindent\underline{$G$ is surjective}: let $\hat{A}$ be the image of $G$. So $\hat{A} = \{\hat{x}:x\in A\}$. SInce $G$ is an isometric unital *-homomorphism, it follows that $\hat{A}$ is a closed sub-algebra of $\mathcal{C}(\Phi_A)$ containing the constant functions and closed under conjugation. Also $\hat{A}$ separates points of $\Phi_A$: if $\phi\neq \psi$ in $\Phi_A$, then there exists $x\in A$ s.t. $\phi(x)\neq \psi(x)$, i.e. $\hat{x}(\phi)\neq \hat{x}(\psi)$. By Stone-Weierstrass, $\hat{A}=\mathcal{C}(\Phi_A)$.
\end{proof}

\noindent\underline{Applications}:
\begin{enumerate}
    \item Let $A$ be a unital $C^*-$algebra and let $x\in A$. Say $x$ is \noindent\underline{positive} if $x$ is hermitain and $\sigma_A(x)\subseteq[0,\infty)$. We show there exists a unique positive $y\in A$ s.t. $y^2 = x$, called the square root of $x$, denoted $x^{\frac{1}{2}}$.\\

    \noindent\underline{Existence}: $B=$ \noindent\underline{$C^*-$sub-algebra generated by by $\mathbf{1}, x$} $=\{p(x): p \text{ poly }\}$. $B$ is a commutative unital $C^*-$algebra. By Theorem \ref{thm: Gelfand map C^* isomorphism}, the Gelfand map 
    $$
    \begin{array}{cc}
         B\to \mathcal{C}(\Phi_B)\\
         w\mapsto \hat{w}
    \end{array}
    $$
    is an *-isomorphism. Now, we compute $\sigma_{\mathcal{C}(\Phi_B)}(\hat{x})\stackrel{Cor \ref{cor: characters and spectrum} (\textit{ii})}{=}\sigma_B(x) \stackrel{Cor \ref{cor: spectrum hermitian, unitary}}{=}\sigma_A(x)\subseteq[0,\infty)$.\\
    
    The map $\phi\in\Phi_B$, $\phi \mapsto \sqrt{\hat{x}(\phi)}\in \mathcal{C}(\Phi_B)$, so there exists a $y\in B$ s.t. $\hat{y}(\phi) = \sqrt{\hat{x}(
    \phi)}$ for all $\phi\in \Phi_B$. $\hat{y^*} = (\hat{y})^* = \overline{\sqrt{\hat{x}}}=\sqrt{\hat{x}} = \hat{y}$.The Gelfand map is injective, so $y^* = y$, i.e. $y$ is hermitian. Now, $\sigma_A(y) = \sigma_B(y) = \sigma_{\mathcal{C}(\Phi_B)}(\hat{y})\subseteq[0,\infty)$, so $y$ is positive. Finally, $\hat{y^2}=(\hat{y})^2=\hat{x}$, so $y^2 = x$. Note that $y$ is a limit of sequence of polynomials in $x$.\\

    \noindent\underline{Uniqueness}: Assume $z\in A$ is positive and $z^2 = x$. Have $zx = xz = z^3$, so $zp(x) = p(x)z$ for all polynomials $p$, so $yz = zy$. Let $\tilde{B}=$ \noindent\underline{$C^*-$sub-algebra generated by $\mathbf{1}, y,z$}. Then $\tilde{B}$ is a commutative unital $C^*-$algebra containing $y,z, x = y^2 = z^2$. Theorem \ref{thm: Gelfand map C^* isomorphism} gives that the 
    $$
    \begin{array}{cc}
         \tilde{B}\to \mathcal{C}(\Phi_{\tilde{B}})\\
         w\mapsto \hat{w}
    \end{array}
    $$
    is an isometric *-isomorphism. $\sigma_{\mathcal{C}(\Phi_{\tilde{B}})}(\hat{y})=\sigma_{\tilde{B}}(y) =\sigma_A(y)\subseteq[0,\infty)$. Also, $\hat{z}^2=\widehat{z^2}=\hat{x}=\widehat{y^2}=\hat{y}^2$ and hence $\hat{y}=\hat{z}$ and thus $y = z$.\\

    This applies to a positive operator $T\in \mathcal{B}(H)$, where $H$ is a Hilbert space ($T$ is positive $\iff$ for all $x\in H \bracket{Tx}{x}\geq 0$).
    \item \noindent\underline{Polar decomposition}: let $H$ be a Hilbert space, and $T\in \mathcal{B}(H)$ invertible. Then there exists unique operators $\mathcal{R}, \mathcal{U}$ s.t. $\mathcal{R}$ is positive, $\mathcal{U}$ is unitary and $T = \mathcal{R}\mathcal{U}$.\\

    \noindent\underline{Existence}: $TT^*$ is positive ($\bracket{TT^*x}{x} = \norm{T^*x}^2\geq 0$). Let $\mathcal{R} = (TT^*)^{\frac{1}{2}}$. So $\mathcal{R}^2=TT^*$ is invertible, and hence so is $\mathcal{R}$ (being the product of $\mathcal{R}, \mathcal{R}$, commuting elements is invertible $\iff$ $\mathcal{R}$). Let $\mathcal{U} = \mathcal{R}^{-1}T$. Then $\mathcal{U}$ is invertible and $\mathcal{U}\mathcal{U}^* = \mathcal{R}^{-1}TT^*(\mathcal{R}^{-1})^*$ $\mathcal{R}^{-1}\stackrel{R^2}{TT^*}\mathcal{R}^{-1} = \Id$.\\

    \noindent\underline{Uniqueness}: if $T = \mathcal{R} \mathcal{U}$, $\mathcal{R}$ positive, $\mathcal{U}$ unitary, then $TT^* = \mathcal{R}\mathcal{U}\mathcal{U}^*\mathcal{R}=\mathcal{R}^2$ so $\mathcal{R}=\sqrt{TT^*}$ and $\mathcal{U}=\mathcal{R}^{-1}T$.
\end{enumerate}

\newpage
\section{Borel Functional Calculus and Spectral Theory}

Throughout we fix: 
\begin{description}
    \item $H$ non-zero, complex Hilbert space.
    \item $\mathcal{B}(H)$ a bounded linear operator on $H$.
    \item $K$ compact, Hausdorff. 
    \item $\mathcal{B}$ Borel $\sigma-$field on $K$.
\end{description} 

\subsection{Operator-valued measures}

\begin{boxdef}[A resolution of the identity of $H$ over $K$]\label{def: roti}
\noindent\underline{A resolution of the identity}\\ \noindent\underline{of $H$ over $K$} (roti of $H$ over $K$) is a map $P:\mathcal{B}\to\mathcal{B}(H)$ s.t.
    \begin{enumerate}[label = (\roman*), align = left]
        \item $P(\emptyset)=0$ and $P(K)=\Id$.
        \item For all $E\in \mathcal{B}$ $P(E)$ is an orthogonal profection.
        \item For all $E,F\in \mathcal{B}$ $P(E\cap F)=P(E)\circ P(F) = P(F)\circ P(E)$.
        \item For all $E,F=\emptyset$. Then, $P(E\displaystyle\cup F)=P(E) + P(F)$.
        \item For all $x,y\in H$ the map $P_{x,y}:\mathcal{B}\to \C$ defined by $P_{x,y}(E) = \bracket{P(E)x}{y}$, $E\in \mathcal{B}$, is a regular complex Borel measure.
    \end{enumerate}
\end{boxdef}

\begin{examplesblock}{Example:}\label{examples: 14}
    $H = L_2[0,1]$, $K = [0,1]$, $P(E)f=\mathbf{1}_Ef$.
\end{examplesblock}

\noindent\underline{Simple Properties}: 
\begin{enumerate}[label = (\roman*), align = left]
    \item For all $E,F\in \mathcal{B}$ $P(E\cap E), P(F)$ commute (directly follows from (\textit{ii}) above).
    \item If $E\cap F=\emptyset$, then $P(E)(H)\perp P(F)(H)$. That is for all $x,y\in H$ $\bracket{P(E)x}{P(F)y}=\bracket{P(F)\cdot P(E)x}{y}$$\bracket{P\stackrel{=\emptyset}{(E\cap F)}x}{y}=0$.
    \item For $x\in H$, $P_{x,x}$ is a positive measure of total mass $P_{x,x}(K) = \norm{x}^2$. ($P_{x,x}(E)=\bracket{P(E)x}{x}=\bracket{P(E)^2x}{x}$ $\bracket{P(E)x}{P(E)x}=\norm{P(E)x}^2\geq 0$, which equals $\norm{x}^2$ if $E = K$).
    \item $p$ is finitely additive and for $x\in H$, $E\mapsto P(E)x:\mathcal{B}\to H$ is countably additive. That is, for $E_n\in \mathcal{B}, n\in \N$, $E_n\cap E_m = \emptyset$ for all $m\neq n$, 
    $$
    \begin{array}{ll}
        \left\langle\displaystyle\sum_{n\in\N}P(E_n)x,y\right\rangle
        &=\displaystyle\sum_{n\in\N}\bracket{P(E_n)x}{y}
        = \displaystyle\sum_{n\in\N}P_{x,y}(E_n)\\
        &= P_{x,y}\left(\displaystyle\bigcup_{n\in\N} E_n\right) = \left\langle P\left(\displaystyle\bigcup_{n\in\N} E_n\right)x,y\right\rangle
    \end{array}
    $$
    for all $y\in H$ so
    $$
    \displaystyle\sum_{n\in\N}P(E_n)x = P\left(\displaystyle\bigcup_{n\in\N} E_n\right)x.
    $$
    Note that $\displaystyle\sum_{n\in\N}\norm{P(E_n)}^2\leq \norm{x}^2$ be Bessel's inequality since $\left(P\left(\displaystyle\bigcup_{n\in\N} E_n\right)x\right)_{n\in\N}$ are pairwise orthogonal.
    \item $P$ need not be countably additive, but if $P(E_n) = 0$ for all $n\in\N$ then $P\left(\displaystyle\bigcup_{n\in\N} E_n\right)=0$.
    \item For $(E_n)_{n\in\N}\subseteq\mathcal{B}$, consider the sequence $F_1 = E_1$, $F_n = E_n\setminus \displaystyle\bigcup^{n-1}_{i=1}E_i$, for $n>1$, then 
    $$
    P\left(\displaystyle\bigcup_{n\in\N} E_n\right)x = P\left(\displaystyle\bigcup_{n\in\N} F_n\right)x = \displaystyle\sum_{n\in\N}P(F_n)x =0, \quad \text{ for all } x\in H.
    $$
\end{enumerate}

\begin{boxdef}[The algebra $L_\infty(P)$]\label{def: The algebra L_infty(P)}
    \mymark{Lecture 23} Let $P$ be a resolution of $H$ over $K$. Say a Borel function $f:K\to \C$ is called \noindent\underline{$P-$essentially bounded} if there exists $E\in \mathcal{B}$ s.t. $P(E) = 0$ and $f$ bounded on $K\setminus E$.\\
    Then define 
    $$
    \norm{f}_\infty = \inf\{\norm{f}_{K\setminus E}:E\in \mathcal{B}, P(E) = 0\},
    $$
    which is attained (check!).\\
    Let $L_\infty(P)$ be the set of all $P-$essentially bounded Borel functions $f:K\to \C$. This is a commutative, unital $C^*-$algebra with pointwise operations and $\norm{\cdot}_\infty$ [As usual, we identify $f,g\in L_\infty(P)$ $P-$a.e., if there exists $E\in \mathcal{B}$ s.t. $P(E) = 0$, $f=g$ on $K\setminus E$].
\end{boxdef}

\begin{boxlemma}\label{lemma: BFC *-HM}
    Let $P$ be as above. Then there exists an isometric, unital *-homomorphism $\Phi: L_\infty(P)\to \mathcal{B}(H)$ s.t.
    \begin{enumerate}[label = (\roman*), align = left]
        \item $\bracket{\Phi(f)x}{y}=\displaystyle\int_K fdP_{x,y}$ for all $f\in L_\infty(P)$ for all $x,y\in H$.
        \item $\norm{\Phi(f)x}^2 = \displaystyle\int_K |f|^2dP_{x,x}$ for all $f\in L_\infty(P)$ for all $x,y\in H$.
        \item For $\mathcal{S}\in \mathcal{B}(H)$, $\mathcal{S}$ commutes with all $\Phi(f)$, $f\in L_\infty(P)$ $\iff$ $\mathcal{S}$ commutes with all $P(E)$, $E\in \mathcal{B}$.
    \end{enumerate}
\end{boxlemma}

\noindent\underline{Note}: $\Phi(f)$ is uniquely determined by (\textit{i}). We denote $\Phi(f)$ by $\displaystyle\int_K fdP$. So it says 
$$
\left\langle\displaystyle\int_K fdPx, y\right\rangle = \displaystyle\int_K fdP_{x,y}.
$$

\begin{proof}{Sketch}
    Define $\Phi(\mathbf{1}_E)=\int_K\mathbf{1}_EdP=P(E)$.\\
    
    For simple functions $s = \displaystyle\sum^n_{j=1}a_j\mathbf{1}_{E_j}$, $\Phi(s)=\displaystyle\int_K sdP=\displaystyle\sum^n_{j=1}a_jP(E_j)$.\\

    $\Phi$ is an isometric *-isomorphism, unital, on simple functions. Extend by density.
\end{proof}

\begin{boxdef}\label{def: L_infinity roti}
    let $L_\infty(K)$ be the set of all bounded Borel functions $f:K\to \C$. This is a commutative unital $C^*-$algebra with pointwise operations and the sup-norm $\norm{f}_K = \displaystyle\sup_{z\in K}|f(z)|$. If $P$ is a resolution of the identity of $H$ over $K$, then $L_\infty(K)\subseteq L_\infty(P)$ and the inclusion is a norm decreasing unital *-homomorphism.
\end{boxdef}

\begin{theorem}[Spectral Theorem for commutative $C^*-$algebras]\label{thm: spectral theorem C^*}
    Let $A\subseteq\mathcal{B}(H)$ be a commutative unital $C^*-$algebra of $\mathcal{B}(H)$. Let $K = \Phi_A$. Then there exists a unique resolution of the identity of $H$ over $K$, s.t. 
    $$
    \displaystyle\int_K \hat{T}dP=T, \quad \text{ for all }T\in A.
    $$
    Moreover,
    \begin{enumerate}[label = (\roman*), align = left]
        \item $P(\mathcal{U})\neq \emptyset$ for any $\neq \emptyset$, open $\mathcal{U}\subseteq K$.
        \item $\mathcal{S}\in \mathcal{B}(H)$ commutes with all $T\in A$ $\iff$ $\mathcal{S}$ commutes with all $P(E)$, $E\in \mathcal{B}$.
    \end{enumerate}
\end{theorem}

\begin{proof}
    By Theorem \ref{thm: Gelfand map C^* isomorphism} the Gelfand map 
    $$
    \begin{array}{cc}
         A\to \mathcal{C}(K)\\
         x\mapsto \hat{x}
    \end{array}
    $$
    is an isometric *-isomorphism and hence so is its inverse 
    $$
    \begin{array}{cc}
         \mathcal{G}^{-1}:\mathcal{C}(K)\to A\\
         \hat{T}\mapsto T.
    \end{array}
    $$
    We see a roti $P$ over $K$ which represents $\mathcal{G}^{-1}: \mathcal{G}^{-1}(\hat{T})=\displaystyle\int_K \hat{T}dP$.\\

    This is an operator version of the Riesz Representation Theorem, Theorem \ref{thm: Riesz Representation C(K)}.\\

    \noindent\underline{Uniqueness}: $T = \displaystyle\int_K \hat{T}dP$ for all $T$ means
    $$
    \bracket{Tx}{y} = \displaystyle\int_K \hat{T}dP_{x,y}, \quad \text{ for all }T\in A, x,y\in H.
    $$
    By uniqueness in the Riesz Representation Theorem (RRT), $P_{x,y}$ is uniquely determined for all $x,y\in H$. Since $P_{x,y}(E) = \bracket{P(E)x}{y}$, $P(E)$ is uniquely determined for all $E\in \mathcal{B}$.\\

    \noindent\underline{Existence}: For $x,y\in H$, $\hat{T}\mapsto \bracket{Tx}{y}:\mathcal{C}(K)\to \C$ is in $\mathcal{M}(K)=\mathcal{C}(K)^*$ with norm at most $\norm{x}\cdot\norm{y}$. By RRT, there exists a unique $\mu_{x,y}\in \mathcal{M}(K)$ s.t. 
    $$
    \bracket{Tx}{y} = \displaystyle\int_K \hat{T}d\mu_{x,y}, \quad \text{ for all }T\in A.
    $$
    $\norm{\mu_{x,y}}_1\leq \norm{x}\cdot \norm{y}$. Now, by linearity
    $$
    \begin{array}{ll}
        
        &= \lambda \displaystyle\int_K \hat{T}d\mu_{x,z}+\displaystyle\int_K \hat{T}d\mu_{y,z}.
    \end{array}
    $$
    By uniqueness in the RRT, $\mu_{\lambda x+y,z}=\lambda\mu_{x,z}+\mu_{y,z}$. If $\hat{T}$ is real-valued, then $T$ is hermitian, so 
    $$
    \displaystyle\int_K \hat{T}d\mu_{x,y} = \bracket{Ty}{x}= \overline{\bracket{Tx}{y}}=\displaystyle\int_K \hat{T}d\overline{\mu_{x,y}}.
    $$
    By uniqueness in the RRT, $\mu_{y,x}=\overline{\mu_{x,y}}$.

    Fix $f\in L_\infty(K)$. Then $\Theta:H\times H\times\C$, $\Theta(x,y) = \displaystyle\int_K fd\mu_{x,y}$ is a sesquilinear form and $|\Theta(x,y)|\leq \norm{f}_\infty\cdot \norm{\mu_{x,y}}_1\leq \norm{f}_\infty\cdot \norm{x}\cdot\norm{y}$. So there exists $\Psi(f)\in \mathcal{B}(H)$ s.t. $\bracket{\psi(f)x}{y}=\Theta(x,y)=\displaystyle\int_K fd\mu_{x,y}$ and $\norm{\Psi(f)}=\norm{\Theta}\leq \norm{f}_K$.\\

    We now have a map $\Psi: L_\infty(K)\to \mathcal{B}(H)$ s.t.

    \noindent\underline{$\Psi$ is linear}: clear by the linearity of $\displaystyle\int_K fd\mu_{x,y}$.\\

    \noindent\underline{$\Psi$ is bounded}: $\norm{\Psi(f)}\leq \norm{f}_K$.\\

    \noindent\underline{$\Psi$ is a *-map}: 
    $$
    \begin{array}{ll}
        \bracket{\Psi(\overline{f})x}{y}
        &= \displaystyle\int_K \overline{f}d\mu_{x,y} = \overline{\displaystyle\int_K fd\mu_{y,x}}\\
        & = \overline{\bracket{\Psi(f)y}{x}} = \bracket{x}{\Psi(f)y}\\
        & = \bracket{\Psi^*(f)x}{y}, \quad \text{ for all} x,y\in H.
    \end{array}
    $$
    So $\Psi(\overline{(f)})=\Psi(f)^*$.\\

    \noindent\underline{$\restr{\Psi}{\mathcal{C}(K)}=\mathcal{G}^{-1}$}: have $\bracket{\Psi(\hat{T})x}{y}=\displaystyle\int_K \hat{T}d\mu_{x,y}=\bracket{Tx}{y}$ for all $x,y$. So $\Psi(\hat{T})=T=\mathcal{G}^{-1}$.\\

    \noindent\underline{$\Psi$ is multiplicative}: for $S,T\in A$. 
    $$
    \begin{array}{ll}
        \displaystyle\int_K \hat{S}\cdot\hat{T}d\mu_{x,y} &= \displaystyle\int_K \widehat{ST}d\mu_{x,y}\\
        &= \bracket{STx}{y}\\
        &= \displaystyle\int_K \hat{S}d\mu_{Tx,y}, \quad \text{ S}\in A.
    \end{array}
    $$
    By uniqueness in RRT, $\hat{T}d\mu_{x,y}=d\mu_{Tx,y}$ as measures. Hence, 
    $$
    \begin{array}{ll}
        \displaystyle\int_K f\hat{T}d\mu_{x,y}
        & = \displaystyle\int_K fd\mu_{Tx,y} = \bracket{\Psi(f)Tx}{y}\\
        &= \bracket{Tx}{\Psi(f)^*y}=\displaystyle\int_K \hat{T}d\mu_{x,\Psi(f)^*y}, \quad \text{ for all }T\in A, f\in L_\infty(K).
    \end{array}
    $$
    By uniqueness in RRT, $fd\mu_{x,y}=d\mu_{x,\Psi(f)^*y}$. Finally, for $g\in L_\infty(K)$, 
    $$
    \begin{array}{ll}
        \displaystyle\int_K gfd\mu_{x,y}\\
        &= \displaystyle\int_K gd\mu_{x,\Psi(f)^*y}\\
        &= \bracket{\Psi(gf)x}{y}\\
        &=\bracket{\Psi(g)x}{\Psi(f)^*y}\\
        &=\bracket{\Psi(f)\Psi(g)x}{y}, \quad \text{ for all }x,y\in H. 
    \end{array}
    $$
    So $\Psi(fg) = \Psi(f)\cdot \Psi(g)$.\\

    Define $P(E) = \Psi(\mathbf{1}_E)$. Easy to check $P$ is a roti of $H$ over $K$. $P_{x,x}(E)=\bracket{P(E)x}{y}=\displaystyle\int_K \mathbf{1}_E d\mu_{x,y} = \mu_{x,y}(E)$ for all $E\in \mathcal{B}$. So $P_{x,y}=\mu_{x,y}$. Also, 
    $$
    \begin{array}{ll}
        \left\langle \displaystyle\int_K \hat{T}dP_{x, y}\right\rangle &= \displaystyle\int_K \hat{T}dP_{x,y}\\
        &=\bracket{\Psi(\hat{T})x}{y}\\
        &=\bracket{Tx}{y}.
    \end{array}
    $$ 
    So $\displaystyle\int_K \hat{T}dP = T$. (Without Lemma \ref{lemma: BFC *-HM}, could define $\displaystyle\int_K fdP = \Psi(f)$ for $f\in L_\infty(K)$).

    \begin{enumerate}[label = (\roman*), align = left]
        \item Fix $\mathcal{U}\subseteq K$, $\mathcal{U}$ open. By Urysohn, there exists $f:K\to [0,1]$ continuous, s.t. $\supp f\subseteq\mathcal{U}$, $f\neq 0$.\\
        There exists $T\in A$, $\sqrt{f}=\hat{T}$. Then $T\neq 0$ so there exists $x\in H$ s.t. $Tx\neq 0$. $0<\norm{Tx}^2=\bracket{T^2x}{x}=\displaystyle\int_K \widehat{T^2}dP_{x,x}=\displaystyle\int_K fdP_{x,x}$ $\leq P_{x,x}(\mathcal{U})=\bracket{P(\mathcal{U}x)}{x}$. So $P(\mathcal{U})\neq 0$. 
        \item Let $\mathcal{S}\in \mathcal{B}(H)$. $\bracket{\mathcal{S}Tx}{y}=\bracket{Tx}{\mathcal{S}^*y}= \displaystyle\int_K \hat{T}dP_{x,\mathcal{S}^*y}$ and $\bracket{T\mathcal{S}x}{y} = \displaystyle\int_K \hat{T}dP_{\mathcal{S}x,y}$.\\

        So $$
        \begin{array}{ll}
            \mathcal{S}T = T\mathcal{S} \text{ for all }T\in A
            &\iff P_{x,\mathcal{S}^*y}=P_{\mathcal{S}x,y} \text{ for all } x,y\in H.\\
            &\iff \bracket{P(E)x}{\mathcal{S}^*y}=\bracket{P(E)\mathcal{S}x}{y}  \text{ for all } x,y\in H, E\in \mathcal{B}.\\
            &\iff \mathcal{S}P(E) = P(E)\mathcal{S} \text{ for all } E\in \mathcal{B}.
        \end{array}
        $$
    \end{enumerate}
\end{proof}

\mymark{Lecture 24} Let $A$ be a united Banach algebra and $x\in A$. We define $e^x = \displaystyle\sum^\infty_{n=0}\frac{x^n}{n!}$ ($x^0=1$) (converges absolutely, so converges in $A$). If $xy = yx$ in $A$, then $e^{x+y}=e^{x}\cdot e^{y}$.

\begin{boxlemma}[Fugledo-Putman-Rosenblum]\label{lemma: Fugledo-Putman-Rosenblum}
    Let $A$ be a unital $C^*-$algebra, $x,y,z\in A$ with $x,y$ normal. If $xz = zy$, then $x^*z = zy^*$.
\end{boxlemma}

\begin{proof}
    None given. 
\end{proof}

\begin{theorem}[Spectral Theorem for normal operators]\label{thm: Spectral Theorem for normal operators}
    Let $T\in \mathcal{B}(H)$ be normal. Then there exists a unique resolution of the identity of $H$ over $\sigma(T)=\sigma_{\mathcal{B}(H)}(T)$, $P$ s.t. $T = \displaystyle\int_{\sigma(T)} \lambda dP$ (i.e. the spectral decomposition of $T$). Moreover, $\mathcal{S}\in \mathcal{B}(H)$ commutes with $T$ $\iff$ $\mathcal{S}$ commutes with all $\stackrel{\text{spectral projections}}{P(E)}$, $E\in \mathcal{B}$.
\end{theorem}

\begin{proof}
    Let $A$ be the unital $C^*-$sub-algebra of $\mathcal{B}(H)$ generated by $T$.\\ 
    So $A = \overline{\{p(T, T^*): p \text{ poly in two variables}\}}$. $T$ normal implies that $A$ is a commutative $C^*-$sub-algebra. $\sigma_A(T)=\sigma(T)$ by Corollary \ref{cor: spectrum hermitian, unitary}. By Lemma \ref{lemma: character unital C^*-alg}, every $\phi\in \Phi_A$ is uniquely determined by $\phi(T)$. [$\phi(T^*)=\overline{\phi(T)}, \phi(p(T,T^*))=p(\phi(T), \phi(T^*))$]. Thus, the map 
    $$
    \begin{array}{cc}
        \Phi_A \to \sigma(T)\\
        \phi \mapsto \phi(T)
    \end{array}
    $$
    is a continuous bijection (Corollary \ref{cor: characters and spectrum}) and thus a homeomorphism. $\hat{T}, \widehat{T^*}$ in $\mathcal{C}(\Phi_A)$ correspond to $\lambda\mapsto \lambda$, $\lambda\mapsto \overline{\lambda}$ in $\mathcal{C}(\sigma(T))$ respectively.\\

    \noindent\underline{Existence of $P$}: follows from Theorem \ref{thm: spectral theorem C^*}.\\

    \noindent\underline{Uniqueness}: if $T = \displaystyle\int_{\sigma(T)} \lambda dP$, then 
    $p(T,T^*) = \displaystyle\int_{\sigma(T)} p(\lambda, \overline{\lambda}) dP$ (Lemma \ref{lemma: BFC *-HM}). So $\bracket{p(T,T^*)x}{y}=\displaystyle\int_{\sigma(T)} p(\lambda, \overline{\lambda}) dP_{x,y}$. Since, $\lambda\mapsto p(\lambda, \overline{\lambda})$ are dense in $\mathcal{C}(\sigma(T))$, by uniqueness in RRT, $P_{x,y}$ are uniquely determined and hence so is $P$. \\

    If $\mathcal{S}T = T\mathcal{S}$, then $\mathcal{S}T^* = T^*\mathcal{S}$ by Lemma \ref{lemma: Fugledo-Putman-Rosenblum}. Finally, 
    $\mathcal{S}T = T\mathcal{S}$ $\iff$ $\mathcal{S}$ commutes with all elements of $A$, $\iff$ $\mathcal{S}$ commutes with $P(E)$, for all in $E\in\mathcal{B}$ (Theorem \ref{thm: spectral theorem C^*}).
\end{proof}

\begin{theorem}[Borel Functional Calculus]\label{thm: BFC}
    Let $T$ be a normal operator, let $K=\sigma(T)$ and $P$ be the roti of $H$ over $K$ given by Theorem \ref{thm: Spectral Theorem for normal operators}. The map
    $$
    \begin{array}{cc}
        L_\infty(K)\to \mathcal{B}(H)\\
        f\mapsto f(T)\coloneq \displaystyle\int_{\sigma(T)} f(\lambda) dP 
    \end{array}
    $$
    has the following properties:
    \begin{enumerate}[label = (\roman*), align = left]
        \item it is a unital *-homomorphism s.t. $z(T)=T$ (where $z(\lambda)=\lambda$ for all $\lambda\in K$).
        \item $\norm{f(T)}\leq \norm{f}_K$ for all $f\in L_\infty(K)$ with equality if $f\in \mathcal{C}(K)$.
        \item For $\mathcal{S}\in\mathcal{B}(H)$, $\mathcal{S}T = T\mathcal{S}$ $\iff$ $\mathcal{S}f(T) = f(T)\mathcal{S}$ for all $f\in L_\infty(K)$.
        \item $\sigma(f(T))\subseteq\overline{f(K)}$ for all $f\in L_\infty(K)$.
    \end{enumerate}
\end{theorem}

\begin{proof}
    Everything follows from Lemma \ref{lemma: BFC *-HM}, Theorems \ref{thm: spectral theorem C^*} and \ref{thm: BFC}. (Note that $f(T)=\Psi(f)$ from Theorem\ref{thm: spectral theorem C^*}). For (\textit{iv}), $\sigma(f(T))\subseteq{\sigma_{L_\infty(K)}(f)}=\overline{f(K)}$.
\end{proof}

\begin{theorem}[Polar Decomposition]\label{thm: Polar decomposition}
    Let $T\in \mathcal{B}(H)$ be normal. Then, there exists a positive operator $\mathcal{R}$, unitary $\mathcal{U}$ s.t. $T = \mathcal{R}\mathcal{U}$. Also, $T,\mathcal{R},\mathcal{U}$ pointwise commute.
\end{theorem}

\begin{proof}
    Define $r,u$ on $\sigma(T)$:
    $$
    r(\lambda)=|\lambda|, \; u(\lambda)=
    \begin{cases}
        \frac{\lambda}{|\lambda|}, \quad \lambda\neq 0\\
        1, \quad \text{ if } \lambda=0\in\sigma(T).
    \end{cases}
    $$
    Then, $r,u\in L_\infty(\sigma(T))$ and $ru=z$ ($z(\lambda) = \lambda$ for all $\lambda\in\sigma(T)$) let $\mathcal{R} = r(T), \mathcal{U}$. Then $T = Z(T)=\mathcal{R}\mathcal{U}$. $r$ is positive, $u$ is unitary in $L_\infty(\sigma(T))$ and hence $\mathcal{R}$ is positive, $\mathcal{U}$ is unitary in $\mathcal{B}(H)$. Since $L_\infty(K)$ is commutative, $\mathcal{R}, \mathcal{U}, T$ must commute.
\end{proof}

\begin{theorem}[Unitaries as exponentials]\label{thm: Unitaries as exp}
    Let $\mathcal{U}\in\mathcal{B}(H)$ be unitary. Then there exists hermitian $Q$ s.t. $\mathcal{U}=e^{iQ}$.
\end{theorem}

\begin{proof}
    By Corollary \ref{cor: spectrum hermitian, unitary}, $\sigma(u)\subseteqS^1$. Let $f:S^1\to \R$ be in $L_\infty(S^1)$ s.t. $e^{if(t)}=t$ for all $t\in S^1$. Let $Q=f(\mathcal{U})$. Then $Q$ is hermitian since $f$ is hermitian in $L_\infty(K)$. 
    $$
    \begin{array}{ll}
        \displaystyle\sum^n_{k=0}\frac{(if(t))^k}{k!}\to t, \quad \text{ uniformly on } S^1.\\
        \displaystyle\sum^n_{k=0}\frac{(iQ^)k}{k!}\to \mathcal{U},
    \end{array}
    $$
    i.e. $\mathcal{U}=e^{iQ}$.
\end{proof}

\begin{theorem}[Connectedness of $\mathcal{G}(\mathcal{B}(H))$]\label{thm: Connectedness of G(B(H))}
    Fix $T\in \mathcal{G}(\mathcal{B}(H))$. $T = \mathcal{R}\mathcal{U}$, $\mathcal{R}$ positive,  $\mathcal{U}$ unitary (Theorem \ref{thm: Polar decomposition}) where $\mathcal{R}, \mathcal{U}\in \mathcal{G}(\mathcal{B}(H))$.
\end{theorem}

\begin{proof}
    Since $\mathcal{R}$ is invertible, $\sigma(\mathcal{R})\subseteq(0,\infty)$. Let $\mathcal{S}=\log(\mathcal{R})= \displaystyle\int_{\sigma(\mathcal{R})} \log\lambda dP$ ($P$ is a roti of $H$ over $K$).\\
    $$
    e^{\mathcal{S}} = \displaystyle\lim_{n\to\infty}\displaystyle\sum^n_{k=0}\frac{(\mathcal{S})^k}{k!}=\displaystyle\lim_{n\to\infty}\overbrace{\displaystyle\sum^n_{k=0}\frac{(\log \lambda)^k}{k!}}^{\to \text{ uniformly on } \sigma(\mathcal{R})}(\mathcal{R}) = z(\mathcal{R}) = \mathcal{R}.
    $$
    So $T = e^{\mathcal{S}\cdot e^{iQ}}$. The map $[0,1]\to \mathcal{G}(\mathcal{B}(H)): t\mapsto e^{t\mathcal{S}}\cdot e^{itQ}$ is a continuous path from $\Id$ to $T$. Hence $\mathcal{G}(\mathcal{B}(H))$ is connected.
\end{proof}

\vspace{2cm}
\begin{center}
    \textbf{End of lecture course.}
\end{center}



\end{document}
